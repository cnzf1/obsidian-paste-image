/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var fA=Object.create;var ai=Object.defineProperty;var mA=Object.getOwnPropertyDescriptor;var gA=Object.getOwnPropertyNames;var yA=Object.getPrototypeOf,wA=Object.prototype.hasOwnProperty;var s=(t,e)=>ai(t,"name",{value:e,configurable:!0});var H=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Sd=(t,e)=>{for(var n in e)ai(t,n,{get:e[n],enumerable:!0})},Cd=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of gA(e))!wA.call(t,i)&&i!==n&&ai(t,i,{get:()=>e[i],enumerable:!(r=mA(e,i))||r.enumerable});return t};var We=(t,e,n)=>(n=t!=null?fA(yA(t)):{},Cd(e||!t||!t.__esModule?ai(n,"default",{value:t,enumerable:!0}):n,t)),bA=t=>Cd(ai({},"__esModule",{value:!0}),t);var pn=H((nl,fr)=>{(function(t,e){typeof nl=="object"&&typeof fr<"u"?fr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(nl,(function(){"use strict";var t;function e(){return t.apply(null,arguments)}s(e,"hooks");function n(o){t=o}s(n,"setHookCallback");function r(o){return o instanceof Array||Object.prototype.toString.call(o)==="[object Array]"}s(r,"isArray");function i(o){return o!=null&&Object.prototype.toString.call(o)==="[object Object]"}s(i,"isObject");function a(o,u){return Object.prototype.hasOwnProperty.call(o,u)}s(a,"hasOwnProp");function l(o){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(o).length===0;var u;for(u in o)if(a(o,u))return!1;return!0}s(l,"isObjectEmpty");function c(o){return o===void 0}s(c,"isUndefined");function d(o){return typeof o=="number"||Object.prototype.toString.call(o)==="[object Number]"}s(d,"isNumber");function h(o){return o instanceof Date||Object.prototype.toString.call(o)==="[object Date]"}s(h,"isDate");function f(o,u){var p=[],g,b=o.length;for(g=0;g<b;++g)p.push(u(o[g],g));return p}s(f,"map");function m(o,u){for(var p in u)a(u,p)&&(o[p]=u[p]);return a(u,"toString")&&(o.toString=u.toString),a(u,"valueOf")&&(o.valueOf=u.valueOf),o}s(m,"extend");function y(o,u,p,g){return td(o,u,p,g,!0).utc()}s(y,"createUTC");function w(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}s(w,"defaultParsingFlags");function S(o){return o._pf==null&&(o._pf=w()),o._pf}s(S,"getParsingFlags");var I;Array.prototype.some?I=Array.prototype.some:I=s(function(o){var u=Object(this),p=u.length>>>0,g;for(g=0;g<p;g++)if(g in u&&o.call(this,u[g],g,u))return!0;return!1},"some");function E(o){var u=null,p=!1,g=o._d&&!isNaN(o._d.getTime());if(g&&(u=S(o),p=I.call(u.parsedDateParts,function(b){return b!=null}),g=u.overflow<0&&!u.empty&&!u.invalidEra&&!u.invalidMonth&&!u.invalidWeekday&&!u.weekdayMismatch&&!u.nullInput&&!u.invalidFormat&&!u.userInvalidated&&(!u.meridiem||u.meridiem&&p),o._strict&&(g=g&&u.charsLeftOver===0&&u.unusedTokens.length===0&&u.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(o))o._isValid=g;else return g;return o._isValid}s(E,"isValid");function C(o){var u=y(NaN);return o!=null?m(S(u),o):S(u).userInvalidated=!0,u}s(C,"createInvalid");var T=e.momentProperties=[],O=!1;function N(o,u){var p,g,b,x=T.length;if(c(u._isAMomentObject)||(o._isAMomentObject=u._isAMomentObject),c(u._i)||(o._i=u._i),c(u._f)||(o._f=u._f),c(u._l)||(o._l=u._l),c(u._strict)||(o._strict=u._strict),c(u._tzm)||(o._tzm=u._tzm),c(u._isUTC)||(o._isUTC=u._isUTC),c(u._offset)||(o._offset=u._offset),c(u._pf)||(o._pf=S(u)),c(u._locale)||(o._locale=u._locale),x>0)for(p=0;p<x;p++)g=T[p],b=u[g],c(b)||(o[g]=b);return o}s(N,"copyConfig");function Y(o){N(this,o),this._d=new Date(o._d!=null?o._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),O===!1&&(O=!0,e.updateOffset(this),O=!1)}s(Y,"Moment");function F(o){return o instanceof Y||o!=null&&o._isAMomentObject!=null}s(F,"isMoment");function Z(o){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+o)}s(Z,"warn");function Q(o,u){var p=!0;return m(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,o),p){var g=[],b,x,P,B=arguments.length;for(x=0;x<B;x++){if(b="",typeof arguments[x]=="object"){b+=`
[`+x+"] ";for(P in arguments[0])a(arguments[0],P)&&(b+=P+": "+arguments[0][P]+", ");b=b.slice(0,-2)}else b=arguments[x];g.push(b)}Z(o+`
Arguments: `+Array.prototype.slice.call(g).join("")+`
`+new Error().stack),p=!1}return u.apply(this,arguments)},u)}s(Q,"deprecate");var K={};function ie(o,u){e.deprecationHandler!=null&&e.deprecationHandler(o,u),K[o]||(Z(u),K[o]=!0)}s(ie,"deprecateSimple"),e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function ge(o){return typeof Function<"u"&&o instanceof Function||Object.prototype.toString.call(o)==="[object Function]"}s(ge,"isFunction");function oe(o){var u,p;for(p in o)a(o,p)&&(u=o[p],ge(u)?this[p]=u:this["_"+p]=u);this._config=o,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}s(oe,"set");function L(o,u){var p=m({},o),g;for(g in u)a(u,g)&&(i(o[g])&&i(u[g])?(p[g]={},m(p[g],o[g]),m(p[g],u[g])):u[g]!=null?p[g]=u[g]:delete p[g]);for(g in o)a(o,g)&&!a(u,g)&&i(o[g])&&(p[g]=m({},p[g]));return p}s(L,"mergeConfigs");function j(o){o!=null&&this.set(o)}s(j,"Locale");var G;Object.keys?G=Object.keys:G=s(function(o){var u,p=[];for(u in o)a(o,u)&&p.push(u);return p},"keys");var te={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ue(o,u,p){var g=this._calendar[o]||this._calendar.sameElse;return ge(g)?g.call(u,p):g}s(ue,"calendar");function ye(o,u,p){var g=""+Math.abs(o),b=u-g.length,x=o>=0;return(x?p?"+":"":"-")+Math.pow(10,Math.max(0,b)).toString().substr(1)+g}s(ye,"zeroFill");var _e=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,v=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,pe={},Se={};function A(o,u,p,g){var b=g;typeof g=="string"&&(b=s(function(){return this[g]()},"func")),o&&(Se[o]=b),u&&(Se[u[0]]=function(){return ye(b.apply(this,arguments),u[1],u[2])}),p&&(Se[p]=function(){return this.localeData().ordinal(b.apply(this,arguments),o)})}s(A,"addFormatToken");function De(o){return o.match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"")}s(De,"removeFormattingTokens");function tn(o){var u=o.match(_e),p,g;for(p=0,g=u.length;p<g;p++)Se[u[p]]?u[p]=Se[u[p]]:u[p]=De(u[p]);return function(b){var x="",P;for(P=0;P<g;P++)x+=ge(u[P])?u[P].call(b,o):u[P];return x}}s(tn,"makeFormatFunction");function kn(o,u){return o.isValid()?(u=Bn(u,o.localeData()),pe[u]=pe[u]||tn(u),pe[u](o)):o.localeData().invalidDate()}s(kn,"formatMoment");function Bn(o,u){var p=5;function g(b){return u.longDateFormat(b)||b}for(s(g,"replaceLongDateFormatTokens"),v.lastIndex=0;p>=0&&v.test(o);)o=o.replace(v,g),v.lastIndex=0,p-=1;return o}s(Bn,"expandFormat");var Re={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function $n(o){var u=this._longDateFormat[o],p=this._longDateFormat[o.toUpperCase()];return u||!p?u:(this._longDateFormat[o]=p.match(_e).map(function(g){return g==="MMMM"||g==="MM"||g==="DD"||g==="dddd"?g.slice(1):g}).join(""),this._longDateFormat[o])}s($n,"longDateFormat");var Mt="Invalid date";function nn(){return this._invalidDate}s(nn,"invalidDate");var Sn="%d",Jr=/\d{1,2}/;function _o(o){return this._ordinal.replace("%d",o)}s(_o,"ordinal");var Hi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ji(o,u,p,g){var b=this._relativeTime[p];return ge(b)?b(o,u,p,g):b.replace(/%d/i,o)}s(ji,"relativeTime");function Gi(o,u){var p=this._relativeTime[o>0?"future":"past"];return ge(p)?p(u):p.replace(/%s/i,u)}s(Gi,"pastFuture");var qi={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function et(o){return typeof o=="string"?qi[o]||qi[o.toLowerCase()]:void 0}s(et,"normalizeUnits");function ar(o){var u={},p,g;for(g in o)a(o,g)&&(p=et(g),p&&(u[p]=o[g]));return u}s(ar,"normalizeObjectUnits");var Ro={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function No(o){var u=[],p;for(p in o)a(o,p)&&u.push({unit:p,priority:Ro[p]});return u.sort(function(g,b){return g.priority-b.priority}),u}s(No,"getPrioritizedUnits");var Ki=/\d/,tt=/\d\d/,Ji=/\d{3}/,M=/\d{4}/,R=/[+-]?\d{6}/,D=/\d\d?/,se=/\d\d\d\d?/,fe=/\d\d\d\d\d\d?/,je=/\d{1,3}/,Ot=/\d{1,4}/,ut=/[+-]?\d{1,6}/,bt=/\d+/,Wt=/[+-]?\d+/,nt=/Z|[+-]\d\d:?\d\d/gi,_t=/Z|[+-]\d\d(?::?\d\d)?/gi,Rt=/[+-]?\d+(\.\d{1,3})?/,Xr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,or=/^[1-9]\d?/,Lo=/^([1-9]\d|\d)/,Xi;Xi={};function U(o,u,p){Xi[o]=ge(u)?u:function(g,b){return g&&p?p:u}}s(U,"addRegexToken");function Ny(o,u){return a(Xi,o)?Xi[o](u._strict,u._locale):new RegExp(Ly(o))}s(Ny,"getParseRegexForToken");function Ly(o){return rn(o.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(u,p,g,b,x){return p||g||b||x}))}s(Ly,"unescapeFormat");function rn(o){return o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}s(rn,"regexEscape");function At(o){return o<0?Math.ceil(o)||0:Math.floor(o)}s(At,"absFloor");function ae(o){var u=+o,p=0;return u!==0&&isFinite(u)&&(p=At(u)),p}s(ae,"toInt");var Do={};function we(o,u){var p,g=u,b;for(typeof o=="string"&&(o=[o]),d(u)&&(g=s(function(x,P){P[u]=ae(x)},"func")),b=o.length,p=0;p<b;p++)Do[o[p]]=g}s(we,"addParseToken");function Zr(o,u){we(o,function(p,g,b,x){b._w=b._w||{},u(p,b._w,b,x)})}s(Zr,"addWeekParseToken");function Dy(o,u,p){u!=null&&a(Do,o)&&Do[o](u,p._a,p,o)}s(Dy,"addTimeToArrayFromToken");function Zi(o){return o%4===0&&o%100!==0||o%400===0}s(Zi,"isLeapYear");var Ge=0,sn=1,zt=2,Ne=3,Nt=4,an=5,Vn=6,By=7,$y=8;A("Y",0,0,function(){var o=this.year();return o<=9999?ye(o,4):"+"+o}),A(0,["YY",2],0,function(){return this.year()%100}),A(0,["YYYY",4],0,"year"),A(0,["YYYYY",5],0,"year"),A(0,["YYYYYY",6,!0],0,"year"),U("Y",Wt),U("YY",D,tt),U("YYYY",Ot,M),U("YYYYY",ut,R),U("YYYYYY",ut,R),we(["YYYYY","YYYYYY"],Ge),we("YYYY",function(o,u){u[Ge]=o.length===2?e.parseTwoDigitYear(o):ae(o)}),we("YY",function(o,u){u[Ge]=e.parseTwoDigitYear(o)}),we("Y",function(o,u){u[Ge]=parseInt(o,10)});function Qr(o){return Zi(o)?366:365}s(Qr,"daysInYear"),e.parseTwoDigitYear=function(o){return ae(o)+(ae(o)>68?1900:2e3)};var $u=lr("FullYear",!0);function Vy(){return Zi(this.year())}s(Vy,"getIsLeapYear");function lr(o,u){return function(p){return p!=null?(Vu(this,o,p),e.updateOffset(this,u),this):ei(this,o)}}s(lr,"makeGetSet");function ei(o,u){if(!o.isValid())return NaN;var p=o._d,g=o._isUTC;switch(u){case"Milliseconds":return g?p.getUTCMilliseconds():p.getMilliseconds();case"Seconds":return g?p.getUTCSeconds():p.getSeconds();case"Minutes":return g?p.getUTCMinutes():p.getMinutes();case"Hours":return g?p.getUTCHours():p.getHours();case"Date":return g?p.getUTCDate():p.getDate();case"Day":return g?p.getUTCDay():p.getDay();case"Month":return g?p.getUTCMonth():p.getMonth();case"FullYear":return g?p.getUTCFullYear():p.getFullYear();default:return NaN}}s(ei,"get");function Vu(o,u,p){var g,b,x,P,B;if(!(!o.isValid()||isNaN(p))){switch(g=o._d,b=o._isUTC,u){case"Milliseconds":return void(b?g.setUTCMilliseconds(p):g.setMilliseconds(p));case"Seconds":return void(b?g.setUTCSeconds(p):g.setSeconds(p));case"Minutes":return void(b?g.setUTCMinutes(p):g.setMinutes(p));case"Hours":return void(b?g.setUTCHours(p):g.setHours(p));case"Date":return void(b?g.setUTCDate(p):g.setDate(p));case"FullYear":break;default:return}x=p,P=o.month(),B=o.date(),B=B===29&&P===1&&!Zi(x)?28:B,b?g.setUTCFullYear(x,P,B):g.setFullYear(x,P,B)}}s(Vu,"set$1");function Uy(o){return o=et(o),ge(this[o])?this[o]():this}s(Uy,"stringGet");function Wy(o,u){if(typeof o=="object"){o=ar(o);var p=No(o),g,b=p.length;for(g=0;g<b;g++)this[p[g].unit](o[p[g].unit])}else if(o=et(o),ge(this[o]))return this[o](u);return this}s(Wy,"stringSet");function zy(o,u){return(o%u+u)%u}s(zy,"mod");var Ie;Array.prototype.indexOf?Ie=Array.prototype.indexOf:Ie=s(function(o){var u;for(u=0;u<this.length;++u)if(this[u]===o)return u;return-1},"indexOf");function Bo(o,u){if(isNaN(o)||isNaN(u))return NaN;var p=zy(u,12);return o+=(u-p)/12,p===1?Zi(o)?29:28:31-p%7%2}s(Bo,"daysInMonth"),A("M",["MM",2],"Mo",function(){return this.month()+1}),A("MMM",0,0,function(o){return this.localeData().monthsShort(this,o)}),A("MMMM",0,0,function(o){return this.localeData().months(this,o)}),U("M",D,or),U("MM",D,tt),U("MMM",function(o,u){return u.monthsShortRegex(o)}),U("MMMM",function(o,u){return u.monthsRegex(o)}),we(["M","MM"],function(o,u){u[sn]=ae(o)-1}),we(["MMM","MMMM"],function(o,u,p,g){var b=p._locale.monthsParse(o,g,p._strict);b!=null?u[sn]=b:S(p).invalidMonth=o});var Yy="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Uu="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Wu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Hy=Xr,jy=Xr;function Gy(o,u){return o?r(this._months)?this._months[o.month()]:this._months[(this._months.isFormat||Wu).test(u)?"format":"standalone"][o.month()]:r(this._months)?this._months:this._months.standalone}s(Gy,"localeMonths");function qy(o,u){return o?r(this._monthsShort)?this._monthsShort[o.month()]:this._monthsShort[Wu.test(u)?"format":"standalone"][o.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}s(qy,"localeMonthsShort");function Ky(o,u,p){var g,b,x,P=o.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],g=0;g<12;++g)x=y([2e3,g]),this._shortMonthsParse[g]=this.monthsShort(x,"").toLocaleLowerCase(),this._longMonthsParse[g]=this.months(x,"").toLocaleLowerCase();return p?u==="MMM"?(b=Ie.call(this._shortMonthsParse,P),b!==-1?b:null):(b=Ie.call(this._longMonthsParse,P),b!==-1?b:null):u==="MMM"?(b=Ie.call(this._shortMonthsParse,P),b!==-1?b:(b=Ie.call(this._longMonthsParse,P),b!==-1?b:null)):(b=Ie.call(this._longMonthsParse,P),b!==-1?b:(b=Ie.call(this._shortMonthsParse,P),b!==-1?b:null))}s(Ky,"handleStrictParse");function Jy(o,u,p){var g,b,x;if(this._monthsParseExact)return Ky.call(this,o,u,p);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),g=0;g<12;g++){if(b=y([2e3,g]),p&&!this._longMonthsParse[g]&&(this._longMonthsParse[g]=new RegExp("^"+this.months(b,"").replace(".","")+"$","i"),this._shortMonthsParse[g]=new RegExp("^"+this.monthsShort(b,"").replace(".","")+"$","i")),!p&&!this._monthsParse[g]&&(x="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[g]=new RegExp(x.replace(".",""),"i")),p&&u==="MMMM"&&this._longMonthsParse[g].test(o))return g;if(p&&u==="MMM"&&this._shortMonthsParse[g].test(o))return g;if(!p&&this._monthsParse[g].test(o))return g}}s(Jy,"localeMonthsParse");function zu(o,u){if(!o.isValid())return o;if(typeof u=="string"){if(/^\d+$/.test(u))u=ae(u);else if(u=o.localeData().monthsParse(u),!d(u))return o}var p=u,g=o.date();return g=g<29?g:Math.min(g,Bo(o.year(),p)),o._isUTC?o._d.setUTCMonth(p,g):o._d.setMonth(p,g),o}s(zu,"setMonth");function Yu(o){return o!=null?(zu(this,o),e.updateOffset(this,!0),this):ei(this,"Month")}s(Yu,"getSetMonth");function Xy(){return Bo(this.year(),this.month())}s(Xy,"getDaysInMonth");function Zy(o){return this._monthsParseExact?(a(this,"_monthsRegex")||Hu.call(this),o?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Hy),this._monthsShortStrictRegex&&o?this._monthsShortStrictRegex:this._monthsShortRegex)}s(Zy,"monthsShortRegex");function Qy(o){return this._monthsParseExact?(a(this,"_monthsRegex")||Hu.call(this),o?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=jy),this._monthsStrictRegex&&o?this._monthsStrictRegex:this._monthsRegex)}s(Qy,"monthsRegex");function Hu(){function o(J,le){return le.length-J.length}s(o,"cmpLenRev");var u=[],p=[],g=[],b,x,P,B;for(b=0;b<12;b++)x=y([2e3,b]),P=rn(this.monthsShort(x,"")),B=rn(this.months(x,"")),u.push(P),p.push(B),g.push(B),g.push(P);u.sort(o),p.sort(o),g.sort(o),this._monthsRegex=new RegExp("^("+g.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+u.join("|")+")","i")}s(Hu,"computeMonthsParse");function ew(o,u,p,g,b,x,P){var B;return o<100&&o>=0?(B=new Date(o+400,u,p,g,b,x,P),isFinite(B.getFullYear())&&B.setFullYear(o)):B=new Date(o,u,p,g,b,x,P),B}s(ew,"createDate");function ti(o){var u,p;return o<100&&o>=0?(p=Array.prototype.slice.call(arguments),p[0]=o+400,u=new Date(Date.UTC.apply(null,p)),isFinite(u.getUTCFullYear())&&u.setUTCFullYear(o)):u=new Date(Date.UTC.apply(null,arguments)),u}s(ti,"createUTCDate");function Qi(o,u,p){var g=7+u-p,b=(7+ti(o,0,g).getUTCDay()-u)%7;return-b+g-1}s(Qi,"firstWeekOffset");function ju(o,u,p,g,b){var x=(7+p-g)%7,P=Qi(o,g,b),B=1+7*(u-1)+x+P,J,le;return B<=0?(J=o-1,le=Qr(J)+B):B>Qr(o)?(J=o+1,le=B-Qr(o)):(J=o,le=B),{year:J,dayOfYear:le}}s(ju,"dayOfYearFromWeeks");function ni(o,u,p){var g=Qi(o.year(),u,p),b=Math.floor((o.dayOfYear()-g-1)/7)+1,x,P;return b<1?(P=o.year()-1,x=b+on(P,u,p)):b>on(o.year(),u,p)?(x=b-on(o.year(),u,p),P=o.year()+1):(P=o.year(),x=b),{week:x,year:P}}s(ni,"weekOfYear");function on(o,u,p){var g=Qi(o,u,p),b=Qi(o+1,u,p);return(Qr(o)-g+b)/7}s(on,"weeksInYear"),A("w",["ww",2],"wo","week"),A("W",["WW",2],"Wo","isoWeek"),U("w",D,or),U("ww",D,tt),U("W",D,or),U("WW",D,tt),Zr(["w","ww","W","WW"],function(o,u,p,g){u[g.substr(0,1)]=ae(o)});function tw(o){return ni(o,this._week.dow,this._week.doy).week}s(tw,"localeWeek");var nw={dow:0,doy:6};function rw(){return this._week.dow}s(rw,"localeFirstDayOfWeek");function iw(){return this._week.doy}s(iw,"localeFirstDayOfYear");function sw(o){var u=this.localeData().week(this);return o==null?u:this.add((o-u)*7,"d")}s(sw,"getSetWeek");function aw(o){var u=ni(this,1,4).week;return o==null?u:this.add((o-u)*7,"d")}s(aw,"getSetISOWeek"),A("d",0,"do","day"),A("dd",0,0,function(o){return this.localeData().weekdaysMin(this,o)}),A("ddd",0,0,function(o){return this.localeData().weekdaysShort(this,o)}),A("dddd",0,0,function(o){return this.localeData().weekdays(this,o)}),A("e",0,0,"weekday"),A("E",0,0,"isoWeekday"),U("d",D),U("e",D),U("E",D),U("dd",function(o,u){return u.weekdaysMinRegex(o)}),U("ddd",function(o,u){return u.weekdaysShortRegex(o)}),U("dddd",function(o,u){return u.weekdaysRegex(o)}),Zr(["dd","ddd","dddd"],function(o,u,p,g){var b=p._locale.weekdaysParse(o,g,p._strict);b!=null?u.d=b:S(p).invalidWeekday=o}),Zr(["d","e","E"],function(o,u,p,g){u[g]=ae(o)});function ow(o,u){return typeof o!="string"?o:isNaN(o)?(o=u.weekdaysParse(o),typeof o=="number"?o:null):parseInt(o,10)}s(ow,"parseWeekday");function lw(o,u){return typeof o=="string"?u.weekdaysParse(o)%7||7:isNaN(o)?null:o}s(lw,"parseIsoWeekday");function $o(o,u){return o.slice(u,7).concat(o.slice(0,u))}s($o,"shiftWeekdays");var cw="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Gu="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),uw="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),dw=Xr,hw=Xr,pw=Xr;function fw(o,u){var p=r(this._weekdays)?this._weekdays:this._weekdays[o&&o!==!0&&this._weekdays.isFormat.test(u)?"format":"standalone"];return o===!0?$o(p,this._week.dow):o?p[o.day()]:p}s(fw,"localeWeekdays");function mw(o){return o===!0?$o(this._weekdaysShort,this._week.dow):o?this._weekdaysShort[o.day()]:this._weekdaysShort}s(mw,"localeWeekdaysShort");function gw(o){return o===!0?$o(this._weekdaysMin,this._week.dow):o?this._weekdaysMin[o.day()]:this._weekdaysMin}s(gw,"localeWeekdaysMin");function yw(o,u,p){var g,b,x,P=o.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],g=0;g<7;++g)x=y([2e3,1]).day(g),this._minWeekdaysParse[g]=this.weekdaysMin(x,"").toLocaleLowerCase(),this._shortWeekdaysParse[g]=this.weekdaysShort(x,"").toLocaleLowerCase(),this._weekdaysParse[g]=this.weekdays(x,"").toLocaleLowerCase();return p?u==="dddd"?(b=Ie.call(this._weekdaysParse,P),b!==-1?b:null):u==="ddd"?(b=Ie.call(this._shortWeekdaysParse,P),b!==-1?b:null):(b=Ie.call(this._minWeekdaysParse,P),b!==-1?b:null):u==="dddd"?(b=Ie.call(this._weekdaysParse,P),b!==-1||(b=Ie.call(this._shortWeekdaysParse,P),b!==-1)?b:(b=Ie.call(this._minWeekdaysParse,P),b!==-1?b:null)):u==="ddd"?(b=Ie.call(this._shortWeekdaysParse,P),b!==-1||(b=Ie.call(this._weekdaysParse,P),b!==-1)?b:(b=Ie.call(this._minWeekdaysParse,P),b!==-1?b:null)):(b=Ie.call(this._minWeekdaysParse,P),b!==-1||(b=Ie.call(this._weekdaysParse,P),b!==-1)?b:(b=Ie.call(this._shortWeekdaysParse,P),b!==-1?b:null))}s(yw,"handleStrictParse$1");function ww(o,u,p){var g,b,x;if(this._weekdaysParseExact)return yw.call(this,o,u,p);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),g=0;g<7;g++){if(b=y([2e3,1]).day(g),p&&!this._fullWeekdaysParse[g]&&(this._fullWeekdaysParse[g]=new RegExp("^"+this.weekdays(b,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[g]=new RegExp("^"+this.weekdaysShort(b,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[g]=new RegExp("^"+this.weekdaysMin(b,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[g]||(x="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[g]=new RegExp(x.replace(".",""),"i")),p&&u==="dddd"&&this._fullWeekdaysParse[g].test(o))return g;if(p&&u==="ddd"&&this._shortWeekdaysParse[g].test(o))return g;if(p&&u==="dd"&&this._minWeekdaysParse[g].test(o))return g;if(!p&&this._weekdaysParse[g].test(o))return g}}s(ww,"localeWeekdaysParse");function bw(o){if(!this.isValid())return o!=null?this:NaN;var u=ei(this,"Day");return o!=null?(o=ow(o,this.localeData()),this.add(o-u,"d")):u}s(bw,"getSetDayOfWeek");function Aw(o){if(!this.isValid())return o!=null?this:NaN;var u=(this.day()+7-this.localeData()._week.dow)%7;return o==null?u:this.add(o-u,"d")}s(Aw,"getSetLocaleDayOfWeek");function xw(o){if(!this.isValid())return o!=null?this:NaN;if(o!=null){var u=lw(o,this.localeData());return this.day(this.day()%7?u:u-7)}else return this.day()||7}s(xw,"getSetISODayOfWeek");function vw(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Vo.call(this),o?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=dw),this._weekdaysStrictRegex&&o?this._weekdaysStrictRegex:this._weekdaysRegex)}s(vw,"weekdaysRegex");function kw(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Vo.call(this),o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=hw),this._weekdaysShortStrictRegex&&o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}s(kw,"weekdaysShortRegex");function Sw(o){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Vo.call(this),o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=pw),this._weekdaysMinStrictRegex&&o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}s(Sw,"weekdaysMinRegex");function Vo(){function o(rt,hn){return hn.length-rt.length}s(o,"cmpLenRev");var u=[],p=[],g=[],b=[],x,P,B,J,le;for(x=0;x<7;x++)P=y([2e3,1]).day(x),B=rn(this.weekdaysMin(P,"")),J=rn(this.weekdaysShort(P,"")),le=rn(this.weekdays(P,"")),u.push(B),p.push(J),g.push(le),b.push(B),b.push(J),b.push(le);u.sort(o),p.sort(o),g.sort(o),b.sort(o),this._weekdaysRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+u.join("|")+")","i")}s(Vo,"computeWeekdaysParse");function Uo(){return this.hours()%12||12}s(Uo,"hFormat");function Cw(){return this.hours()||24}s(Cw,"kFormat"),A("H",["HH",2],0,"hour"),A("h",["hh",2],0,Uo),A("k",["kk",2],0,Cw),A("hmm",0,0,function(){return""+Uo.apply(this)+ye(this.minutes(),2)}),A("hmmss",0,0,function(){return""+Uo.apply(this)+ye(this.minutes(),2)+ye(this.seconds(),2)}),A("Hmm",0,0,function(){return""+this.hours()+ye(this.minutes(),2)}),A("Hmmss",0,0,function(){return""+this.hours()+ye(this.minutes(),2)+ye(this.seconds(),2)});function qu(o,u){A(o,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),u)})}s(qu,"meridiem"),qu("a",!0),qu("A",!1);function Ku(o,u){return u._meridiemParse}s(Ku,"matchMeridiem"),U("a",Ku),U("A",Ku),U("H",D,Lo),U("h",D,or),U("k",D,or),U("HH",D,tt),U("hh",D,tt),U("kk",D,tt),U("hmm",se),U("hmmss",fe),U("Hmm",se),U("Hmmss",fe),we(["H","HH"],Ne),we(["k","kk"],function(o,u,p){var g=ae(o);u[Ne]=g===24?0:g}),we(["a","A"],function(o,u,p){p._isPm=p._locale.isPM(o),p._meridiem=o}),we(["h","hh"],function(o,u,p){u[Ne]=ae(o),S(p).bigHour=!0}),we("hmm",function(o,u,p){var g=o.length-2;u[Ne]=ae(o.substr(0,g)),u[Nt]=ae(o.substr(g)),S(p).bigHour=!0}),we("hmmss",function(o,u,p){var g=o.length-4,b=o.length-2;u[Ne]=ae(o.substr(0,g)),u[Nt]=ae(o.substr(g,2)),u[an]=ae(o.substr(b)),S(p).bigHour=!0}),we("Hmm",function(o,u,p){var g=o.length-2;u[Ne]=ae(o.substr(0,g)),u[Nt]=ae(o.substr(g))}),we("Hmmss",function(o,u,p){var g=o.length-4,b=o.length-2;u[Ne]=ae(o.substr(0,g)),u[Nt]=ae(o.substr(g,2)),u[an]=ae(o.substr(b))});function Ew(o){return(o+"").toLowerCase().charAt(0)==="p"}s(Ew,"localeIsPM");var Tw=/[ap]\.?m?\.?/i,Fw=lr("Hours",!0);function Pw(o,u,p){return o>11?p?"pm":"PM":p?"am":"AM"}s(Pw,"localeMeridiem");var Ju={calendar:te,longDateFormat:Re,invalidDate:Mt,ordinal:Sn,dayOfMonthOrdinalParse:Jr,relativeTime:Hi,months:Yy,monthsShort:Uu,week:nw,weekdays:cw,weekdaysMin:uw,weekdaysShort:Gu,meridiemParse:Tw},Ce={},ri={},ii;function Iw(o,u){var p,g=Math.min(o.length,u.length);for(p=0;p<g;p+=1)if(o[p]!==u[p])return p;return g}s(Iw,"commonPrefix");function Xu(o){return o&&o.toLowerCase().replace("_","-")}s(Xu,"normalizeLocale");function Mw(o){for(var u=0,p,g,b,x;u<o.length;){for(x=Xu(o[u]).split("-"),p=x.length,g=Xu(o[u+1]),g=g?g.split("-"):null;p>0;){if(b=es(x.slice(0,p).join("-")),b)return b;if(g&&g.length>=p&&Iw(x,g)>=p-1)break;p--}u++}return ii}s(Mw,"chooseLocale");function Ow(o){return!!(o&&o.match("^[^/\\\\]*$"))}s(Ow,"isLocaleNameSane");function es(o){var u=null,p;if(Ce[o]===void 0&&typeof fr<"u"&&fr&&fr.exports&&Ow(o))try{u=ii._abbr,p=require,p("./locale/"+o),Cn(u)}catch{Ce[o]=null}return Ce[o]}s(es,"loadLocale");function Cn(o,u){var p;return o&&(c(u)?p=ln(o):p=Wo(o,u),p?ii=p:typeof console<"u"&&console.warn&&console.warn("Locale "+o+" not found. Did you forget to load it?")),ii._abbr}s(Cn,"getSetGlobalLocale");function Wo(o,u){if(u!==null){var p,g=Ju;if(u.abbr=o,Ce[o]!=null)ie("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),g=Ce[o]._config;else if(u.parentLocale!=null)if(Ce[u.parentLocale]!=null)g=Ce[u.parentLocale]._config;else if(p=es(u.parentLocale),p!=null)g=p._config;else return ri[u.parentLocale]||(ri[u.parentLocale]=[]),ri[u.parentLocale].push({name:o,config:u}),null;return Ce[o]=new j(L(g,u)),ri[o]&&ri[o].forEach(function(b){Wo(b.name,b.config)}),Cn(o),Ce[o]}else return delete Ce[o],null}s(Wo,"defineLocale");function _w(o,u){if(u!=null){var p,g,b=Ju;Ce[o]!=null&&Ce[o].parentLocale!=null?Ce[o].set(L(Ce[o]._config,u)):(g=es(o),g!=null&&(b=g._config),u=L(b,u),g==null&&(u.abbr=o),p=new j(u),p.parentLocale=Ce[o],Ce[o]=p),Cn(o)}else Ce[o]!=null&&(Ce[o].parentLocale!=null?(Ce[o]=Ce[o].parentLocale,o===Cn()&&Cn(o)):Ce[o]!=null&&delete Ce[o]);return Ce[o]}s(_w,"updateLocale");function ln(o){var u;if(o&&o._locale&&o._locale._abbr&&(o=o._locale._abbr),!o)return ii;if(!r(o)){if(u=es(o),u)return u;o=[o]}return Mw(o)}s(ln,"getLocale");function Rw(){return G(Ce)}s(Rw,"listLocales");function zo(o){var u,p=o._a;return p&&S(o).overflow===-2&&(u=p[sn]<0||p[sn]>11?sn:p[zt]<1||p[zt]>Bo(p[Ge],p[sn])?zt:p[Ne]<0||p[Ne]>24||p[Ne]===24&&(p[Nt]!==0||p[an]!==0||p[Vn]!==0)?Ne:p[Nt]<0||p[Nt]>59?Nt:p[an]<0||p[an]>59?an:p[Vn]<0||p[Vn]>999?Vn:-1,S(o)._overflowDayOfYear&&(u<Ge||u>zt)&&(u=zt),S(o)._overflowWeeks&&u===-1&&(u=By),S(o)._overflowWeekday&&u===-1&&(u=$y),S(o).overflow=u),o}s(zo,"checkOverflow");var Nw=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Lw=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Dw=/Z|[+-]\d\d(?::?\d\d)?/,ts=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Yo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Bw=/^\/?Date\((-?\d+)/i,$w=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Vw={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Zu(o){var u,p,g=o._i,b=Nw.exec(g)||Lw.exec(g),x,P,B,J,le=ts.length,rt=Yo.length;if(b){for(S(o).iso=!0,u=0,p=le;u<p;u++)if(ts[u][1].exec(b[1])){P=ts[u][0],x=ts[u][2]!==!1;break}if(P==null){o._isValid=!1;return}if(b[3]){for(u=0,p=rt;u<p;u++)if(Yo[u][1].exec(b[3])){B=(b[2]||" ")+Yo[u][0];break}if(B==null){o._isValid=!1;return}}if(!x&&B!=null){o._isValid=!1;return}if(b[4])if(Dw.exec(b[4]))J="Z";else{o._isValid=!1;return}o._f=P+(B||"")+(J||""),jo(o)}else o._isValid=!1}s(Zu,"configFromISO");function Uw(o,u,p,g,b,x){var P=[Ww(o),Uu.indexOf(u),parseInt(p,10),parseInt(g,10),parseInt(b,10)];return x&&P.push(parseInt(x,10)),P}s(Uw,"extractFromRFC2822Strings");function Ww(o){var u=parseInt(o,10);return u<=49?2e3+u:u<=999?1900+u:u}s(Ww,"untruncateYear");function zw(o){return o.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}s(zw,"preprocessRFC2822");function Yw(o,u,p){if(o){var g=Gu.indexOf(o),b=new Date(u[0],u[1],u[2]).getDay();if(g!==b)return S(p).weekdayMismatch=!0,p._isValid=!1,!1}return!0}s(Yw,"checkWeekday");function Hw(o,u,p){if(o)return Vw[o];if(u)return 0;var g=parseInt(p,10),b=g%100,x=(g-b)/100;return x*60+b}s(Hw,"calculateOffset");function Qu(o){var u=$w.exec(zw(o._i)),p;if(u){if(p=Uw(u[4],u[3],u[2],u[5],u[6],u[7]),!Yw(u[1],p,o))return;o._a=p,o._tzm=Hw(u[8],u[9],u[10]),o._d=ti.apply(null,o._a),o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),S(o).rfc2822=!0}else o._isValid=!1}s(Qu,"configFromRFC2822");function jw(o){var u=Bw.exec(o._i);if(u!==null){o._d=new Date(+u[1]);return}if(Zu(o),o._isValid===!1)delete o._isValid;else return;if(Qu(o),o._isValid===!1)delete o._isValid;else return;o._strict?o._isValid=!1:e.createFromInputFallback(o)}s(jw,"configFromString"),e.createFromInputFallback=Q("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(o){o._d=new Date(o._i+(o._useUTC?" UTC":""))});function cr(o,u,p){return o??u??p}s(cr,"defaults");function Gw(o){var u=new Date(e.now());return o._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()]}s(Gw,"currentDateArray");function Ho(o){var u,p,g=[],b,x,P;if(!o._d){for(b=Gw(o),o._w&&o._a[zt]==null&&o._a[sn]==null&&qw(o),o._dayOfYear!=null&&(P=cr(o._a[Ge],b[Ge]),(o._dayOfYear>Qr(P)||o._dayOfYear===0)&&(S(o)._overflowDayOfYear=!0),p=ti(P,0,o._dayOfYear),o._a[sn]=p.getUTCMonth(),o._a[zt]=p.getUTCDate()),u=0;u<3&&o._a[u]==null;++u)o._a[u]=g[u]=b[u];for(;u<7;u++)o._a[u]=g[u]=o._a[u]==null?u===2?1:0:o._a[u];o._a[Ne]===24&&o._a[Nt]===0&&o._a[an]===0&&o._a[Vn]===0&&(o._nextDay=!0,o._a[Ne]=0),o._d=(o._useUTC?ti:ew).apply(null,g),x=o._useUTC?o._d.getUTCDay():o._d.getDay(),o._tzm!=null&&o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),o._nextDay&&(o._a[Ne]=24),o._w&&typeof o._w.d<"u"&&o._w.d!==x&&(S(o).weekdayMismatch=!0)}}s(Ho,"configFromArray");function qw(o){var u,p,g,b,x,P,B,J,le;u=o._w,u.GG!=null||u.W!=null||u.E!=null?(x=1,P=4,p=cr(u.GG,o._a[Ge],ni(xe(),1,4).year),g=cr(u.W,1),b=cr(u.E,1),(b<1||b>7)&&(J=!0)):(x=o._locale._week.dow,P=o._locale._week.doy,le=ni(xe(),x,P),p=cr(u.gg,o._a[Ge],le.year),g=cr(u.w,le.week),u.d!=null?(b=u.d,(b<0||b>6)&&(J=!0)):u.e!=null?(b=u.e+x,(u.e<0||u.e>6)&&(J=!0)):b=x),g<1||g>on(p,x,P)?S(o)._overflowWeeks=!0:J!=null?S(o)._overflowWeekday=!0:(B=ju(p,g,b,x,P),o._a[Ge]=B.year,o._dayOfYear=B.dayOfYear)}s(qw,"dayOfYearFromWeekInfo"),e.ISO_8601=function(){},e.RFC_2822=function(){};function jo(o){if(o._f===e.ISO_8601){Zu(o);return}if(o._f===e.RFC_2822){Qu(o);return}o._a=[],S(o).empty=!0;var u=""+o._i,p,g,b,x,P,B=u.length,J=0,le,rt;for(b=Bn(o._f,o._locale).match(_e)||[],rt=b.length,p=0;p<rt;p++)x=b[p],g=(u.match(Ny(x,o))||[])[0],g&&(P=u.substr(0,u.indexOf(g)),P.length>0&&S(o).unusedInput.push(P),u=u.slice(u.indexOf(g)+g.length),J+=g.length),Se[x]?(g?S(o).empty=!1:S(o).unusedTokens.push(x),Dy(x,g,o)):o._strict&&!g&&S(o).unusedTokens.push(x);S(o).charsLeftOver=B-J,u.length>0&&S(o).unusedInput.push(u),o._a[Ne]<=12&&S(o).bigHour===!0&&o._a[Ne]>0&&(S(o).bigHour=void 0),S(o).parsedDateParts=o._a.slice(0),S(o).meridiem=o._meridiem,o._a[Ne]=Kw(o._locale,o._a[Ne],o._meridiem),le=S(o).era,le!==null&&(o._a[Ge]=o._locale.erasConvertYear(le,o._a[Ge])),Ho(o),zo(o)}s(jo,"configFromStringAndFormat");function Kw(o,u,p){var g;return p==null?u:o.meridiemHour!=null?o.meridiemHour(u,p):(o.isPM!=null&&(g=o.isPM(p),g&&u<12&&(u+=12),!g&&u===12&&(u=0)),u)}s(Kw,"meridiemFixWrap");function Jw(o){var u,p,g,b,x,P,B=!1,J=o._f.length;if(J===0){S(o).invalidFormat=!0,o._d=new Date(NaN);return}for(b=0;b<J;b++)x=0,P=!1,u=N({},o),o._useUTC!=null&&(u._useUTC=o._useUTC),u._f=o._f[b],jo(u),E(u)&&(P=!0),x+=S(u).charsLeftOver,x+=S(u).unusedTokens.length*10,S(u).score=x,B?x<g&&(g=x,p=u):(g==null||x<g||P)&&(g=x,p=u,P&&(B=!0));m(o,p||u)}s(Jw,"configFromStringAndArray");function Xw(o){if(!o._d){var u=ar(o._i),p=u.day===void 0?u.date:u.day;o._a=f([u.year,u.month,p,u.hour,u.minute,u.second,u.millisecond],function(g){return g&&parseInt(g,10)}),Ho(o)}}s(Xw,"configFromObject");function Zw(o){var u=new Y(zo(ed(o)));return u._nextDay&&(u.add(1,"d"),u._nextDay=void 0),u}s(Zw,"createFromConfig");function ed(o){var u=o._i,p=o._f;return o._locale=o._locale||ln(o._l),u===null||p===void 0&&u===""?C({nullInput:!0}):(typeof u=="string"&&(o._i=u=o._locale.preparse(u)),F(u)?new Y(zo(u)):(h(u)?o._d=u:r(p)?Jw(o):p?jo(o):Qw(o),E(o)||(o._d=null),o))}s(ed,"prepareConfig");function Qw(o){var u=o._i;c(u)?o._d=new Date(e.now()):h(u)?o._d=new Date(u.valueOf()):typeof u=="string"?jw(o):r(u)?(o._a=f(u.slice(0),function(p){return parseInt(p,10)}),Ho(o)):i(u)?Xw(o):d(u)?o._d=new Date(u):e.createFromInputFallback(o)}s(Qw,"configFromInput");function td(o,u,p,g,b){var x={};return(u===!0||u===!1)&&(g=u,u=void 0),(p===!0||p===!1)&&(g=p,p=void 0),(i(o)&&l(o)||r(o)&&o.length===0)&&(o=void 0),x._isAMomentObject=!0,x._useUTC=x._isUTC=b,x._l=p,x._i=o,x._f=u,x._strict=g,Zw(x)}s(td,"createLocalOrUTC");function xe(o,u,p,g){return td(o,u,p,g,!1)}s(xe,"createLocal");var e0=Q("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=xe.apply(null,arguments);return this.isValid()&&o.isValid()?o<this?this:o:C()}),t0=Q("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=xe.apply(null,arguments);return this.isValid()&&o.isValid()?o>this?this:o:C()});function nd(o,u){var p,g;if(u.length===1&&r(u[0])&&(u=u[0]),!u.length)return xe();for(p=u[0],g=1;g<u.length;++g)(!u[g].isValid()||u[g][o](p))&&(p=u[g]);return p}s(nd,"pickBy");function n0(){var o=[].slice.call(arguments,0);return nd("isBefore",o)}s(n0,"min");function r0(){var o=[].slice.call(arguments,0);return nd("isAfter",o)}s(r0,"max");var i0=s(function(){return Date.now?Date.now():+new Date},"now"),si=["year","quarter","month","week","day","hour","minute","second","millisecond"];function s0(o){var u,p=!1,g,b=si.length;for(u in o)if(a(o,u)&&!(Ie.call(si,u)!==-1&&(o[u]==null||!isNaN(o[u]))))return!1;for(g=0;g<b;++g)if(o[si[g]]){if(p)return!1;parseFloat(o[si[g]])!==ae(o[si[g]])&&(p=!0)}return!0}s(s0,"isDurationValid");function a0(){return this._isValid}s(a0,"isValid$1");function o0(){return Lt(NaN)}s(o0,"createInvalid$1");function ns(o){var u=ar(o),p=u.year||0,g=u.quarter||0,b=u.month||0,x=u.week||u.isoWeek||0,P=u.day||0,B=u.hour||0,J=u.minute||0,le=u.second||0,rt=u.millisecond||0;this._isValid=s0(u),this._milliseconds=+rt+le*1e3+J*6e4+B*1e3*60*60,this._days=+P+x*7,this._months=+b+g*3+p*12,this._data={},this._locale=ln(),this._bubble()}s(ns,"Duration");function rs(o){return o instanceof ns}s(rs,"isDuration");function Go(o){return o<0?Math.round(-1*o)*-1:Math.round(o)}s(Go,"absRound");function l0(o,u,p){var g=Math.min(o.length,u.length),b=Math.abs(o.length-u.length),x=0,P;for(P=0;P<g;P++)(p&&o[P]!==u[P]||!p&&ae(o[P])!==ae(u[P]))&&x++;return x+b}s(l0,"compareArrays");function rd(o,u){A(o,0,0,function(){var p=this.utcOffset(),g="+";return p<0&&(p=-p,g="-"),g+ye(~~(p/60),2)+u+ye(~~p%60,2)})}s(rd,"offset"),rd("Z",":"),rd("ZZ",""),U("Z",_t),U("ZZ",_t),we(["Z","ZZ"],function(o,u,p){p._useUTC=!0,p._tzm=qo(_t,o)});var c0=/([\+\-]|\d\d)/gi;function qo(o,u){var p=(u||"").match(o),g,b,x;return p===null?null:(g=p[p.length-1]||[],b=(g+"").match(c0)||["-",0,0],x=+(b[1]*60)+ae(b[2]),x===0?0:b[0]==="+"?x:-x)}s(qo,"offsetFromString");function Ko(o,u){var p,g;return u._isUTC?(p=u.clone(),g=(F(o)||h(o)?o.valueOf():xe(o).valueOf())-p.valueOf(),p._d.setTime(p._d.valueOf()+g),e.updateOffset(p,!1),p):xe(o).local()}s(Ko,"cloneWithOffset");function Jo(o){return-Math.round(o._d.getTimezoneOffset())}s(Jo,"getDateOffset"),e.updateOffset=function(){};function u0(o,u,p){var g=this._offset||0,b;if(!this.isValid())return o!=null?this:NaN;if(o!=null){if(typeof o=="string"){if(o=qo(_t,o),o===null)return this}else Math.abs(o)<16&&!p&&(o=o*60);return!this._isUTC&&u&&(b=Jo(this)),this._offset=o,this._isUTC=!0,b!=null&&this.add(b,"m"),g!==o&&(!u||this._changeInProgress?od(this,Lt(o-g,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?g:Jo(this)}s(u0,"getSetOffset");function d0(o,u){return o!=null?(typeof o!="string"&&(o=-o),this.utcOffset(o,u),this):-this.utcOffset()}s(d0,"getSetZone");function h0(o){return this.utcOffset(0,o)}s(h0,"setOffsetToUTC");function p0(o){return this._isUTC&&(this.utcOffset(0,o),this._isUTC=!1,o&&this.subtract(Jo(this),"m")),this}s(p0,"setOffsetToLocal");function f0(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var o=qo(nt,this._i);o!=null?this.utcOffset(o):this.utcOffset(0,!0)}return this}s(f0,"setOffsetToParsedOffset");function m0(o){return this.isValid()?(o=o?xe(o).utcOffset():0,(this.utcOffset()-o)%60===0):!1}s(m0,"hasAlignedHourOffset");function g0(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}s(g0,"isDaylightSavingTime");function y0(){if(!c(this._isDSTShifted))return this._isDSTShifted;var o={},u;return N(o,this),o=ed(o),o._a?(u=o._isUTC?y(o._a):xe(o._a),this._isDSTShifted=this.isValid()&&l0(o._a,u.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}s(y0,"isDaylightSavingTimeShifted");function w0(){return this.isValid()?!this._isUTC:!1}s(w0,"isLocal");function b0(){return this.isValid()?this._isUTC:!1}s(b0,"isUtcOffset");function id(){return this.isValid()?this._isUTC&&this._offset===0:!1}s(id,"isUtc");var A0=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,x0=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Lt(o,u){var p=o,g=null,b,x,P;return rs(o)?p={ms:o._milliseconds,d:o._days,M:o._months}:d(o)||!isNaN(+o)?(p={},u?p[u]=+o:p.milliseconds=+o):(g=A0.exec(o))?(b=g[1]==="-"?-1:1,p={y:0,d:ae(g[zt])*b,h:ae(g[Ne])*b,m:ae(g[Nt])*b,s:ae(g[an])*b,ms:ae(Go(g[Vn]*1e3))*b}):(g=x0.exec(o))?(b=g[1]==="-"?-1:1,p={y:Un(g[2],b),M:Un(g[3],b),w:Un(g[4],b),d:Un(g[5],b),h:Un(g[6],b),m:Un(g[7],b),s:Un(g[8],b)}):p==null?p={}:typeof p=="object"&&("from"in p||"to"in p)&&(P=v0(xe(p.from),xe(p.to)),p={},p.ms=P.milliseconds,p.M=P.months),x=new ns(p),rs(o)&&a(o,"_locale")&&(x._locale=o._locale),rs(o)&&a(o,"_isValid")&&(x._isValid=o._isValid),x}s(Lt,"createDuration"),Lt.fn=ns.prototype,Lt.invalid=o0;function Un(o,u){var p=o&&parseFloat(o.replace(",","."));return(isNaN(p)?0:p)*u}s(Un,"parseIso");function sd(o,u){var p={};return p.months=u.month()-o.month()+(u.year()-o.year())*12,o.clone().add(p.months,"M").isAfter(u)&&--p.months,p.milliseconds=+u-+o.clone().add(p.months,"M"),p}s(sd,"positiveMomentsDifference");function v0(o,u){var p;return o.isValid()&&u.isValid()?(u=Ko(u,o),o.isBefore(u)?p=sd(o,u):(p=sd(u,o),p.milliseconds=-p.milliseconds,p.months=-p.months),p):{milliseconds:0,months:0}}s(v0,"momentsDifference");function ad(o,u){return function(p,g){var b,x;return g!==null&&!isNaN(+g)&&(ie(u,"moment()."+u+"(period, number) is deprecated. Please use moment()."+u+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),x=p,p=g,g=x),b=Lt(p,g),od(this,b,o),this}}s(ad,"createAdder");function od(o,u,p,g){var b=u._milliseconds,x=Go(u._days),P=Go(u._months);o.isValid()&&(g=g??!0,P&&zu(o,ei(o,"Month")+P*p),x&&Vu(o,"Date",ei(o,"Date")+x*p),b&&o._d.setTime(o._d.valueOf()+b*p),g&&e.updateOffset(o,x||P))}s(od,"addSubtract");var k0=ad(1,"add"),S0=ad(-1,"subtract");function ld(o){return typeof o=="string"||o instanceof String}s(ld,"isString");function C0(o){return F(o)||h(o)||ld(o)||d(o)||T0(o)||E0(o)||o===null||o===void 0}s(C0,"isMomentInput");function E0(o){var u=i(o)&&!l(o),p=!1,g=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],b,x,P=g.length;for(b=0;b<P;b+=1)x=g[b],p=p||a(o,x);return u&&p}s(E0,"isMomentInputObject");function T0(o){var u=r(o),p=!1;return u&&(p=o.filter(function(g){return!d(g)&&ld(o)}).length===0),u&&p}s(T0,"isNumberOrStringArray");function F0(o){var u=i(o)&&!l(o),p=!1,g=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],b,x;for(b=0;b<g.length;b+=1)x=g[b],p=p||a(o,x);return u&&p}s(F0,"isCalendarSpec");function P0(o,u){var p=o.diff(u,"days",!0);return p<-6?"sameElse":p<-1?"lastWeek":p<0?"lastDay":p<1?"sameDay":p<2?"nextDay":p<7?"nextWeek":"sameElse"}s(P0,"getCalendarFormat");function I0(o,u){arguments.length===1&&(arguments[0]?C0(arguments[0])?(o=arguments[0],u=void 0):F0(arguments[0])&&(u=arguments[0],o=void 0):(o=void 0,u=void 0));var p=o||xe(),g=Ko(p,this).startOf("day"),b=e.calendarFormat(this,g)||"sameElse",x=u&&(ge(u[b])?u[b].call(this,p):u[b]);return this.format(x||this.localeData().calendar(b,this,xe(p)))}s(I0,"calendar$1");function M0(){return new Y(this)}s(M0,"clone");function O0(o,u){var p=F(o)?o:xe(o);return this.isValid()&&p.isValid()?(u=et(u)||"millisecond",u==="millisecond"?this.valueOf()>p.valueOf():p.valueOf()<this.clone().startOf(u).valueOf()):!1}s(O0,"isAfter");function _0(o,u){var p=F(o)?o:xe(o);return this.isValid()&&p.isValid()?(u=et(u)||"millisecond",u==="millisecond"?this.valueOf()<p.valueOf():this.clone().endOf(u).valueOf()<p.valueOf()):!1}s(_0,"isBefore");function R0(o,u,p,g){var b=F(o)?o:xe(o),x=F(u)?u:xe(u);return this.isValid()&&b.isValid()&&x.isValid()?(g=g||"()",(g[0]==="("?this.isAfter(b,p):!this.isBefore(b,p))&&(g[1]===")"?this.isBefore(x,p):!this.isAfter(x,p))):!1}s(R0,"isBetween");function N0(o,u){var p=F(o)?o:xe(o),g;return this.isValid()&&p.isValid()?(u=et(u)||"millisecond",u==="millisecond"?this.valueOf()===p.valueOf():(g=p.valueOf(),this.clone().startOf(u).valueOf()<=g&&g<=this.clone().endOf(u).valueOf())):!1}s(N0,"isSame");function L0(o,u){return this.isSame(o,u)||this.isAfter(o,u)}s(L0,"isSameOrAfter");function D0(o,u){return this.isSame(o,u)||this.isBefore(o,u)}s(D0,"isSameOrBefore");function B0(o,u,p){var g,b,x;if(!this.isValid())return NaN;if(g=Ko(o,this),!g.isValid())return NaN;switch(b=(g.utcOffset()-this.utcOffset())*6e4,u=et(u),u){case"year":x=is(this,g)/12;break;case"month":x=is(this,g);break;case"quarter":x=is(this,g)/3;break;case"second":x=(this-g)/1e3;break;case"minute":x=(this-g)/6e4;break;case"hour":x=(this-g)/36e5;break;case"day":x=(this-g-b)/864e5;break;case"week":x=(this-g-b)/6048e5;break;default:x=this-g}return p?x:At(x)}s(B0,"diff");function is(o,u){if(o.date()<u.date())return-is(u,o);var p=(u.year()-o.year())*12+(u.month()-o.month()),g=o.clone().add(p,"months"),b,x;return u-g<0?(b=o.clone().add(p-1,"months"),x=(u-g)/(g-b)):(b=o.clone().add(p+1,"months"),x=(u-g)/(b-g)),-(p+x)||0}s(is,"monthDiff"),e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function $0(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}s($0,"toString");function V0(o){if(!this.isValid())return null;var u=o!==!0,p=u?this.clone().utc():this;return p.year()<0||p.year()>9999?kn(p,u?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ge(Date.prototype.toISOString)?u?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",kn(p,"Z")):kn(p,u?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}s(V0,"toISOString");function U0(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var o="moment",u="",p,g,b,x;return this.isLocal()||(o=this.utcOffset()===0?"moment.utc":"moment.parseZone",u="Z"),p="["+o+'("]',g=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",b="-MM-DD[T]HH:mm:ss.SSS",x=u+'[")]',this.format(p+g+b+x)}s(U0,"inspect");function W0(o){o||(o=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var u=kn(this,o);return this.localeData().postformat(u)}s(W0,"format");function z0(o,u){return this.isValid()&&(F(o)&&o.isValid()||xe(o).isValid())?Lt({to:this,from:o}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}s(z0,"from");function Y0(o){return this.from(xe(),o)}s(Y0,"fromNow");function H0(o,u){return this.isValid()&&(F(o)&&o.isValid()||xe(o).isValid())?Lt({from:this,to:o}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}s(H0,"to");function j0(o){return this.to(xe(),o)}s(j0,"toNow");function cd(o){var u;return o===void 0?this._locale._abbr:(u=ln(o),u!=null&&(this._locale=u),this)}s(cd,"locale");var ud=Q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(o){return o===void 0?this.localeData():this.locale(o)});function dd(){return this._locale}s(dd,"localeData");var ss=1e3,ur=60*ss,as=60*ur,hd=(365*400+97)*24*as;function dr(o,u){return(o%u+u)%u}s(dr,"mod$1");function pd(o,u,p){return o<100&&o>=0?new Date(o+400,u,p)-hd:new Date(o,u,p).valueOf()}s(pd,"localStartOfDate");function fd(o,u,p){return o<100&&o>=0?Date.UTC(o+400,u,p)-hd:Date.UTC(o,u,p)}s(fd,"utcStartOfDate");function G0(o){var u,p;if(o=et(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?fd:pd,o){case"year":u=p(this.year(),0,1);break;case"quarter":u=p(this.year(),this.month()-this.month()%3,1);break;case"month":u=p(this.year(),this.month(),1);break;case"week":u=p(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":u=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":u=p(this.year(),this.month(),this.date());break;case"hour":u=this._d.valueOf(),u-=dr(u+(this._isUTC?0:this.utcOffset()*ur),as);break;case"minute":u=this._d.valueOf(),u-=dr(u,ur);break;case"second":u=this._d.valueOf(),u-=dr(u,ss);break}return this._d.setTime(u),e.updateOffset(this,!0),this}s(G0,"startOf");function q0(o){var u,p;if(o=et(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(p=this._isUTC?fd:pd,o){case"year":u=p(this.year()+1,0,1)-1;break;case"quarter":u=p(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":u=p(this.year(),this.month()+1,1)-1;break;case"week":u=p(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":u=p(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":u=p(this.year(),this.month(),this.date()+1)-1;break;case"hour":u=this._d.valueOf(),u+=as-dr(u+(this._isUTC?0:this.utcOffset()*ur),as)-1;break;case"minute":u=this._d.valueOf(),u+=ur-dr(u,ur)-1;break;case"second":u=this._d.valueOf(),u+=ss-dr(u,ss)-1;break}return this._d.setTime(u),e.updateOffset(this,!0),this}s(q0,"endOf");function K0(){return this._d.valueOf()-(this._offset||0)*6e4}s(K0,"valueOf");function J0(){return Math.floor(this.valueOf()/1e3)}s(J0,"unix");function X0(){return new Date(this.valueOf())}s(X0,"toDate");function Z0(){var o=this;return[o.year(),o.month(),o.date(),o.hour(),o.minute(),o.second(),o.millisecond()]}s(Z0,"toArray");function Q0(){var o=this;return{years:o.year(),months:o.month(),date:o.date(),hours:o.hours(),minutes:o.minutes(),seconds:o.seconds(),milliseconds:o.milliseconds()}}s(Q0,"toObject");function eb(){return this.isValid()?this.toISOString():null}s(eb,"toJSON");function tb(){return E(this)}s(tb,"isValid$2");function nb(){return m({},S(this))}s(nb,"parsingFlags");function rb(){return S(this).overflow}s(rb,"invalidAt");function ib(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}s(ib,"creationData"),A("N",0,0,"eraAbbr"),A("NN",0,0,"eraAbbr"),A("NNN",0,0,"eraAbbr"),A("NNNN",0,0,"eraName"),A("NNNNN",0,0,"eraNarrow"),A("y",["y",1],"yo","eraYear"),A("y",["yy",2],0,"eraYear"),A("y",["yyy",3],0,"eraYear"),A("y",["yyyy",4],0,"eraYear"),U("N",Xo),U("NN",Xo),U("NNN",Xo),U("NNNN",mb),U("NNNNN",gb),we(["N","NN","NNN","NNNN","NNNNN"],function(o,u,p,g){var b=p._locale.erasParse(o,g,p._strict);b?S(p).era=b:S(p).invalidEra=o}),U("y",bt),U("yy",bt),U("yyy",bt),U("yyyy",bt),U("yo",yb),we(["y","yy","yyy","yyyy"],Ge),we(["yo"],function(o,u,p,g){var b;p._locale._eraYearOrdinalRegex&&(b=o.match(p._locale._eraYearOrdinalRegex)),p._locale.eraYearOrdinalParse?u[Ge]=p._locale.eraYearOrdinalParse(o,b):u[Ge]=parseInt(o,10)});function sb(o,u){var p,g,b,x=this._eras||ln("en")._eras;for(p=0,g=x.length;p<g;++p){switch(typeof x[p].since){case"string":b=e(x[p].since).startOf("day"),x[p].since=b.valueOf();break}switch(typeof x[p].until){case"undefined":x[p].until=1/0;break;case"string":b=e(x[p].until).startOf("day").valueOf(),x[p].until=b.valueOf();break}}return x}s(sb,"localeEras");function ab(o,u,p){var g,b,x=this.eras(),P,B,J;for(o=o.toUpperCase(),g=0,b=x.length;g<b;++g)if(P=x[g].name.toUpperCase(),B=x[g].abbr.toUpperCase(),J=x[g].narrow.toUpperCase(),p)switch(u){case"N":case"NN":case"NNN":if(B===o)return x[g];break;case"NNNN":if(P===o)return x[g];break;case"NNNNN":if(J===o)return x[g];break}else if([P,B,J].indexOf(o)>=0)return x[g]}s(ab,"localeErasParse");function ob(o,u){var p=o.since<=o.until?1:-1;return u===void 0?e(o.since).year():e(o.since).year()+(u-o.offset)*p}s(ob,"localeErasConvertYear");function lb(){var o,u,p,g=this.localeData().eras();for(o=0,u=g.length;o<u;++o)if(p=this.clone().startOf("day").valueOf(),g[o].since<=p&&p<=g[o].until||g[o].until<=p&&p<=g[o].since)return g[o].name;return""}s(lb,"getEraName");function cb(){var o,u,p,g=this.localeData().eras();for(o=0,u=g.length;o<u;++o)if(p=this.clone().startOf("day").valueOf(),g[o].since<=p&&p<=g[o].until||g[o].until<=p&&p<=g[o].since)return g[o].narrow;return""}s(cb,"getEraNarrow");function ub(){var o,u,p,g=this.localeData().eras();for(o=0,u=g.length;o<u;++o)if(p=this.clone().startOf("day").valueOf(),g[o].since<=p&&p<=g[o].until||g[o].until<=p&&p<=g[o].since)return g[o].abbr;return""}s(ub,"getEraAbbr");function db(){var o,u,p,g,b=this.localeData().eras();for(o=0,u=b.length;o<u;++o)if(p=b[o].since<=b[o].until?1:-1,g=this.clone().startOf("day").valueOf(),b[o].since<=g&&g<=b[o].until||b[o].until<=g&&g<=b[o].since)return(this.year()-e(b[o].since).year())*p+b[o].offset;return this.year()}s(db,"getEraYear");function hb(o){return a(this,"_erasNameRegex")||Zo.call(this),o?this._erasNameRegex:this._erasRegex}s(hb,"erasNameRegex");function pb(o){return a(this,"_erasAbbrRegex")||Zo.call(this),o?this._erasAbbrRegex:this._erasRegex}s(pb,"erasAbbrRegex");function fb(o){return a(this,"_erasNarrowRegex")||Zo.call(this),o?this._erasNarrowRegex:this._erasRegex}s(fb,"erasNarrowRegex");function Xo(o,u){return u.erasAbbrRegex(o)}s(Xo,"matchEraAbbr");function mb(o,u){return u.erasNameRegex(o)}s(mb,"matchEraName");function gb(o,u){return u.erasNarrowRegex(o)}s(gb,"matchEraNarrow");function yb(o,u){return u._eraYearOrdinalRegex||bt}s(yb,"matchEraYearOrdinal");function Zo(){var o=[],u=[],p=[],g=[],b,x,P,B,J,le=this.eras();for(b=0,x=le.length;b<x;++b)P=rn(le[b].name),B=rn(le[b].abbr),J=rn(le[b].narrow),u.push(P),o.push(B),p.push(J),g.push(P),g.push(B),g.push(J);this._erasRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+u.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+p.join("|")+")","i")}s(Zo,"computeErasParse"),A(0,["gg",2],0,function(){return this.weekYear()%100}),A(0,["GG",2],0,function(){return this.isoWeekYear()%100});function os(o,u){A(0,[o,o.length],0,u)}s(os,"addWeekYearFormatToken"),os("gggg","weekYear"),os("ggggg","weekYear"),os("GGGG","isoWeekYear"),os("GGGGG","isoWeekYear"),U("G",Wt),U("g",Wt),U("GG",D,tt),U("gg",D,tt),U("GGGG",Ot,M),U("gggg",Ot,M),U("GGGGG",ut,R),U("ggggg",ut,R),Zr(["gggg","ggggg","GGGG","GGGGG"],function(o,u,p,g){u[g.substr(0,2)]=ae(o)}),Zr(["gg","GG"],function(o,u,p,g){u[g]=e.parseTwoDigitYear(o)});function wb(o){return md.call(this,o,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}s(wb,"getSetWeekYear");function bb(o){return md.call(this,o,this.isoWeek(),this.isoWeekday(),1,4)}s(bb,"getSetISOWeekYear");function Ab(){return on(this.year(),1,4)}s(Ab,"getISOWeeksInYear");function xb(){return on(this.isoWeekYear(),1,4)}s(xb,"getISOWeeksInISOWeekYear");function vb(){var o=this.localeData()._week;return on(this.year(),o.dow,o.doy)}s(vb,"getWeeksInYear");function kb(){var o=this.localeData()._week;return on(this.weekYear(),o.dow,o.doy)}s(kb,"getWeeksInWeekYear");function md(o,u,p,g,b){var x;return o==null?ni(this,g,b).year:(x=on(o,g,b),u>x&&(u=x),Sb.call(this,o,u,p,g,b))}s(md,"getSetWeekYearHelper");function Sb(o,u,p,g,b){var x=ju(o,u,p,g,b),P=ti(x.year,0,x.dayOfYear);return this.year(P.getUTCFullYear()),this.month(P.getUTCMonth()),this.date(P.getUTCDate()),this}s(Sb,"setWeekAll"),A("Q",0,"Qo","quarter"),U("Q",Ki),we("Q",function(o,u){u[sn]=(ae(o)-1)*3});function Cb(o){return o==null?Math.ceil((this.month()+1)/3):this.month((o-1)*3+this.month()%3)}s(Cb,"getSetQuarter"),A("D",["DD",2],"Do","date"),U("D",D,or),U("DD",D,tt),U("Do",function(o,u){return o?u._dayOfMonthOrdinalParse||u._ordinalParse:u._dayOfMonthOrdinalParseLenient}),we(["D","DD"],zt),we("Do",function(o,u){u[zt]=ae(o.match(D)[0])});var gd=lr("Date",!0);A("DDD",["DDDD",3],"DDDo","dayOfYear"),U("DDD",je),U("DDDD",Ji),we(["DDD","DDDD"],function(o,u,p){p._dayOfYear=ae(o)});function Eb(o){var u=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return o==null?u:this.add(o-u,"d")}s(Eb,"getSetDayOfYear"),A("m",["mm",2],0,"minute"),U("m",D,Lo),U("mm",D,tt),we(["m","mm"],Nt);var Tb=lr("Minutes",!1);A("s",["ss",2],0,"second"),U("s",D,Lo),U("ss",D,tt),we(["s","ss"],an);var Fb=lr("Seconds",!1);A("S",0,0,function(){return~~(this.millisecond()/100)}),A(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),A(0,["SSS",3],0,"millisecond"),A(0,["SSSS",4],0,function(){return this.millisecond()*10}),A(0,["SSSSS",5],0,function(){return this.millisecond()*100}),A(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),A(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),A(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),A(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),U("S",je,Ki),U("SS",je,tt),U("SSS",je,Ji);var En,yd;for(En="SSSS";En.length<=9;En+="S")U(En,bt);function Pb(o,u){u[Vn]=ae(("0."+o)*1e3)}for(s(Pb,"parseMs"),En="S";En.length<=9;En+="S")we(En,Pb);yd=lr("Milliseconds",!1),A("z",0,0,"zoneAbbr"),A("zz",0,0,"zoneName");function Ib(){return this._isUTC?"UTC":""}s(Ib,"getZoneAbbr");function Mb(){return this._isUTC?"Coordinated Universal Time":""}s(Mb,"getZoneName");var _=Y.prototype;_.add=k0,_.calendar=I0,_.clone=M0,_.diff=B0,_.endOf=q0,_.format=W0,_.from=z0,_.fromNow=Y0,_.to=H0,_.toNow=j0,_.get=Uy,_.invalidAt=rb,_.isAfter=O0,_.isBefore=_0,_.isBetween=R0,_.isSame=N0,_.isSameOrAfter=L0,_.isSameOrBefore=D0,_.isValid=tb,_.lang=ud,_.locale=cd,_.localeData=dd,_.max=t0,_.min=e0,_.parsingFlags=nb,_.set=Wy,_.startOf=G0,_.subtract=S0,_.toArray=Z0,_.toObject=Q0,_.toDate=X0,_.toISOString=V0,_.inspect=U0,typeof Symbol<"u"&&Symbol.for!=null&&(_[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),_.toJSON=eb,_.toString=$0,_.unix=J0,_.valueOf=K0,_.creationData=ib,_.eraName=lb,_.eraNarrow=cb,_.eraAbbr=ub,_.eraYear=db,_.year=$u,_.isLeapYear=Vy,_.weekYear=wb,_.isoWeekYear=bb,_.quarter=_.quarters=Cb,_.month=Yu,_.daysInMonth=Xy,_.week=_.weeks=sw,_.isoWeek=_.isoWeeks=aw,_.weeksInYear=vb,_.weeksInWeekYear=kb,_.isoWeeksInYear=Ab,_.isoWeeksInISOWeekYear=xb,_.date=gd,_.day=_.days=bw,_.weekday=Aw,_.isoWeekday=xw,_.dayOfYear=Eb,_.hour=_.hours=Fw,_.minute=_.minutes=Tb,_.second=_.seconds=Fb,_.millisecond=_.milliseconds=yd,_.utcOffset=u0,_.utc=h0,_.local=p0,_.parseZone=f0,_.hasAlignedHourOffset=m0,_.isDST=g0,_.isLocal=w0,_.isUtcOffset=b0,_.isUtc=id,_.isUTC=id,_.zoneAbbr=Ib,_.zoneName=Mb,_.dates=Q("dates accessor is deprecated. Use date instead.",gd),_.months=Q("months accessor is deprecated. Use month instead",Yu),_.years=Q("years accessor is deprecated. Use year instead",$u),_.zone=Q("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",d0),_.isDSTShifted=Q("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",y0);function Ob(o){return xe(o*1e3)}s(Ob,"createUnix");function _b(){return xe.apply(null,arguments).parseZone()}s(_b,"createInZone");function wd(o){return o}s(wd,"preParsePostFormat");var de=j.prototype;de.calendar=ue,de.longDateFormat=$n,de.invalidDate=nn,de.ordinal=_o,de.preparse=wd,de.postformat=wd,de.relativeTime=ji,de.pastFuture=Gi,de.set=oe,de.eras=sb,de.erasParse=ab,de.erasConvertYear=ob,de.erasAbbrRegex=pb,de.erasNameRegex=hb,de.erasNarrowRegex=fb,de.months=Gy,de.monthsShort=qy,de.monthsParse=Jy,de.monthsRegex=Qy,de.monthsShortRegex=Zy,de.week=tw,de.firstDayOfYear=iw,de.firstDayOfWeek=rw,de.weekdays=fw,de.weekdaysMin=gw,de.weekdaysShort=mw,de.weekdaysParse=ww,de.weekdaysRegex=vw,de.weekdaysShortRegex=kw,de.weekdaysMinRegex=Sw,de.isPM=Ew,de.meridiem=Pw;function ls(o,u,p,g){var b=ln(),x=y().set(g,u);return b[p](x,o)}s(ls,"get$1");function bd(o,u,p){if(d(o)&&(u=o,o=void 0),o=o||"",u!=null)return ls(o,u,p,"month");var g,b=[];for(g=0;g<12;g++)b[g]=ls(o,g,p,"month");return b}s(bd,"listMonthsImpl");function Qo(o,u,p,g){typeof o=="boolean"?(d(u)&&(p=u,u=void 0),u=u||""):(u=o,p=u,o=!1,d(u)&&(p=u,u=void 0),u=u||"");var b=ln(),x=o?b._week.dow:0,P,B=[];if(p!=null)return ls(u,(p+x)%7,g,"day");for(P=0;P<7;P++)B[P]=ls(u,(P+x)%7,g,"day");return B}s(Qo,"listWeekdaysImpl");function Rb(o,u){return bd(o,u,"months")}s(Rb,"listMonths");function Nb(o,u){return bd(o,u,"monthsShort")}s(Nb,"listMonthsShort");function Lb(o,u,p){return Qo(o,u,p,"weekdays")}s(Lb,"listWeekdays");function Db(o,u,p){return Qo(o,u,p,"weekdaysShort")}s(Db,"listWeekdaysShort");function Bb(o,u,p){return Qo(o,u,p,"weekdaysMin")}s(Bb,"listWeekdaysMin"),Cn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:s(function(o){var u=o%10,p=ae(o%100/10)===1?"th":u===1?"st":u===2?"nd":u===3?"rd":"th";return o+p},"ordinal")}),e.lang=Q("moment.lang is deprecated. Use moment.locale instead.",Cn),e.langData=Q("moment.langData is deprecated. Use moment.localeData instead.",ln);var cn=Math.abs;function $b(){var o=this._data;return this._milliseconds=cn(this._milliseconds),this._days=cn(this._days),this._months=cn(this._months),o.milliseconds=cn(o.milliseconds),o.seconds=cn(o.seconds),o.minutes=cn(o.minutes),o.hours=cn(o.hours),o.months=cn(o.months),o.years=cn(o.years),this}s($b,"abs");function Ad(o,u,p,g){var b=Lt(u,p);return o._milliseconds+=g*b._milliseconds,o._days+=g*b._days,o._months+=g*b._months,o._bubble()}s(Ad,"addSubtract$1");function Vb(o,u){return Ad(this,o,u,1)}s(Vb,"add$1");function Ub(o,u){return Ad(this,o,u,-1)}s(Ub,"subtract$1");function xd(o){return o<0?Math.floor(o):Math.ceil(o)}s(xd,"absCeil");function Wb(){var o=this._milliseconds,u=this._days,p=this._months,g=this._data,b,x,P,B,J;return o>=0&&u>=0&&p>=0||o<=0&&u<=0&&p<=0||(o+=xd(el(p)+u)*864e5,u=0,p=0),g.milliseconds=o%1e3,b=At(o/1e3),g.seconds=b%60,x=At(b/60),g.minutes=x%60,P=At(x/60),g.hours=P%24,u+=At(P/24),J=At(vd(u)),p+=J,u-=xd(el(J)),B=At(p/12),p%=12,g.days=u,g.months=p,g.years=B,this}s(Wb,"bubble");function vd(o){return o*4800/146097}s(vd,"daysToMonths");function el(o){return o*146097/4800}s(el,"monthsToDays");function zb(o){if(!this.isValid())return NaN;var u,p,g=this._milliseconds;if(o=et(o),o==="month"||o==="quarter"||o==="year")switch(u=this._days+g/864e5,p=this._months+vd(u),o){case"month":return p;case"quarter":return p/3;case"year":return p/12}else switch(u=this._days+Math.round(el(this._months)),o){case"week":return u/7+g/6048e5;case"day":return u+g/864e5;case"hour":return u*24+g/36e5;case"minute":return u*1440+g/6e4;case"second":return u*86400+g/1e3;case"millisecond":return Math.floor(u*864e5)+g;default:throw new Error("Unknown unit "+o)}}s(zb,"as");function un(o){return function(){return this.as(o)}}s(un,"makeAs");var kd=un("ms"),Yb=un("s"),Hb=un("m"),jb=un("h"),Gb=un("d"),qb=un("w"),Kb=un("M"),Jb=un("Q"),Xb=un("y"),Zb=kd;function Qb(){return Lt(this)}s(Qb,"clone$1");function eA(o){return o=et(o),this.isValid()?this[o+"s"]():NaN}s(eA,"get$2");function Wn(o){return function(){return this.isValid()?this._data[o]:NaN}}s(Wn,"makeGetter");var tA=Wn("milliseconds"),nA=Wn("seconds"),rA=Wn("minutes"),iA=Wn("hours"),sA=Wn("days"),aA=Wn("months"),oA=Wn("years");function lA(){return At(this.days()/7)}s(lA,"weeks");var dn=Math.round,hr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function cA(o,u,p,g,b){return b.relativeTime(u||1,!!p,o,g)}s(cA,"substituteTimeAgo");function uA(o,u,p,g){var b=Lt(o).abs(),x=dn(b.as("s")),P=dn(b.as("m")),B=dn(b.as("h")),J=dn(b.as("d")),le=dn(b.as("M")),rt=dn(b.as("w")),hn=dn(b.as("y")),Tn=x<=p.ss&&["s",x]||x<p.s&&["ss",x]||P<=1&&["m"]||P<p.m&&["mm",P]||B<=1&&["h"]||B<p.h&&["hh",B]||J<=1&&["d"]||J<p.d&&["dd",J];return p.w!=null&&(Tn=Tn||rt<=1&&["w"]||rt<p.w&&["ww",rt]),Tn=Tn||le<=1&&["M"]||le<p.M&&["MM",le]||hn<=1&&["y"]||["yy",hn],Tn[2]=u,Tn[3]=+o>0,Tn[4]=g,cA.apply(null,Tn)}s(uA,"relativeTime$1");function dA(o){return o===void 0?dn:typeof o=="function"?(dn=o,!0):!1}s(dA,"getSetRelativeTimeRounding");function hA(o,u){return hr[o]===void 0?!1:u===void 0?hr[o]:(hr[o]=u,o==="s"&&(hr.ss=u-1),!0)}s(hA,"getSetRelativeTimeThreshold");function pA(o,u){if(!this.isValid())return this.localeData().invalidDate();var p=!1,g=hr,b,x;return typeof o=="object"&&(u=o,o=!1),typeof o=="boolean"&&(p=o),typeof u=="object"&&(g=Object.assign({},hr,u),u.s!=null&&u.ss==null&&(g.ss=u.s-1)),b=this.localeData(),x=uA(this,!p,g,b),p&&(x=b.pastFuture(+this,x)),b.postformat(x)}s(pA,"humanize");var tl=Math.abs;function pr(o){return(o>0)-(o<0)||+o}s(pr,"sign");function cs(){if(!this.isValid())return this.localeData().invalidDate();var o=tl(this._milliseconds)/1e3,u=tl(this._days),p=tl(this._months),g,b,x,P,B=this.asSeconds(),J,le,rt,hn;return B?(g=At(o/60),b=At(g/60),o%=60,g%=60,x=At(p/12),p%=12,P=o?o.toFixed(3).replace(/\.?0+$/,""):"",J=B<0?"-":"",le=pr(this._months)!==pr(B)?"-":"",rt=pr(this._days)!==pr(B)?"-":"",hn=pr(this._milliseconds)!==pr(B)?"-":"",J+"P"+(x?le+x+"Y":"")+(p?le+p+"M":"")+(u?rt+u+"D":"")+(b||g||o?"T":"")+(b?hn+b+"H":"")+(g?hn+g+"M":"")+(o?hn+P+"S":"")):"P0D"}s(cs,"toISOString$1");var ce=ns.prototype;ce.isValid=a0,ce.abs=$b,ce.add=Vb,ce.subtract=Ub,ce.as=zb,ce.asMilliseconds=kd,ce.asSeconds=Yb,ce.asMinutes=Hb,ce.asHours=jb,ce.asDays=Gb,ce.asWeeks=qb,ce.asMonths=Kb,ce.asQuarters=Jb,ce.asYears=Xb,ce.valueOf=Zb,ce._bubble=Wb,ce.clone=Qb,ce.get=eA,ce.milliseconds=tA,ce.seconds=nA,ce.minutes=rA,ce.hours=iA,ce.days=sA,ce.weeks=lA,ce.months=aA,ce.years=oA,ce.humanize=pA,ce.toISOString=cs,ce.toString=cs,ce.toJSON=cs,ce.locale=cd,ce.localeData=dd,ce.toIsoString=Q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cs),ce.lang=ud,A("X",0,0,"unix"),A("x",0,0,"valueOf"),U("x",Wt),U("X",Rt),we("X",function(o,u,p){p._d=new Date(parseFloat(o)*1e3)}),we("x",function(o,u,p){p._d=new Date(ae(o))});return e.version="2.30.1",n(xe),e.fn=_,e.min=n0,e.max=r0,e.now=i0,e.utc=y,e.unix=Ob,e.months=Rb,e.isDate=h,e.locale=Cn,e.invalid=C,e.duration=Lt,e.isMoment=F,e.weekdays=Lb,e.parseZone=_b,e.localeData=ln,e.isDuration=rs,e.monthsShort=Nb,e.weekdaysMin=Bb,e.defineLocale=Wo,e.updateLocale=_w,e.locales=Rw,e.weekdaysShort=Db,e.normalizeUnits=et,e.relativeTimeRounding=dA,e.relativeTimeThreshold=hA,e.calendarFormat=P0,e.prototype=_,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}))});var Id=H((AF,Pd)=>{var mr=1e3,gr=mr*60,yr=gr*60,Yn=yr*24,AA=Yn*7,xA=Yn*365.25;Pd.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return vA(t);if(n==="number"&&isFinite(t))return e.long?SA(t):kA(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function vA(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*xA;case"weeks":case"week":case"w":return n*AA;case"days":case"day":case"d":return n*Yn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*yr;case"minutes":case"minute":case"mins":case"min":case"m":return n*gr;case"seconds":case"second":case"secs":case"sec":case"s":return n*mr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}s(vA,"parse");function kA(t){var e=Math.abs(t);return e>=Yn?Math.round(t/Yn)+"d":e>=yr?Math.round(t/yr)+"h":e>=gr?Math.round(t/gr)+"m":e>=mr?Math.round(t/mr)+"s":t+"ms"}s(kA,"fmtShort");function SA(t){var e=Math.abs(t);return e>=Yn?us(t,e,Yn,"day"):e>=yr?us(t,e,yr,"hour"):e>=gr?us(t,e,gr,"minute"):e>=mr?us(t,e,mr,"second"):t+" ms"}s(SA,"fmtLong");function us(t,e,n,r){var i=e>=n*1.5;return Math.round(t/n)+" "+r+(i?"s":"")}s(us,"plural")});var rl=H((vF,Md)=>{function CA(t){n.debug=n,n.default=n,n.coerce=d,n.disable=l,n.enable=i,n.enabled=c,n.humanize=Id(),n.destroy=h,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function e(f){let m=0;for(let y=0;y<f.length;y++)m=(m<<5)-m+f.charCodeAt(y),m|=0;return n.colors[Math.abs(m)%n.colors.length]}s(e,"selectColor"),n.selectColor=e;function n(f){let m,y=null,w,S;function I(...E){if(!I.enabled)return;let C=I,T=Number(new Date),O=T-(m||T);C.diff=O,C.prev=m,C.curr=T,m=T,E[0]=n.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let N=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(F,Z)=>{if(F==="%%")return"%";N++;let Q=n.formatters[Z];if(typeof Q=="function"){let K=E[N];F=Q.call(C,K),E.splice(N,1),N--}return F}),n.formatArgs.call(C,E),(C.log||n.log).apply(C,E)}return s(I,"debug"),I.namespace=f,I.useColors=n.useColors(),I.color=n.selectColor(f),I.extend=r,I.destroy=n.destroy,Object.defineProperty(I,"enabled",{enumerable:!0,configurable:!1,get:s(()=>y!==null?y:(w!==n.namespaces&&(w=n.namespaces,S=n.enabled(f)),S),"get"),set:s(E=>{y=E},"set")}),typeof n.init=="function"&&n.init(I),I}s(n,"createDebug");function r(f,m){let y=n(this.namespace+(typeof m>"u"?":":m)+f);return y.log=this.log,y}s(r,"extend");function i(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let m=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let y of m)y[0]==="-"?n.skips.push(y.slice(1)):n.names.push(y)}s(i,"enable");function a(f,m){let y=0,w=0,S=-1,I=0;for(;y<f.length;)if(w<m.length&&(m[w]===f[y]||m[w]==="*"))m[w]==="*"?(S=w,I=y,w++):(y++,w++);else if(S!==-1)w=S+1,I++,y=I;else return!1;for(;w<m.length&&m[w]==="*";)w++;return w===m.length}s(a,"matchesTemplate");function l(){let f=[...n.names,...n.skips.map(m=>"-"+m)].join(",");return n.enable(""),f}s(l,"disable");function c(f){for(let m of n.skips)if(a(f,m))return!1;for(let m of n.names)if(a(f,m))return!0;return!1}s(c,"enabled");function d(f){return f instanceof Error?f.stack||f.message:f}s(d,"coerce");function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s(h,"destroy"),n.enable(n.load()),n}s(CA,"setup");Md.exports=CA});var Od=H((dt,ds)=>{dt.formatArgs=TA;dt.save=FA;dt.load=PA;dt.useColors=EA;dt.storage=IA();dt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();dt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function EA(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}s(EA,"useColors");function TA(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ds.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),t.splice(r,0,e)}s(TA,"formatArgs");dt.log=console.debug||console.log||(()=>{});function FA(t){try{t?dt.storage.setItem("debug",t):dt.storage.removeItem("debug")}catch{}}s(FA,"save");function PA(){let t;try{t=dt.storage.getItem("debug")||dt.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}s(PA,"load");function IA(){try{return localStorage}catch{}}s(IA,"localstorage");ds.exports=rl()(dt);var{formatters:MA}=ds.exports;MA.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Rd=H((CF,_d)=>{"use strict";_d.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return r!==-1&&(i===-1||r<i)}});var Dd=H((EF,Ld)=>{"use strict";var OA=require("os"),Nd=require("tty"),xt=Rd(),{env:Be}=process,hs;xt("no-color")||xt("no-colors")||xt("color=false")||xt("color=never")?hs=0:(xt("color")||xt("colors")||xt("color=true")||xt("color=always"))&&(hs=1);function _A(){if("FORCE_COLOR"in Be)return Be.FORCE_COLOR==="true"?1:Be.FORCE_COLOR==="false"?0:Be.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Be.FORCE_COLOR,10),3)}s(_A,"envForceColor");function RA(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}s(RA,"translateLevel");function NA(t,{streamIsTTY:e,sniffFlags:n=!0}={}){let r=_A();r!==void 0&&(hs=r);let i=n?hs:r;if(i===0)return 0;if(n){if(xt("color=16m")||xt("color=full")||xt("color=truecolor"))return 3;if(xt("color=256"))return 2}if(t&&!e&&i===void 0)return 0;let a=i||0;if(Be.TERM==="dumb")return a;if(process.platform==="win32"){let l=OA.release().split(".");return Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in Be)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(l=>l in Be)||Be.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in Be)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Be.TEAMCITY_VERSION)?1:0;if(Be.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Be){let l=Number.parseInt((Be.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Be.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Be.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Be.TERM)||"COLORTERM"in Be?1:a}s(NA,"supportsColor");function il(t,e={}){let n=NA(t,{streamIsTTY:t&&t.isTTY,...e});return RA(n)}s(il,"getSupportLevel");Ld.exports={supportsColor:il,stdout:il({isTTY:Nd.isatty(1)}),stderr:il({isTTY:Nd.isatty(2)})}});var $d=H(($e,fs)=>{var LA=require("tty"),ps=require("util");$e.init=zA;$e.log=VA;$e.formatArgs=BA;$e.save=UA;$e.load=WA;$e.useColors=DA;$e.destroy=ps.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");$e.colors=[6,2,3,4,5,1];try{let t=Dd();t&&(t.stderr||t).level>=2&&($e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}$e.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,a)=>a.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function DA(){return"colors"in $e.inspectOpts?!!$e.inspectOpts.colors:LA.isatty(process.stderr.fd)}s(DA,"useColors");function BA(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,i="\x1B[3"+(r<8?r:"8;5;"+r),a=`  ${i};1m${e} \x1B[0m`;t[0]=a+t[0].split(`
`).join(`
`+a),t.push(i+"m+"+fs.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=$A()+e+" "+t[0]}s(BA,"formatArgs");function $A(){return $e.inspectOpts.hideDate?"":new Date().toISOString()+" "}s($A,"getDate");function VA(...t){return process.stderr.write(ps.formatWithOptions($e.inspectOpts,...t)+`
`)}s(VA,"log");function UA(t){t?process.env.DEBUG=t:delete process.env.DEBUG}s(UA,"save");function WA(){return process.env.DEBUG}s(WA,"load");function zA(t){t.inspectOpts={};let e=Object.keys($e.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=$e.inspectOpts[e[n]]}s(zA,"init");fs.exports=rl()($e);var{formatters:Bd}=fs.exports;Bd.o=function(t){return this.inspectOpts.colors=this.useColors,ps.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Bd.O=function(t){return this.inspectOpts.colors=this.useColors,ps.inspect(t,this.inspectOpts)}});var Vd=H((PF,sl)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?sl.exports=Od():sl.exports=$d()});var fh=H((C2,ph)=>{"use strict";function qt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}s(qt,"assertPath");function hh(t,e){for(var n="",r=0,i=-1,a=0,l,c=0;c<=t.length;++c){if(c<t.length)l=t.charCodeAt(c);else{if(l===47)break;l=47}if(l===47){if(!(i===c-1||a===1))if(i!==c-1&&a===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var d=n.lastIndexOf("/");if(d!==n.length-1){d===-1?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),i=c,a=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=c,a=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(i+1,c):n=t.slice(i+1,c),r=c-i-1;i=c,a=0}else l===46&&a!==-1?++a:a=-1}return n}s(hh,"normalizeStringPosix");function bx(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}s(bx,"_format");var vr={resolve:s(function(){for(var e="",n=!1,r,i=arguments.length-1;i>=-1&&!n;i--){var a;i>=0?a=arguments[i]:(r===void 0&&(r=process.cwd()),a=r),qt(a),a.length!==0&&(e=a+"/"+e,n=a.charCodeAt(0)===47)}return e=hh(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:s(function(e){if(qt(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=hh(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},"normalize"),isAbsolute:s(function(e){return qt(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:s(function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];qt(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":vr.normalize(e)},"join"),relative:s(function(e,n){if(qt(e),qt(n),e===n||(e=vr.resolve(e),n=vr.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,a=i-r,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var c=n.length,d=c-l,h=a<d?a:d,f=-1,m=0;m<=h;++m){if(m===h){if(d>h){if(n.charCodeAt(l+m)===47)return n.slice(l+m+1);if(m===0)return n.slice(l+m)}else a>h&&(e.charCodeAt(r+m)===47?f=m:m===0&&(f=0));break}var y=e.charCodeAt(r+m),w=n.charCodeAt(l+m);if(y!==w)break;y===47&&(f=m)}var S="";for(m=r+f+1;m<=i;++m)(m===i||e.charCodeAt(m)===47)&&(S.length===0?S+="..":S+="/..");return S.length>0?S+n.slice(l+f):(l+=f,n.charCodeAt(l)===47&&++l,n.slice(l))},"relative"),_makeLong:s(function(e){return e},"_makeLong"),dirname:s(function(e){if(qt(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,i=-1,a=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!a){i=l;break}}else a=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},"dirname"),basename:s(function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');qt(e);var r=0,i=-1,a=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var c=n.length-1,d=-1;for(l=e.length-1;l>=0;--l){var h=e.charCodeAt(l);if(h===47){if(!a){r=l+1;break}}else d===-1&&(a=!1,d=l+1),c>=0&&(h===n.charCodeAt(c)?--c===-1&&(i=l):(c=-1,i=d))}return r===i?i=d:i===-1&&(i=e.length),e.slice(r,i)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!a){r=l+1;break}}else i===-1&&(a=!1,i=l+1);return i===-1?"":e.slice(r,i)}},"basename"),extname:s(function(e){qt(e);for(var n=-1,r=0,i=-1,a=!0,l=0,c=e.length-1;c>=0;--c){var d=e.charCodeAt(c);if(d===47){if(!a){r=c+1;break}continue}i===-1&&(a=!1,i=c+1),d===46?n===-1?n=c:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||i===-1||l===0||l===1&&n===i-1&&n===r+1?"":e.slice(n,i)},"extname"),format:s(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return bx("/",e)},"format"),parse:s(function(e){qt(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),i=r===47,a;i?(n.root="/",a=1):a=0;for(var l=-1,c=0,d=-1,h=!0,f=e.length-1,m=0;f>=a;--f){if(r=e.charCodeAt(f),r===47){if(!h){c=f+1;break}continue}d===-1&&(h=!1,d=f+1),r===46?l===-1?l=f:m!==1&&(m=1):l!==-1&&(m=-1)}return l===-1||d===-1||m===0||m===1&&l===d-1&&l===c+1?d!==-1&&(c===0&&i?n.base=n.name=e.slice(1,d):n.base=n.name=e.slice(c,d)):(c===0&&i?(n.name=e.slice(1,l),n.base=e.slice(1,d)):(n.name=e.slice(c,l),n.base=e.slice(c,d)),n.ext=e.slice(l,d)),c>0?n.dir=e.slice(0,c-1):i&&(n.dir="/"),n},"parse"),sep:"/",delimiter:":",win32:null,posix:null};vr.posix=vr;ph.exports=vr});var nf=H((pL,tf)=>{"use strict";var ia=Object.prototype.hasOwnProperty,ef=Object.prototype.toString,qp=Object.defineProperty,Kp=Object.getOwnPropertyDescriptor,Jp=s(function(e){return typeof Array.isArray=="function"?Array.isArray(e):ef.call(e)==="[object Array]"},"isArray"),Xp=s(function(e){if(!e||ef.call(e)!=="[object Object]")return!1;var n=ia.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&ia.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||ia.call(e,i)},"isPlainObject"),Zp=s(function(e,n){qp&&n.name==="__proto__"?qp(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},"setProperty"),Qp=s(function(e,n){if(n==="__proto__")if(ia.call(e,n)){if(Kp)return Kp(e,n).value}else return;return e[n]},"getProperty");tf.exports=s(function t(){var e,n,r,i,a,l,c=arguments[0],d=1,h=arguments.length,f=!1;for(typeof c=="boolean"&&(f=c,c=arguments[1]||{},d=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});d<h;++d)if(e=arguments[d],e!=null)for(n in e)r=Qp(c,n),i=Qp(e,n),c!==i&&(f&&i&&(Xp(i)||(a=Jp(i)))?(a?(a=!1,l=r&&Jp(r)?r:[]):l=r&&Xp(r)?r:{},Zp(c,{name:n,newValue:t(f,l,i)})):typeof i<"u"&&Zp(c,{name:n,newValue:i}));return c},"extend")});var Hf=H((Aa,Yf)=>{(function(t,e){typeof Aa=="object"&&typeof Yf<"u"?e(Aa):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(Aa,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=s(E=>{if(typeof E!="string")throw new TypeError("Invalid argument expected string");let C=E.match(e);if(!C)throw new Error(`Invalid argument not valid semver ('${E}' received)`);return C.shift(),C},"validateAndParse"),r=s(E=>E==="*"||E==="x"||E==="X","isWildcard"),i=s(E=>{let C=parseInt(E,10);return isNaN(C)?E:C},"tryParse"),a=s((E,C)=>typeof E!=typeof C?[String(E),String(C)]:[E,C],"forceType"),l=s((E,C)=>{if(r(E)||r(C))return 0;let[T,O]=a(i(E),i(C));return T>O?1:T<O?-1:0},"compareStrings"),c=s((E,C)=>{for(let T=0;T<Math.max(E.length,C.length);T++){let O=l(E[T]||"0",C[T]||"0");if(O!==0)return O}return 0},"compareSegments"),d=s((E,C)=>{let T=n(E),O=n(C),N=T.pop(),Y=O.pop(),F=c(T,O);return F!==0?F:N&&Y?c(N.split("."),Y.split(".")):N||Y?N?-1:1:0},"compareVersions"),h=s((E,C,T)=>{y(T);let O=d(E,C);return f[T].includes(O)},"compare"),f={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},m=Object.keys(f),y=s(E=>{if(typeof E!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof E}`);if(m.indexOf(E)===-1)throw new Error(`Invalid operator, expected one of ${m.join("|")}`)},"assertValidOperator"),w=s((E,C)=>{if(C=C.replace(/([><=]+)\s+/g,"$1"),C.includes("||"))return C.split("||").some(te=>w(E,te));if(C.includes(" - ")){let[te,ue]=C.split(" - ",2);return w(E,`>=${te} <=${ue}`)}else if(C.includes(" "))return C.trim().replace(/\s{2,}/g," ").split(" ").every(te=>w(E,te));let T=C.match(/^([<>=~^]+)/),O=T?T[1]:"=";if(O!=="^"&&O!=="~")return h(E,C,O);let[N,Y,F,,Z]=n(E),[Q,K,ie,,ge]=n(C),oe=[N,Y,F],L=[Q,K??"x",ie??"x"];if(ge&&(!Z||c(oe,L)!==0||c(Z.split("."),ge.split("."))===-1))return!1;let j=L.findIndex(te=>te!=="0")+1,G=O==="~"?2:j>1?j:1;return!(c(oe.slice(0,G),L.slice(0,G))!==0||c(oe.slice(G),L.slice(G))===-1)},"satisfies"),S=s(E=>typeof E=="string"&&/^[v\d]/.test(E)&&e.test(E),"validate"),I=s(E=>typeof E=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(E),"validateStrict");t.compare=h,t.compareVersions=d,t.satisfies=w,t.validate=S,t.validateStrict=I}))});var um=H((Xc,Zc)=>{(function(t,e,n){typeof Xc=="object"?(Zc.exports=n(),Zc.exports.default=n()):typeof define=="function"&&define.amd?define(n):e[t]=n()})("slugify",Xc,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),e=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function n(r,i){if(typeof r!="string")throw new Error("slugify: string argument expected");i=typeof i=="string"?{replacement:i}:i||{};var a=e[i.locale]||{},l=i.replacement===void 0?"-":i.replacement,c=i.trim===void 0?!0:i.trim,d=r.normalize().split("").reduce(function(h,f){var m=a[f];return m===void 0&&(m=t[f]),m===void 0&&(m=f),m===l&&(m=" "),h+m.replace(i.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return i.strict&&(d=d.replace(/[^A-Za-z0-9\s]/g,"")),c&&(d=d.trim()),d=d.replace(/\s+/g,l),i.lower&&(d=d.toLowerCase()),d}return s(n,"replace"),n.extend=function(r){Object.assign(t,r)},n})});var Di=H((l5,Om)=>{"use strict";var iC="2.0.0",sC=Number.MAX_SAFE_INTEGER||9007199254740991,aC=16,oC=250,lC=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Om.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:aC,MAX_SAFE_BUILD_LENGTH:oC,MAX_SAFE_INTEGER:sC,RELEASE_TYPES:lC,SEMVER_SPEC_VERSION:iC,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Bi=H((c5,_m)=>{"use strict";var cC=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};_m.exports=cC});var jr=H((en,Rm)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:cu,MAX_SAFE_BUILD_LENGTH:uC,MAX_LENGTH:dC}=Di(),hC=Bi();en=Rm.exports={};var pC=en.re=[],fC=en.safeRe=[],$=en.src=[],mC=en.safeSrc=[],V=en.t={},gC=0,uu="[a-zA-Z0-9-]",yC=[["\\s",1],["\\d",dC],[uu,uC]],wC=s(t=>{for(let[e,n]of yC)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},"makeSafeRegex"),re=s((t,e,n)=>{let r=wC(e),i=gC++;hC(t,i,e),V[t]=i,$[i]=e,mC[i]=r,pC[i]=new RegExp(e,n?"g":void 0),fC[i]=new RegExp(r,n?"g":void 0)},"createToken");re("NUMERICIDENTIFIER","0|[1-9]\\d*");re("NUMERICIDENTIFIERLOOSE","\\d+");re("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${uu}*`);re("MAINVERSION",`(${$[V.NUMERICIDENTIFIER]})\\.(${$[V.NUMERICIDENTIFIER]})\\.(${$[V.NUMERICIDENTIFIER]})`);re("MAINVERSIONLOOSE",`(${$[V.NUMERICIDENTIFIERLOOSE]})\\.(${$[V.NUMERICIDENTIFIERLOOSE]})\\.(${$[V.NUMERICIDENTIFIERLOOSE]})`);re("PRERELEASEIDENTIFIER",`(?:${$[V.NONNUMERICIDENTIFIER]}|${$[V.NUMERICIDENTIFIER]})`);re("PRERELEASEIDENTIFIERLOOSE",`(?:${$[V.NONNUMERICIDENTIFIER]}|${$[V.NUMERICIDENTIFIERLOOSE]})`);re("PRERELEASE",`(?:-(${$[V.PRERELEASEIDENTIFIER]}(?:\\.${$[V.PRERELEASEIDENTIFIER]})*))`);re("PRERELEASELOOSE",`(?:-?(${$[V.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${$[V.PRERELEASEIDENTIFIERLOOSE]})*))`);re("BUILDIDENTIFIER",`${uu}+`);re("BUILD",`(?:\\+(${$[V.BUILDIDENTIFIER]}(?:\\.${$[V.BUILDIDENTIFIER]})*))`);re("FULLPLAIN",`v?${$[V.MAINVERSION]}${$[V.PRERELEASE]}?${$[V.BUILD]}?`);re("FULL",`^${$[V.FULLPLAIN]}$`);re("LOOSEPLAIN",`[v=\\s]*${$[V.MAINVERSIONLOOSE]}${$[V.PRERELEASELOOSE]}?${$[V.BUILD]}?`);re("LOOSE",`^${$[V.LOOSEPLAIN]}$`);re("GTLT","((?:<|>)?=?)");re("XRANGEIDENTIFIERLOOSE",`${$[V.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);re("XRANGEIDENTIFIER",`${$[V.NUMERICIDENTIFIER]}|x|X|\\*`);re("XRANGEPLAIN",`[v=\\s]*(${$[V.XRANGEIDENTIFIER]})(?:\\.(${$[V.XRANGEIDENTIFIER]})(?:\\.(${$[V.XRANGEIDENTIFIER]})(?:${$[V.PRERELEASE]})?${$[V.BUILD]}?)?)?`);re("XRANGEPLAINLOOSE",`[v=\\s]*(${$[V.XRANGEIDENTIFIERLOOSE]})(?:\\.(${$[V.XRANGEIDENTIFIERLOOSE]})(?:\\.(${$[V.XRANGEIDENTIFIERLOOSE]})(?:${$[V.PRERELEASELOOSE]})?${$[V.BUILD]}?)?)?`);re("XRANGE",`^${$[V.GTLT]}\\s*${$[V.XRANGEPLAIN]}$`);re("XRANGELOOSE",`^${$[V.GTLT]}\\s*${$[V.XRANGEPLAINLOOSE]}$`);re("COERCEPLAIN",`(^|[^\\d])(\\d{1,${cu}})(?:\\.(\\d{1,${cu}}))?(?:\\.(\\d{1,${cu}}))?`);re("COERCE",`${$[V.COERCEPLAIN]}(?:$|[^\\d])`);re("COERCEFULL",$[V.COERCEPLAIN]+`(?:${$[V.PRERELEASE]})?(?:${$[V.BUILD]})?(?:$|[^\\d])`);re("COERCERTL",$[V.COERCE],!0);re("COERCERTLFULL",$[V.COERCEFULL],!0);re("LONETILDE","(?:~>?)");re("TILDETRIM",`(\\s*)${$[V.LONETILDE]}\\s+`,!0);en.tildeTrimReplace="$1~";re("TILDE",`^${$[V.LONETILDE]}${$[V.XRANGEPLAIN]}$`);re("TILDELOOSE",`^${$[V.LONETILDE]}${$[V.XRANGEPLAINLOOSE]}$`);re("LONECARET","(?:\\^)");re("CARETTRIM",`(\\s*)${$[V.LONECARET]}\\s+`,!0);en.caretTrimReplace="$1^";re("CARET",`^${$[V.LONECARET]}${$[V.XRANGEPLAIN]}$`);re("CARETLOOSE",`^${$[V.LONECARET]}${$[V.XRANGEPLAINLOOSE]}$`);re("COMPARATORLOOSE",`^${$[V.GTLT]}\\s*(${$[V.LOOSEPLAIN]})$|^$`);re("COMPARATOR",`^${$[V.GTLT]}\\s*(${$[V.FULLPLAIN]})$|^$`);re("COMPARATORTRIM",`(\\s*)${$[V.GTLT]}\\s*(${$[V.LOOSEPLAIN]}|${$[V.XRANGEPLAIN]})`,!0);en.comparatorTrimReplace="$1$2$3";re("HYPHENRANGE",`^\\s*(${$[V.XRANGEPLAIN]})\\s+-\\s+(${$[V.XRANGEPLAIN]})\\s*$`);re("HYPHENRANGELOOSE",`^\\s*(${$[V.XRANGEPLAINLOOSE]})\\s+-\\s+(${$[V.XRANGEPLAINLOOSE]})\\s*$`);re("STAR","(<|>)?=?\\s*\\*");re("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");re("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var $a=H((d5,Nm)=>{"use strict";var bC=Object.freeze({loose:!0}),AC=Object.freeze({}),xC=s(t=>t?typeof t!="object"?bC:t:AC,"parseOptions");Nm.exports=xC});var du=H((p5,Bm)=>{"use strict";var Lm=/^[0-9]+$/,Dm=s((t,e)=>{if(typeof t=="number"&&typeof e=="number")return t===e?0:t<e?-1:1;let n=Lm.test(t),r=Lm.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},"compareIdentifiers"),vC=s((t,e)=>Dm(e,t),"rcompareIdentifiers");Bm.exports={compareIdentifiers:Dm,rcompareIdentifiers:vC}});var Xe=H((m5,Vm)=>{"use strict";var Va=Bi(),{MAX_LENGTH:$m,MAX_SAFE_INTEGER:Ua}=Di(),{safeRe:Wa,t:za}=jr(),kC=$a(),{compareIdentifiers:hu}=du(),pu=class t{static{s(this,"SemVer")}constructor(e,n){if(n=kC(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>$m)throw new TypeError(`version is longer than ${$m} characters`);Va("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?Wa[za.LOOSE]:Wa[za.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Ua||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ua||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ua||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let a=+i;if(a>=0&&a<Ua)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Va("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(Va("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return hu(r,i)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(Va("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return hu(r,i)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let i=`-${n}`.match(this.options.loose?Wa[za.PRERELEASELOOSE]:Wa[za.PRERELEASE]);if(!i||i[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let a=[n,i];r===!1&&(a=[n]),hu(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Vm.exports=pu});var ir=H((y5,Wm)=>{"use strict";var Um=Xe(),SC=s((t,e,n=!1)=>{if(t instanceof Um)return t;try{return new Um(t,e)}catch(r){if(!n)return null;throw r}},"parse");Wm.exports=SC});var Ym=H((b5,zm)=>{"use strict";var CC=ir(),EC=s((t,e)=>{let n=CC(t,e);return n?n.version:null},"valid");zm.exports=EC});var jm=H((x5,Hm)=>{"use strict";var TC=ir(),FC=s((t,e)=>{let n=TC(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},"clean");Hm.exports=FC});var Km=H((k5,qm)=>{"use strict";var Gm=Xe(),PC=s((t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new Gm(t instanceof Gm?t.version:t,n).inc(e,r,i).version}catch{return null}},"inc");qm.exports=PC});var Zm=H((C5,Xm)=>{"use strict";var Jm=ir(),IC=s((t,e)=>{let n=Jm(t,null,!0),r=Jm(e,null,!0),i=n.compare(r);if(i===0)return null;let a=i>0,l=a?n:r,c=a?r:n,d=!!l.prerelease.length;if(!!c.prerelease.length&&!d){if(!c.patch&&!c.minor)return"major";if(c.compareMain(l)===0)return c.minor&&!c.patch?"minor":"patch"}let f=d?"pre":"";return n.major!==r.major?f+"major":n.minor!==r.minor?f+"minor":n.patch!==r.patch?f+"patch":"prerelease"},"diff");Xm.exports=IC});var eg=H((T5,Qm)=>{"use strict";var MC=Xe(),OC=s((t,e)=>new MC(t,e).major,"major");Qm.exports=OC});var ng=H((P5,tg)=>{"use strict";var _C=Xe(),RC=s((t,e)=>new _C(t,e).minor,"minor");tg.exports=RC});var ig=H((M5,rg)=>{"use strict";var NC=Xe(),LC=s((t,e)=>new NC(t,e).patch,"patch");rg.exports=LC});var ag=H((_5,sg)=>{"use strict";var DC=ir(),BC=s((t,e)=>{let n=DC(t,e);return n&&n.prerelease.length?n.prerelease:null},"prerelease");sg.exports=BC});var Pt=H((N5,lg)=>{"use strict";var og=Xe(),$C=s((t,e,n)=>new og(t,n).compare(new og(e,n)),"compare");lg.exports=$C});var ug=H((D5,cg)=>{"use strict";var VC=Pt(),UC=s((t,e,n)=>VC(e,t,n),"rcompare");cg.exports=UC});var hg=H(($5,dg)=>{"use strict";var WC=Pt(),zC=s((t,e)=>WC(t,e,!0),"compareLoose");dg.exports=zC});var Ya=H((U5,fg)=>{"use strict";var pg=Xe(),YC=s((t,e,n)=>{let r=new pg(t,n),i=new pg(e,n);return r.compare(i)||r.compareBuild(i)},"compareBuild");fg.exports=YC});var gg=H((z5,mg)=>{"use strict";var HC=Ya(),jC=s((t,e)=>t.sort((n,r)=>HC(n,r,e)),"sort");mg.exports=jC});var wg=H((H5,yg)=>{"use strict";var GC=Ya(),qC=s((t,e)=>t.sort((n,r)=>GC(r,n,e)),"rsort");yg.exports=qC});var $i=H((G5,bg)=>{"use strict";var KC=Pt(),JC=s((t,e,n)=>KC(t,e,n)>0,"gt");bg.exports=JC});var Ha=H((K5,Ag)=>{"use strict";var XC=Pt(),ZC=s((t,e,n)=>XC(t,e,n)<0,"lt");Ag.exports=ZC});var fu=H((X5,xg)=>{"use strict";var QC=Pt(),eE=s((t,e,n)=>QC(t,e,n)===0,"eq");xg.exports=eE});var mu=H((Q5,vg)=>{"use strict";var tE=Pt(),nE=s((t,e,n)=>tE(t,e,n)!==0,"neq");vg.exports=nE});var ja=H((tW,kg)=>{"use strict";var rE=Pt(),iE=s((t,e,n)=>rE(t,e,n)>=0,"gte");kg.exports=iE});var Ga=H((rW,Sg)=>{"use strict";var sE=Pt(),aE=s((t,e,n)=>sE(t,e,n)<=0,"lte");Sg.exports=aE});var gu=H((sW,Cg)=>{"use strict";var oE=fu(),lE=mu(),cE=$i(),uE=ja(),dE=Ha(),hE=Ga(),pE=s((t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return oE(t,n,r);case"!=":return lE(t,n,r);case">":return cE(t,n,r);case">=":return uE(t,n,r);case"<":return dE(t,n,r);case"<=":return hE(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");Cg.exports=pE});var Tg=H((oW,Eg)=>{"use strict";var fE=Xe(),mE=ir(),{safeRe:qa,t:Ka}=jr(),gE=s((t,e)=>{if(t instanceof fE)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?qa[Ka.COERCEFULL]:qa[Ka.COERCE]);else{let d=e.includePrerelease?qa[Ka.COERCERTLFULL]:qa[Ka.COERCERTL],h;for(;(h=d.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||h.index+h[0].length!==n.index+n[0].length)&&(n=h),d.lastIndex=h.index+h[1].length+h[2].length;d.lastIndex=-1}if(n===null)return null;let r=n[2],i=n[3]||"0",a=n[4]||"0",l=e.includePrerelease&&n[5]?`-${n[5]}`:"",c=e.includePrerelease&&n[6]?`+${n[6]}`:"";return mE(`${r}.${i}.${a}${l}${c}`,e)},"coerce");Eg.exports=gE});var Pg=H((cW,Fg)=>{"use strict";var yu=class{static{s(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}};Fg.exports=yu});var It=H((dW,_g)=>{"use strict";var yE=/\s+/g,wu=class t{static{s(this,"Range")}constructor(e,n){if(n=bE(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof bu)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(yE," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!Mg(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&EE(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&SE)|(this.options.loose&&CE))+":"+e,i=Ig.get(r);if(i)return i;let a=this.options.loose,l=a?lt[Ze.HYPHENRANGELOOSE]:lt[Ze.HYPHENRANGE];e=e.replace(l,LE(this.options.includePrerelease)),ke("hyphen replace",e),e=e.replace(lt[Ze.COMPARATORTRIM],xE),ke("comparator trim",e),e=e.replace(lt[Ze.TILDETRIM],vE),ke("tilde trim",e),e=e.replace(lt[Ze.CARETTRIM],kE),ke("caret trim",e);let c=e.split(" ").map(m=>TE(m,this.options)).join(" ").split(/\s+/).map(m=>NE(m,this.options));a&&(c=c.filter(m=>(ke("loose invalid filter",m,this.options),!!m.match(lt[Ze.COMPARATORLOOSE])))),ke("range list",c);let d=new Map,h=c.map(m=>new bu(m,this.options));for(let m of h){if(Mg(m))return[m];d.set(m.value,m)}d.size>1&&d.has("")&&d.delete("");let f=[...d.values()];return Ig.set(r,f),f}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>Og(r,n)&&e.set.some(i=>Og(i,n)&&r.every(a=>i.every(l=>a.intersects(l,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new AE(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(DE(this.set[n],e,this.options))return!0;return!1}};_g.exports=wu;var wE=Pg(),Ig=new wE,bE=$a(),bu=Vi(),ke=Bi(),AE=Xe(),{safeRe:lt,t:Ze,comparatorTrimReplace:xE,tildeTrimReplace:vE,caretTrimReplace:kE}=jr(),{FLAG_INCLUDE_PRERELEASE:SE,FLAG_LOOSE:CE}=Di(),Mg=s(t=>t.value==="<0.0.0-0","isNullSet"),EE=s(t=>t.value==="","isAny"),Og=s((t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(a=>i.intersects(a,e)),i=r.pop();return n},"isSatisfiable"),TE=s((t,e)=>(t=t.replace(lt[Ze.BUILD],""),ke("comp",t,e),t=IE(t,e),ke("caret",t),t=FE(t,e),ke("tildes",t),t=OE(t,e),ke("xrange",t),t=RE(t,e),ke("stars",t),t),"parseComparator"),ct=s(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),FE=s((t,e)=>t.trim().split(/\s+/).map(n=>PE(n,e)).join(" "),"replaceTildes"),PE=s((t,e)=>{let n=e.loose?lt[Ze.TILDELOOSE]:lt[Ze.TILDE];return t.replace(n,(r,i,a,l,c)=>{ke("tilde",t,r,i,a,l,c);let d;return ct(i)?d="":ct(a)?d=`>=${i}.0.0 <${+i+1}.0.0-0`:ct(l)?d=`>=${i}.${a}.0 <${i}.${+a+1}.0-0`:c?(ke("replaceTilde pr",c),d=`>=${i}.${a}.${l}-${c} <${i}.${+a+1}.0-0`):d=`>=${i}.${a}.${l} <${i}.${+a+1}.0-0`,ke("tilde return",d),d})},"replaceTilde"),IE=s((t,e)=>t.trim().split(/\s+/).map(n=>ME(n,e)).join(" "),"replaceCarets"),ME=s((t,e)=>{ke("caret",t,e);let n=e.loose?lt[Ze.CARETLOOSE]:lt[Ze.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,a,l,c,d)=>{ke("caret",t,i,a,l,c,d);let h;return ct(a)?h="":ct(l)?h=`>=${a}.0.0${r} <${+a+1}.0.0-0`:ct(c)?a==="0"?h=`>=${a}.${l}.0${r} <${a}.${+l+1}.0-0`:h=`>=${a}.${l}.0${r} <${+a+1}.0.0-0`:d?(ke("replaceCaret pr",d),a==="0"?l==="0"?h=`>=${a}.${l}.${c}-${d} <${a}.${l}.${+c+1}-0`:h=`>=${a}.${l}.${c}-${d} <${a}.${+l+1}.0-0`:h=`>=${a}.${l}.${c}-${d} <${+a+1}.0.0-0`):(ke("no pr"),a==="0"?l==="0"?h=`>=${a}.${l}.${c}${r} <${a}.${l}.${+c+1}-0`:h=`>=${a}.${l}.${c}${r} <${a}.${+l+1}.0-0`:h=`>=${a}.${l}.${c} <${+a+1}.0.0-0`),ke("caret return",h),h})},"replaceCaret"),OE=s((t,e)=>(ke("replaceXRanges",t,e),t.split(/\s+/).map(n=>_E(n,e)).join(" ")),"replaceXRanges"),_E=s((t,e)=>{t=t.trim();let n=e.loose?lt[Ze.XRANGELOOSE]:lt[Ze.XRANGE];return t.replace(n,(r,i,a,l,c,d)=>{ke("xRange",t,r,i,a,l,c,d);let h=ct(a),f=h||ct(l),m=f||ct(c),y=m;return i==="="&&y&&(i=""),d=e.includePrerelease?"-0":"",h?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&y?(f&&(l=0),c=0,i===">"?(i=">=",f?(a=+a+1,l=0,c=0):(l=+l+1,c=0)):i==="<="&&(i="<",f?a=+a+1:l=+l+1),i==="<"&&(d="-0"),r=`${i+a}.${l}.${c}${d}`):f?r=`>=${a}.0.0${d} <${+a+1}.0.0-0`:m&&(r=`>=${a}.${l}.0${d} <${a}.${+l+1}.0-0`),ke("xRange return",r),r})},"replaceXRange"),RE=s((t,e)=>(ke("replaceStars",t,e),t.trim().replace(lt[Ze.STAR],"")),"replaceStars"),NE=s((t,e)=>(ke("replaceGTE0",t,e),t.trim().replace(lt[e.includePrerelease?Ze.GTE0PRE:Ze.GTE0],"")),"replaceGTE0"),LE=s(t=>(e,n,r,i,a,l,c,d,h,f,m,y)=>(ct(r)?n="":ct(i)?n=`>=${r}.0.0${t?"-0":""}`:ct(a)?n=`>=${r}.${i}.0${t?"-0":""}`:l?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,ct(h)?d="":ct(f)?d=`<${+h+1}.0.0-0`:ct(m)?d=`<${h}.${+f+1}.0-0`:y?d=`<=${h}.${f}.${m}-${y}`:t?d=`<${h}.${f}.${+m+1}-0`:d=`<=${d}`,`${n} ${d}`.trim()),"hyphenReplace"),DE=s((t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(ke(t[r].semver),t[r].semver!==bu.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},"testSet")});var Vi=H((pW,$g)=>{"use strict";var Ui=Symbol("SemVer ANY"),vu=class t{static{s(this,"Comparator")}static get ANY(){return Ui}constructor(e,n){if(n=Rg(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),xu("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===Ui?this.value="":this.value=this.operator+this.semver.version,xu("comp",this)}parse(e){let n=this.options.loose?Ng[Lg.COMPARATORLOOSE]:Ng[Lg.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Dg(r[2],this.options.loose):this.semver=Ui}toString(){return this.value}test(e){if(xu("Comparator.test",e,this.options.loose),this.semver===Ui||e===Ui)return!0;if(typeof e=="string")try{e=new Dg(e,this.options)}catch{return!1}return Au(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Bg(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new Bg(this.value,n).test(e.semver):(n=Rg(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Au(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Au(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};$g.exports=vu;var Rg=$a(),{safeRe:Ng,t:Lg}=jr(),Au=gu(),xu=Bi(),Dg=Xe(),Bg=It()});var Wi=H((mW,Vg)=>{"use strict";var BE=It(),$E=s((t,e,n)=>{try{e=new BE(e,n)}catch{return!1}return e.test(t)},"satisfies");Vg.exports=$E});var Wg=H((yW,Ug)=>{"use strict";var VE=It(),UE=s((t,e)=>new VE(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" ")),"toComparators");Ug.exports=UE});var Yg=H((bW,zg)=>{"use strict";var WE=Xe(),zE=It(),YE=s((t,e,n)=>{let r=null,i=null,a=null;try{a=new zE(e,n)}catch{return null}return t.forEach(l=>{a.test(l)&&(!r||i.compare(l)===-1)&&(r=l,i=new WE(r,n))}),r},"maxSatisfying");zg.exports=YE});var jg=H((xW,Hg)=>{"use strict";var HE=Xe(),jE=It(),GE=s((t,e,n)=>{let r=null,i=null,a=null;try{a=new jE(e,n)}catch{return null}return t.forEach(l=>{a.test(l)&&(!r||i.compare(l)===1)&&(r=l,i=new HE(r,n))}),r},"minSatisfying");Hg.exports=GE});var Kg=H((kW,qg)=>{"use strict";var ku=Xe(),qE=It(),Gg=$i(),KE=s((t,e)=>{t=new qE(t,e);let n=new ku("0.0.0");if(t.test(n)||(n=new ku("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let i=t.set[r],a=null;i.forEach(l=>{let c=new ku(l.semver.version);switch(l.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!a||Gg(c,a))&&(a=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),a&&(!n||Gg(n,a))&&(n=a)}return n&&t.test(n)?n:null},"minVersion");qg.exports=KE});var Xg=H((CW,Jg)=>{"use strict";var JE=It(),XE=s((t,e)=>{try{return new JE(t,e).range||"*"}catch{return null}},"validRange");Jg.exports=XE});var Ja=H((TW,ty)=>{"use strict";var ZE=Xe(),ey=Vi(),{ANY:QE}=ey,eT=It(),tT=Wi(),Zg=$i(),Qg=Ha(),nT=Ga(),rT=ja(),iT=s((t,e,n,r)=>{t=new ZE(t,r),e=new eT(e,r);let i,a,l,c,d;switch(n){case">":i=Zg,a=nT,l=Qg,c=">",d=">=";break;case"<":i=Qg,a=rT,l=Zg,c="<",d="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(tT(t,e,r))return!1;for(let h=0;h<e.set.length;++h){let f=e.set[h],m=null,y=null;if(f.forEach(w=>{w.semver===QE&&(w=new ey(">=0.0.0")),m=m||w,y=y||w,i(w.semver,m.semver,r)?m=w:l(w.semver,y.semver,r)&&(y=w)}),m.operator===c||m.operator===d||(!y.operator||y.operator===c)&&a(t,y.semver))return!1;if(y.operator===d&&l(t,y.semver))return!1}return!0},"outside");ty.exports=iT});var ry=H((PW,ny)=>{"use strict";var sT=Ja(),aT=s((t,e,n)=>sT(t,e,">",n),"gtr");ny.exports=aT});var sy=H((MW,iy)=>{"use strict";var oT=Ja(),lT=s((t,e,n)=>oT(t,e,"<",n),"ltr");iy.exports=lT});var ly=H((_W,oy)=>{"use strict";var ay=It(),cT=s((t,e,n)=>(t=new ay(t,n),e=new ay(e,n),t.intersects(e,n)),"intersects");oy.exports=cT});var uy=H((NW,cy)=>{"use strict";var uT=Wi(),dT=Pt();cy.exports=(t,e,n)=>{let r=[],i=null,a=null,l=t.sort((f,m)=>dT(f,m,n));for(let f of l)uT(f,e,n)?(a=f,i||(i=f)):(a&&r.push([i,a]),a=null,i=null);i&&r.push([i,null]);let c=[];for(let[f,m]of r)f===m?c.push(f):!m&&f===l[0]?c.push("*"):m?f===l[0]?c.push(`<=${m}`):c.push(`${f} - ${m}`):c.push(`>=${f}`);let d=c.join(" || "),h=typeof e.raw=="string"?e.raw:String(e);return d.length<h.length?d:e}});var gy=H((LW,my)=>{"use strict";var dy=It(),Cu=Vi(),{ANY:Su}=Cu,zi=Wi(),Eu=Pt(),hT=s((t,e,n={})=>{if(t===e)return!0;t=new dy(t,n),e=new dy(e,n);let r=!1;e:for(let i of t.set){for(let a of e.set){let l=fT(i,a,n);if(r=r||l!==null,l)continue e}if(r)return!1}return!0},"subset"),pT=[new Cu(">=0.0.0-0")],hy=[new Cu(">=0.0.0")],fT=s((t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Su){if(e.length===1&&e[0].semver===Su)return!0;n.includePrerelease?t=pT:t=hy}if(e.length===1&&e[0].semver===Su){if(n.includePrerelease)return!0;e=hy}let r=new Set,i,a;for(let w of t)w.operator===">"||w.operator===">="?i=py(i,w,n):w.operator==="<"||w.operator==="<="?a=fy(a,w,n):r.add(w.semver);if(r.size>1)return null;let l;if(i&&a){if(l=Eu(i.semver,a.semver,n),l>0)return null;if(l===0&&(i.operator!==">="||a.operator!=="<="))return null}for(let w of r){if(i&&!zi(w,String(i),n)||a&&!zi(w,String(a),n))return null;for(let S of e)if(!zi(w,String(S),n))return!1;return!0}let c,d,h,f,m=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,y=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&a.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let w of e){if(f=f||w.operator===">"||w.operator===">=",h=h||w.operator==="<"||w.operator==="<=",i){if(y&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===y.major&&w.semver.minor===y.minor&&w.semver.patch===y.patch&&(y=!1),w.operator===">"||w.operator===">="){if(c=py(i,w,n),c===w&&c!==i)return!1}else if(i.operator===">="&&!zi(i.semver,String(w),n))return!1}if(a){if(m&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===m.major&&w.semver.minor===m.minor&&w.semver.patch===m.patch&&(m=!1),w.operator==="<"||w.operator==="<="){if(d=fy(a,w,n),d===w&&d!==a)return!1}else if(a.operator==="<="&&!zi(a.semver,String(w),n))return!1}if(!w.operator&&(a||i)&&l!==0)return!1}return!(i&&h&&!a&&l!==0||a&&f&&!i&&l!==0||y||m)},"simpleSubset"),py=s((t,e,n)=>{if(!t)return e;let r=Eu(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),fy=s((t,e,n)=>{if(!t)return e;let r=Eu(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");my.exports=hT});var Ay=H((BW,by)=>{"use strict";var Tu=jr(),yy=Di(),mT=Xe(),wy=du(),gT=ir(),yT=Ym(),wT=jm(),bT=Km(),AT=Zm(),xT=eg(),vT=ng(),kT=ig(),ST=ag(),CT=Pt(),ET=ug(),TT=hg(),FT=Ya(),PT=gg(),IT=wg(),MT=$i(),OT=Ha(),_T=fu(),RT=mu(),NT=ja(),LT=Ga(),DT=gu(),BT=Tg(),$T=Vi(),VT=It(),UT=Wi(),WT=Wg(),zT=Yg(),YT=jg(),HT=Kg(),jT=Xg(),GT=Ja(),qT=ry(),KT=sy(),JT=ly(),XT=uy(),ZT=gy();by.exports={parse:gT,valid:yT,clean:wT,inc:bT,diff:AT,major:xT,minor:vT,patch:kT,prerelease:ST,compare:CT,rcompare:ET,compareLoose:TT,compareBuild:FT,sort:PT,rsort:IT,gt:MT,lt:OT,eq:_T,neq:RT,gte:NT,lte:LT,cmp:DT,coerce:BT,Comparator:$T,Range:VT,satisfies:UT,toComparators:WT,maxSatisfying:zT,minSatisfying:YT,minVersion:HT,validRange:jT,outside:GT,gtr:qT,ltr:KT,intersects:JT,simplifyRange:XT,subset:ZT,SemVer:mT,re:Tu.re,src:Tu.src,tokens:Tu.t,SEMVER_SPEC_VERSION:yy.SEMVER_SPEC_VERSION,RELEASE_TYPES:yy.RELEASE_TYPES,compareIdentifiers:wy.compareIdentifiers,rcompareIdentifiers:wy.rcompareIdentifiers}});var uF={};Sd(uF,{default:()=>cF});module.exports=bA(uF);var Mo=require("electron"),Bu=We(pn(),1),Ut=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Dt(){}s(Dt,"noop");async function Yt(){}s(Yt,"noopAsync");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var oi=Number.POSITIVE_INFINITY;function zn(...t){let e=t.filter(a=>!!a);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return qe();if(e.length===1&&e[0])return e[0];let n=new AbortController;for(let a of e)if(a.aborted)return a;let r=[];for(let a of e)r.push(Td(a,i));return n.signal;function i(a){for(let l of r)l();n.abort(a.reason)}}s(zn,"abortSignalAny");function qe(){return new AbortController().signal}s(qe,"abortSignalNever");function Ed(t){if(t===oi)return qe();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}s(Ed,"abortSignalTimeout");function Td(t,e){if(t.aborted)return e(t),Dt;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(r){e(r.target)}s(n,"wrappedCallback")}s(Td,"onAbort");function Fd(t,e){return new Promise((n,r)=>{Td(t,()=>{e?r(t.reason):n(t.reason)})})}s(Fd,"waitForAbort");var ul=We(Vd(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function li(t,e){let n=t.length,r=0;for(let i=0;i<n;i++){if(!Object.hasOwn(t,i))continue;let a=t[i];e(a,i,t)&&(t[r++]=a)}t.length=r}s(li,"filterInPlace");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ht=class{static{s(this,"AsyncEvents")}eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&(li(r,i=>i.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(li(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let i=this.eventRefsMap.get(e);i||(i=[],this.eventRefsMap.set(e,i));let a={asyncEvents:this,callback:n,name:e,thisArg:r};return i.push(a),a}once(e,n,r){let i=this.on(e,n,r),a=this.on(e,()=>{this.offref(i),this.offref(a)});return i}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())this.tryTrigger(i,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())await this.tryTriggerAsync(i,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var al="asyncError",ms=new Ht;ms.on(al,YA);var gs="An unhandled error occurred executing async operation",Wd="    at",Bt=class t extends Error{static{s(this,"CustomStackTraceError")}constructor(e,n,r){super(e,{cause:r}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,t);let i=r,a=new Set;for(;i instanceof t;){if(a.has(i))throw new Error("Circular cause detected");a.add(i),i=i.cause}let l=(this.stack??"").split(`
`),c=n.split(`
`);/^\w*Error(?:: |$)/.test(c[0]??"")&&c.splice(0,1),l.splice(1,l.length-1,...c),this.stack=l.join(`
`)}},wr=class t extends Error{static{s(this,"SilentError")}constructor(e){super(e),this.name="SilentError",Error.captureStackTrace?.(this,t)}};function ys(t){ms.trigger(al,t)}s(ys,"emitAsyncErrorEvent");function ws(t){if(!(t instanceof Error))return String(t);let e=t.stack??`${t.name}: ${t.message}`;if(t.cause!==void 0){let n=ws(t.cause).split(`
`);e+=`
${Ud("Caused by:")}`;for(let r of n)r.trim()&&(e+=r.startsWith(Wd)?`
${r}`:`
${Ud(r)}`)}return e}s(ws,"errorToString");function it(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}s(it,"getStackTrace");function fn(t,e){e??=globalThis.console,e.error(ws(t))}s(fn,"printError");function zd(t){let e=ms.on(al,t);return()=>{ms.offref(e)}}s(zd,"registerAsyncErrorEventHandler");function Hn(t){throw t}s(Hn,"throwExpression");function Ud(t){return`${Wd} --- ${t} --- (0)`}s(Ud,"generateStackTraceLine");function YA(t){fn(t)}s(YA,"handleAsyncError");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ol="43.1.0",bs="obsidian-dev-utils",Yd=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utilsprogress.loop {
  min-width: 200px;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/loop.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;ACjDJ;EACE;;;ACAA;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&progress.loop%20%7B%5Cn%20%20%20%20min-width:%20200px;%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ll=class{static{s(this,"ValueWrapper")}constructor(e){this.value=e}};function HA(){let t=globalThis.app;if(t)return t;try{return globalThis.require("obsidian/app")}catch{throw new Error("Obsidian App global instance not found")}}s(HA,"getApp");function ft(t,e,n){let i=t??jA()??globalThis;return i.obsidianDevUtilsState??={},i.obsidianDevUtilsState[e]??=new ll(n)}s(ft,"getObsidianDevUtilsState");function jA(){return typeof window>"u"?null:HA()}s(jA,"getAppOrNull");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var cl="__no-plugin-id-initialized__",Hd=cl;function As(){return Hd}s(As,"getPluginId");function jd(t){t&&(Hd=t)}s(jd,"setPluginId");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Gd=",",xs="-";function qd(){return{disable:GA,enable:qA,get:ks,set:ci}}s(qd,"getDebugController");function vs(t,e=0){let n=`${t}:${String(e)}`,r=ft(null,"debuggers",new Map).value,i=r.get(n);return i||(i=ui()(t),i.log=(a,...l)=>{KA(t,e,a,...l)},r.set(n,i)),i}s(vs,"getDebugger");function be(t){let e=As(),n=e===cl?"":`${e}:`;return vs(`${n}${bs}:${t}`)}s(be,"getLibDebugger");function jt(t,e,n,...r){if(!Jd()){t(n,...r);return}t(n,...r,`

---
Context stack trace:
`,Xd(e))}s(jt,"printWithStackTrace");function Kd(t){let e=ui().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",i=ks();ci(t),vs(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),ci(i)}s(Kd,"showInitialDebugMessage");function GA(t){let e=new Set(ks());for(let n of di(t)){if(n.startsWith(xs))continue;let r=xs+n;e.has(n)&&e.delete(n),e.add(r)}ci(Array.from(e))}s(GA,"disableNamespaces");function qA(t){let e=new Set(ks());for(let n of di(t)){if(!n.startsWith(xs)){let r=xs+n;e.has(r)&&e.delete(r)}e.add(n)}ci(Array.from(e))}s(qA,"enableNamespaces");function ks(){return di(ui().load()??"")}s(ks,"getNamespaces");function ui(){return typeof window>"u"?ul.default:ft(null,"debug",ul.default).value}s(ui,"getSharedDebugLibInstance");function Jd(){return typeof window<"u"}s(Jd,"isInObsidian");function KA(t,e,n,...r){if(!ui().enabled(t))return;if(!Jd()){console.debug(n,...r);return}let i=4,a=new Error().stack?.split(`
`)??[];a.splice(0,i+e),console.debug(n,...r,`

---
Logger stack trace:
`,Xd(a.join(`
`)))}s(KA,"logWithCaller");function Xd(t){return new Bt("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}s(Xd,"makeStackTraceError");function ci(t){ui().enable(di(t).join(Gd))}s(ci,"setNamespaces");function di(t){return typeof t=="string"?t.split(Gd).filter(Boolean):t.flatMap(di)}s(di,"toArray");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function dl(t,e){e??=it(1);try{await t()}catch(n){let r=new Bt(gs,e,n);if(JA(r))return;ys(r)}}s(dl,"addErrorHandler");function st(t,e){return e??=it(1),(...n)=>{let r=it(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${r}`,Ae(()=>t(...n),e)}}s(st,"convertAsyncToSync");function Ae(t,e){e??=it(1),dl(t,e)}s(Ae,"invokeAsyncSafely");function Zd(t,e=0,n,r){r??=qe(),r.throwIfAborted(),n??=it(1),Ae(async()=>{await pl(e,r,!0),await t(r)},n)}s(Zd,"invokeAsyncSafelyAfterDelay");function JA(t){let e=t;for(;!(e instanceof wr);){if(!(e instanceof Error))return!1;e=e.cause}return be("Async:handleSilentError")(t),!0}s(JA,"handleSilentError");var XA=new WeakSet;async function Qd(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}s(Qd,"requestAnimationFrameAsync");async function Ss(t,e,n){let r=be("Async:retryWithTimeout");n??=it(1);let a={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};a.abortSignal?.throwIfAborted(),await hl(a.timeoutInMilliseconds,async l=>{let c=zn(a.abortSignal,l);c.throwIfAborted();let d=0;for(;!c.aborted;){d++;let h;try{h=await t(c)}catch(f){if(c.aborted||!a.shouldRetryOnError||XA.has(f))throw new Bt("retryWithTimeout failed",n,f);fn(f),h=!1}if(h){jt(r,n,`Retry completed successfully after ${String(d)} attempts`,{fn:t});return}jt(r,n,`Retry attempt ${String(d)} completed unsuccessfully. Trying again in ${String(a.retryDelayInMilliseconds)} milliseconds`,{fn:t}),await pl(a.retryDelayInMilliseconds,l)}},{retryFn:t},n)}s(Ss,"retryWithTimeout");async function hl(t,e,n,r){r??=it(1);let i=performance.now(),a=new AbortController,l=new AbortController,c=null,d=!1,h=!1,f=be("Async:runWithTimeout");if(await Promise.race([m(),y()]),d)return c;throw new Bt("Run with timeout failed",r,a.signal.reason);async function m(){try{c=await e(a.signal);let w=performance.now()-i;jt(f,r??"",`Execution time: ${String(w)} milliseconds`,{context:n,fn:e}),d=!0}catch(w){a.abort(w)}finally{h=!0,l.abort(new Error("Completed"))}}async function y(){for(;!h;){if(await pl(t,l.signal),h)return;let w=performance.now()-i;jt(f,r??"",`Timed out after ${String(w)} milliseconds`,{context:n,fn:e});let S=be("Async:runWithTimeout:timeout");if(!S.enabled){a.abort(new Error(`Timed out after ${String(w)} milliseconds`));return}S(`The execution is not terminated because debugger ${S.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information.`)}}}s(hl,"runWithTimeout");async function pl(t,e,n){await Fd(zn(e,Ed(t))),n&&e?.throwIfAborted()}s(pl,"sleep");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function fl(t){return await new Promise(e=>{let n=new FileReader;n.addEventListener("loadend",r),n.readAsDataURL(t);function r(){e(n.result)}s(r,"handleLoadEnd")})}s(fl,"blobToDataUrl");async function eh(t,e){let n=await fl(t);return new Promise(r=>{let i=new Image;i.addEventListener("load",a),i.src=n;function a(){let l=document.createElement("canvas"),c=l.getContext("2d");if(!c)throw new Error("Could not get 2D context.");let d=i.width,h=i.height;l.width=d,l.height=h,c.fillStyle="#fff",c.fillRect(0,0,d,h),c.save();let f=.5;c.translate(d*f,h*f),c.drawImage(i,0,0,d,h,-d*f,-h*f,d,h),c.restore();let m=l.toDataURL("image/jpeg",e),y=ZA(m);r(y)}s(a,"handleLoad")})}s(eh,"blobToJpegArrayBuffer");function ZA(t){let n=t.split(";base64,")[1];if(!n)throw new Error("Invalid data URL");let r=window.atob(n),i=r.length,a=new Uint8Array(i);for(let l=0;l<i;l++)a[l]=r.charCodeAt(l);return a.buffer}s(ZA,"dataUrlToArrayBuffer");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Cs(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(Cs,"escapeRegExp");function th(t){try{return new RegExp(t),!0}catch{return!1}}s(th,"isValidRegExp");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function jn(t,e,...n){return e??=qe(),e.throwIfAborted(),QA(t)?await t(e,...n):t}s(jn,"resolveValue");function QA(t){return typeof t=="function"}s(QA,"isFunction");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ex={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var tx={};for(let[t,e]of Object.entries(ex))tx[e]=t;function nh(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}s(nh,"insertAt");function hi(t){return Te(t,/\u00A0|\u202F/g," ").normalize("NFC")}s(hi,"normalize");function Te(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...i)=>{let l=typeof i.at(-1)=="object",c=l?i.length-2:i.length-1,d={groups:l?i.at(-1):void 0,missingGroupIndices:[],offset:i.at(c-1),source:i.at(c),substring:r},h=i.slice(0,c-1).map((f,m)=>{if(typeof f=="string")return f;if(typeof f>"u")return d.missingGroupIndices.push(m),"";throw new Error(`Unexpected argument type: ${typeof f}`)});return n(d,...h)??d.substring}))}s(Te,"replaceAll");async function rh(t,e,n,r){if(r??=qe(),r.throwIfAborted(),typeof n=="string")return Te(t,e,n);let i=[];Te(t,e,(l,...c)=>(i.push(()=>jn(n,r,l,...c)),""));let a=[];for(let l of i)r.throwIfAborted(),a.push(await l());return r.throwIfAborted(),Te(t,e,l=>a.shift()??l.substring)}s(rh,"replaceAllAsync");function Gt(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}s(Gt,"trimEnd");function br(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}s(br,"trimStart");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ih=".",nx=[{constructor:ArrayBuffer,equalityComparer:ix},{constructor:Date,equalityComparer:sx},{constructor:RegExp,equalityComparer:ox},{constructor:Map,equalityComparer:ax},{constructor:Set,equalityComparer:lx}];function vt(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let d=cx(t,e);if(d!==void 0)return d}let i=Ar(t),a=Ar(e);if(i.length!==a.length)return!1;let l=t,c=e;for(let d of i)if(!a.includes(d)||!vt(l[d],c[d]))return!1;return!0}s(vt,"deepEqual");function sh(t){return typeof t!="object"||t===null?t:"default"in t?t.default:t}s(sh,"extractDefaultExportInterop");function Ar(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[i,a]of Object.entries(r)){if(i==="__proto__"||typeof a.value=="function")continue;let l=typeof a.get=="function",c=typeof a.set=="function";if(l||c){l&&c&&e.push(i);continue}a.enumerable&&a.writable&&e.push(i)}n=Object.getPrototypeOf(n)}return e.sort()}s(Ar,"getAllKeys");function Fn(t,e){let n=t,r=e.split(ih);for(let i of r){if(n===void 0)return;n=n[i]}return n}s(Fn,"getNestedPropertyValue");function gl(t){return t==null?t:Object.getPrototypeOf(t)}s(gl,"getPrototypeOf");function ah(t,e){for(let[n,r]of Object.entries(t))r===void 0&&!e?.includes(n)&&delete t[n];return t}s(ah,"removeUndefinedProperties");function oh(t,e,n){let r=new Error(`Property path ${e} not found`),i=t,a=e.split(ih);for(let c of a.slice(0,-1)){if(i===void 0)throw r;i=i[c]}let l=a.at(-1);if(i===void 0||l===void 0)throw r;i[l]=n}s(oh,"setNestedPropertyValue");function Es(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:ml("CircularReference"),maxDepthLimitReached:ml("MaxDepthLimitReached"),toJSONFailed:ml("ToJSONFailed")}},r={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};r.maxDepth===-1&&(r.maxDepth=1/0);let i=[],l=Ts(t,"",0,!0,r,i,new WeakSet),c=JSON.stringify(l,null,r.space)??"";return c=Te(c,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(d,h,f)=>rx({functionTexts:i,index:f?parseInt(f,10):0,key:h,substitutions:r.tokenSubstitutions})),c}s(Es,"toJson");function rx(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??Hn(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}s(rx,"applySubstitutions");function ix(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return vt(n,r)}s(ix,"deepEqualArrayBuffer");function sx(t,e){return t.getTime()===e.getTime()}s(sx,"deepEqualDate");function ax(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!vt(r,e.get(n)))return!1;return!0}s(ax,"deepEqualMap");function ox(t,e){return t.source===e.source&&t.flags===e.flags}s(ox,"deepEqualRegExp");function lx(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let i of e)if(vt(n,i)){r=!0;break}if(!r)return!1}return!0}s(lx,"deepEqualSet");function cx(t,e){for(let{constructor:n,equalityComparer:r}of nx)if(t instanceof n&&e instanceof n)return r(t,e)}s(cx,"deepEqualTyped");function ux(t,e,n,r,i,a){return e>r.maxDepth?xr("MaxDepthLimitReachedArray",t.length):t.map((l,c)=>Ts(l,String(c),e+1,n,r,i,a))}s(ux,"handleArray");function dx(t,e,n){if(n.shouldHandleCircularReferences)return xr("CircularReference");let r=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${r}'
--- property '${e}' closes the circle`)}s(dx,"handleCircularReference");function hx(t,e,n){if(n.functionHandlingMode==="exclude")return;let r=e.length,i=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(i),xr("Function",r)}s(hx,"handleFunction");function px(t,e,n,r,i,a,l){if(l.has(t))return dx(t,e,i);if(l.add(t),r){let c=mx(t,e,n,i,a,l);if(c!==void 0)return c}return Array.isArray(t)?ux(t,n,r,i,a,l):n>i.maxDepth?xr("MaxDepthLimitReached"):t instanceof Error&&i.shouldHandleErrors?ws(t):fx(t,n,r,i,a,l)}s(px,"handleObject");function fx(t,e,n,r,i,a){let l=Object.entries(t);return r.shouldSortKeys&&l.sort(([c],[d])=>c.localeCompare(d)),Object.fromEntries(l.map(([c,d])=>[c,Ts(d,c,e+1,n,r,i,a)]))}s(fx,"handlePlainObject");function ml(t){return`{ "[[${t}]]": null }`}s(ml,"makeObjectTokenSubstitution");function xr(t,e){return`[[${t}${e?String(e):""}]]`}s(xr,"makePlaceholder");function Ts(t,e,n,r,i,a,l){return t===void 0?n===0||i.shouldHandleUndefined?xr("Undefined"):void 0:typeof t=="function"?hx(t,a,i):typeof t!="object"||t===null?t:px(t,e,n,r,i,a,l)}s(Ts,"toPlainObject");function mx(t,e,n,r,i,a){let l=t.toJSON;if(typeof l=="function")try{let c=l.call(t,e);return Ts(c,e,n,!1,r,i,a)}catch(c){if(r.shouldCatchToJSONErrors)return xr("ToJSONFailed");throw c}}s(mx,"tryHandleToJSON");var gx=require("obsidian"),ch=require("obsidian"),uh=require("obsidian"),A2=require("obsidian"),x2=require("obsidian");var lh=class{static{s(this,"CustomArrayDictImpl")}data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var kt={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},pi={AllProperties:"all-properties",Audio:"audio",Backlink:kt.Backlink,Bases:kt.Bases,Bookmarks:kt.Bookmarks,Canvas:kt.Canvas,Empty:"empty",FileExplorer:kt.FileExplorer,FileProperties:"file-properties",Graph:kt.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:kt.OutgoingLink,Outline:kt.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function yx(){return ch.TFile}s(yx,"getTFileConstructor");function wx(){return uh.TFolder}s(wx,"getTFolderConstructor");function mt(t){return t.replace(/\/?[^\/]*$/,"")||"/"}s(mt,"parentFolderPath");function Fs(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(wx())(t.vault,e),n.parent=Fs(t,mt(e)),n.deleted=!0,n)}s(Fs,"createTFolderInstance");function dh(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(yx())(t.vault,e),n.parent=Fs(t,mt(e)),n.deleted=!0,n)}s(dh,"createTFileInstance");function $t(t){return!!t.position}s($t,"isReferenceCache");function gt(t){return!!t.key}s(gt,"isFrontmatterLinkCache");var yl=We(fh(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ax=/[a-zA-Z]:\/[^:]*$/,Kt=yl.default.posix,P2=Kt.delimiter,I2=yl.default.posix.sep,Fe=Kt.basename,Ee=Kt.dirname,ze=Kt.extname,M2=Kt.format;var Pe=Kt.join,O2=Kt.normalize,_2=Kt.parse,kr=Kt.relative;function St(t,e){return e?`${t}.${e}`:t}s(St,"makeFileName");function mh(...t){let e=Kt.resolve(...t);return e=xx(e),Ax.exec(e)?.[0]??e}s(mh,"resolve");function xx(t){return Te(t,"\\","/")}s(xx,"toPosixPath");var mn=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vx="base",Ps="canvas",fi="md";function wl(t,e,n){if(Ct(e))return e.extension===n;if(typeof e=="string"){let r=Le(t,e);return r?r.extension===n:ze(e).slice(1)===n}return!1}s(wl,"checkExtension");function Gn(t,e,n){if(e===null)return null;if(yh(e))return t.vault.fileMap[e.path]??e;let r=gh(t,e,n);if(r)return r;let i=wh(e);return i===e?null:gh(t,i,n)}s(Gn,"getAbstractFileOrNull");function Oe(t,e,n,r){let i=Le(t,e,r);if(!i)if(n)i=dh(t,e);else throw new Error(`File not found: ${e}`);return i}s(Oe,"getFile");function Le(t,e,n){let r=Gn(t,e,n);return Ct(r)?r:null}s(Le,"getFileOrNull");function Sr(t,e,n,r){let i=Vt(t,e,r);if(!i)if(n)i=Fs(t,e);else throw new Error(`Folder not found: ${e}`);return i}s(Sr,"getFolder");function Vt(t,e,n){let r=Gn(t,e,n);return bl(r)?r:null}s(Vt,"getFolderOrNull");function ve(t,e){if(yh(e))return e.path;let n=Gn(t,e);return n?n.path:wh(e)}s(ve,"getPath");function yh(t){return t instanceof mn.TAbstractFile}s(yh,"isAbstractFile");function kx(t,e){return wl(t,e,vx)}s(kx,"isBaseFile");function gn(t,e){return wl(t,e,Ps)}s(gn,"isCanvasFile");function Ct(t){return t instanceof mn.TFile}s(Ct,"isFile");function bl(t){return t instanceof mn.TFolder}s(bl,"isFolder");function yn(t,e){return wl(t,e,fi)}s(yn,"isMarkdownFile");function mi(t,e){return yn(t,e)||gn(t,e)||kx(t,e)}s(mi,"isNote");function gh(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}s(gh,"getFileInternal");function wh(t){return(0,mn.normalizePath)(mh("/",t))}s(wh,"getResolvedPath");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pn=(t=>(t.DeleteNote="DeleteNote",t.RenameNote="RenameNote",t.Unknown="Unknown",t))(Pn||{}),Jt="__DUMMY__";async function Al(t){let{app:e,notePathOrFile:n,oldAttachmentPathOrFile:r,shouldSkipDuplicateCheck:i}=t,a=ve(e,r),l=ze(a),c=Fe(a,l),d=Le(e,a),h=e.vault.getAvailablePathForAttachments.extended;return h?h({attachmentFileBaseName:c,attachmentFileContent:d?await e.vault.readBinary(d):void 0,attachmentFileExtension:l.slice(1),attachmentFileStat:d?.stat,context:t.context,notePathOrFile:n,oldAttachmentPathOrFile:t.oldAttachmentPathOrFile,oldNotePathOrFile:t.oldNotePathOrFile,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:!0}):await xl({app:e,attachmentFileBaseName:c,attachmentFileExtension:l.slice(1),notePathOrFile:n,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:!0})}s(Al,"getAttachmentFilePath");async function Cr(t,e,n="Unknown"){return mt(await Al({app:t,context:n,notePathOrFile:e,oldAttachmentPathOrFile:Jt,shouldSkipDuplicateCheck:!0}))}s(Cr,"getAttachmentFolderPath");async function xl(t){let{app:e,attachmentFileExtension:n,notePathOrFile:r,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:a}=t,l=e.vault.getConfig("attachmentFolderPath"),c=l==="."||l==="./",d=l.startsWith("./")?br(l,"./"):null,h=Le(e,r);c?l=h?h.parent?.path??"":"":d&&(l=(h?h.parent?.getParentPrefix()??"":"")+d),l=hi(bh(l));let f=hi(bh(t.attachmentFileBaseName)),m=Vt(e,l,!0);!m&&d&&(m=a?Sr(e,l,!0):await e.vault.createFolder(l));let y=m?.getParentPrefix()??"";return i?St(y+f,n):e.vault.getAvailablePath(y+f,n)}s(xl,"getAvailablePathForAttachments");async function vl(t,e,n="Unknown"){let r=await Cr(t,e,n),i=await Cr(t,Pe(Ee(e),`${Jt}.${fi}`),n);return r!==i}s(vl,"hasOwnAttachmentFolder");function bh(t){return t=Te(t,/(?:[\\/])+/g,"/"),t=Te(t,/^\/+|\/+$/g,""),t||"/"}s(bh,"normalizeSlashes");var X=s(t=>typeof t=="string","isString"),gi=s(()=>{let t,e,n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},"defer"),Ah=s(t=>t==null?"":""+t,"makeString"),Sx=s((t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},"copy"),Cx=/###/g,xh=s(t=>t&&t.indexOf("###")>-1?t.replace(Cx,"."):t,"cleanKey"),vh=s(t=>!t||X(t),"canNotTraverseDeeper"),yi=s((t,e,n)=>{let r=X(e)?e.split("."):e,i=0;for(;i<r.length-1;){if(vh(t))return{};let a=xh(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return vh(t)?{}:{obj:t,k:xh(r[i])}},"getLastOfPath"),kh=s((t,e,n)=>{let{obj:r,k:i}=yi(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=yi(t,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=yi(t,l,Object),c?.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=n},"setPath"),Ex=s((t,e,n,r)=>{let{obj:i,k:a}=yi(t,e,Object);i[a]=i[a]||[],i[a].push(n)},"pushPath"),Ms=s((t,e)=>{let{obj:n,k:r}=yi(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},"getPath"),Tx=s((t,e,n)=>{let r=Ms(t,n);return r!==void 0?r:Ms(e,n)},"getPathWithDefaults"),Oh=s((t,e,n)=>{for(let r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?X(t[r])||t[r]instanceof String||X(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Oh(t[r],e[r],n):t[r]=e[r]);return t},"deepExtend"),Er=s(t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape"),Fx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},Px=s(t=>X(t)?t.replace(/[&<>"'\/]/g,e=>Fx[e]):t,"escape"),Sl=class{static{s(this,"RegExpCache")}constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let n=this.regExpMap.get(e);if(n!==void 0)return n;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}},Ix=[" ",",","?","!",";"],Mx=new Sl(20),Ox=s((t,e,n)=>{e=e||"",n=n||"";let r=Ix.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(r.length===0)return!0;let i=Mx.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`),a=!i.test(t);if(!a){let l=t.indexOf(n);l>0&&!i.test(t.substring(0,l))&&(a=!0)}return a},"looksLikeObjectPath"),Cl=s((t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let r=e.split(n),i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let l,c="";for(let d=a;d<r.length;++d)if(d!==a&&(c+=n),c+=r[d],l=i[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<r.length-1)continue;a+=d-a+1;break}i=l}return i},"deepFind"),wi=s(t=>t?.replace("_","-"),"getCleanedCode"),_x={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}},El=class t{static{s(this,"Logger")}constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||_x,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(X(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},Xt=new El,Tr=class{static{s(this,"EventEmitter")}constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);let i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...n])})}},Os=class extends Tr{static{s(this,"ResourceStore")}constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){let a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure,c;e.indexOf(".")>-1?c=e.split("."):(c=[e,n],r&&(Array.isArray(r)?c.push(...r):X(r)&&a?c.push(...r.split(a)):c.push(r)));let d=Ms(this.data,c);return!d&&!n&&!r&&e.indexOf(".")>-1&&(e=c[0],n=c[1],r=c.slice(2).join(".")),d||!l||!X(r)?d:Cl(this.data?.[e]?.[n],r,a)}addResource(e,n,r,i,a={silent:!1}){let l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=[e,n];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),i=n,n=c[1]),this.addNamespaces(n),kh(this.data,c,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(let a in r)(X(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,l={silent:!1,skipCopy:!1}){let c=[e,n];e.indexOf(".")>-1&&(c=e.split("."),i=r,r=n,n=c[1]),this.addNamespaces(n);let d=Ms(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Oh(d,r,a):d={...d,...r},kh(this.data,c,d),l.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}},_h={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{e=this.processors[a]?.process(e,n,r,i)??e}),e}},Rh=Symbol("i18next/PATH_KEY");function Rx(){let t=[],e=Object.create(null),n;return e.get=(r,i)=>(n?.revoke?.(),i===Rh?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}s(Rx,"createProxy");function Tl(t,e){let{[Rh]:n}=t(Rx());return n.join(e?.keySeparator??".")}s(Tl,"keysFromSelector");var Sh={},Ch=s(t=>!X(t)&&typeof t!="boolean"&&typeof t!="number","shouldHandleAsObject"),_s=class t extends Tr{static{s(this,"Translator")}constructor(e,n={}){super(),Sx(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Xt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){let r={...n};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");let i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,a=n.ns||this.options.defaultNS||[],l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Ox(e,r,i);if(l&&!c){let d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:X(a)?[a]:a};let h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(i)}return{key:e,namespaces:X(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=Tl(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);let a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(e[e.length-1],i),h=d[d.length-1],f=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");let m=i.lng||this.language,y=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return y?a?{res:`${h}${f}${c}`,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:`${h}${f}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:c;let w=this.resolve(e,i),S=w?.res,I=w?.usedKey||c,E=w?.exactUsedKey||c,C=["[object Number]","[object Function]","[object RegExp]"],T=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,O=!this.i18nFormat||this.i18nFormat.handleAsObject,N=i.count!==void 0&&!X(i.count),Y=t.hasDefaultValue(i),F=N?this.pluralResolver.getSuffix(m,i.count,i):"",Z=i.ordinal&&N?this.pluralResolver.getSuffix(m,i.count,{ordinal:!1}):"",Q=N&&!i.ordinal&&i.count===0,K=Q&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${F}`]||i[`defaultValue${Z}`]||i.defaultValue,ie=S;O&&!S&&Y&&(ie=K);let ge=Ch(ie),oe=Object.prototype.toString.apply(ie);if(O&&ie&&ge&&C.indexOf(oe)<0&&!(X(T)&&Array.isArray(ie))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(I,ie,{...i,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(w.res=L,w.usedParams=this.getUsedParamsDetails(i),w):L}if(l){let L=Array.isArray(ie),j=L?[]:{},G=L?E:I;for(let te in ie)if(Object.prototype.hasOwnProperty.call(ie,te)){let ue=`${G}${l}${te}`;Y&&!S?j[te]=this.translate(ue,{...i,defaultValue:Ch(K)?K[te]:void 0,joinArrays:!1,ns:d}):j[te]=this.translate(ue,{...i,joinArrays:!1,ns:d}),j[te]===ue&&(j[te]=ie[te])}S=j}}else if(O&&X(T)&&Array.isArray(S))S=S.join(T),S&&(S=this.extendTranslation(S,e,i,r));else{let L=!1,j=!1;!this.isValidLookup(S)&&Y&&(L=!0,S=K),this.isValidLookup(S)||(j=!0,S=c);let te=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&j?void 0:S,ue=Y&&K!==S&&this.options.updateMissing;if(j||L||ue){if(this.logger.log(ue?"updateKey":"missingKey",m,h,c,ue?K:S),l){let pe=this.resolve(c,{...i,keySeparator:!1});pe&&pe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ye=[],_e=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&_e&&_e[0])for(let pe=0;pe<_e.length;pe++)ye.push(_e[pe]);else this.options.saveMissingTo==="all"?ye=this.languageUtils.toResolveHierarchy(i.lng||this.language):ye.push(i.lng||this.language);let v=s((pe,Se,A)=>{let De=Y&&A!==S?A:te;this.options.missingKeyHandler?this.options.missingKeyHandler(pe,h,Se,De,ue,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(pe,h,Se,De,ue,i),this.emit("missingKey",pe,h,Se,S)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&N?ye.forEach(pe=>{let Se=this.pluralResolver.getSuffixes(pe,i);Q&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Se.indexOf(`${this.options.pluralSeparator}zero`)<0&&Se.push(`${this.options.pluralSeparator}zero`),Se.forEach(A=>{v([pe],c+A,i[`defaultValue${A}`]||K)})}):v(ye,c,K))}S=this.extendTranslation(S,e,i,w,r),j&&S===c&&this.options.appendNamespaceToMissingKey&&(S=`${h}${f}${c}`),(j||L)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${f}${c}`:c,L?S:void 0,i))}return a?(w.res=S,w.usedParams=this.getUsedParamsDetails(i),w):S}extendTranslation(e,n,r,i,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let d=X(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),h;if(d){let m=e.match(this.interpolator.nestingRegexp);h=m&&m.length}let f=r.replace&&!X(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||i.usedLng,r),d){let m=e.match(this.interpolator.nestingRegexp),y=m&&m.length;h<y&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>a?.[0]===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),r)),r.interpolation&&this.interpolator.reset()}let l=r.postProcess||this.options.postProcess,c=X(l)?[l]:l;return e!=null&&c?.length&&r.applyPostProcessor!==!1&&(e=_h.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,l,c;return X(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(r))return;let h=this.extractFromKey(d,n),f=h.key;i=f;let m=h.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));let y=n.count!==void 0&&!X(n.count),w=y&&!n.ordinal&&n.count===0,S=n.context!==void 0&&(X(n.context)||typeof n.context=="number")&&n.context!=="",I=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);m.forEach(E=>{this.isValidLookup(r)||(c=E,!Sh[`${I[0]}-${E}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(Sh[`${I[0]}-${E}`]=!0,this.logger.warn(`key "${i}" for languages "${I.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),I.forEach(C=>{if(this.isValidLookup(r))return;l=C;let T=[f];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(T,f,C,E,n);else{let N;y&&(N=this.pluralResolver.getSuffix(C,n.count,n));let Y=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(n.ordinal&&N.indexOf(F)===0&&T.push(f+N.replace(F,this.options.pluralSeparator)),T.push(f+N),w&&T.push(f+Y)),S){let Z=`${f}${this.options.contextSeparator||"_"}${n.context}`;T.push(Z),y&&(n.ordinal&&N.indexOf(F)===0&&T.push(Z+N.replace(F,this.options.pluralSeparator)),T.push(Z+N),w&&T.push(Z+Y))}}let O;for(;O=T.pop();)this.isValidLookup(r)||(a=O,r=this.getResource(C,E,O,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){let n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!X(e.replace),i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(let a of n)delete i[a]}return i}static hasDefaultValue(e){let n="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}},Rs=class{static{s(this,"LanguageUtil")}constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Xt.create("languageUtils")}getScriptPartFromCode(e){if(e=wi(e),!e||e.indexOf("-")<0)return null;let n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=wi(e),!e||e.indexOf("-")<0)return e;let n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(X(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;let i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;let i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;let a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),X(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){let r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=s(l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))},"addCode");return X(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):X(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}},Eh={zero:0,one:1,two:2,few:3,many:4,other:5},Th={select:s(t=>t===1?"one":"other","select"),resolvedOptions:s(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},Fl=class{static{s(this,"PluralResolver")}constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Xt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){let r=wi(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Th;if(!e.match(/-|_/))return Th;let d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,n)}return this.pluralRulesCache[a]=l,l}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>Eh[i]-Eh[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){let i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}},Fh=s((t,e,n,r=".",i=!0)=>{let a=Tx(t,e,n);return!a&&i&&X(n)&&(a=Cl(t,n,r),a===void 0&&(a=Cl(e,n,r))),a},"deepFindWithDefaults"),kl=s(t=>t.replace(/\$/g,"$$$$"),"regexSafe"),Pl=class{static{s(this,"Interpolator")}constructor(e={}){this.logger=Xt.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:d,formatSeparator:h,unescapeSuffix:f,unescapePrefix:m,nestingPrefix:y,nestingPrefixEscaped:w,nestingSuffix:S,nestingSuffixEscaped:I,nestingOptionsSeparator:E,maxReplaces:C,alwaysFormat:T}=e.interpolation;this.escape=n!==void 0?n:Px,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Er(a):l||"{{",this.suffix=c?Er(c):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=f?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=y?Er(y):w||Er("$t("),this.nestingSuffix=S?Er(S):I||Er(")"),this.nestingOptionsSeparator=E||",",this.maxReplaces=C||1e3,this.alwaysFormat=T!==void 0?T:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=s((n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g"),"getOrResetRegExp");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let a,l,c,d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=s(w=>{if(w.indexOf(this.formatSeparator)<0){let C=Fh(n,d,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,r,{...i,...n,interpolationkey:w}):C}let S=w.split(this.formatSeparator),I=S.shift().trim(),E=S.join(this.formatSeparator).trim();return this.format(Fh(n,d,I,this.options.keySeparator,this.options.ignoreJSONStructure),E,r,{...i,...n,interpolationkey:I})},"handleFormat");this.resetRegExp();let f=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:s(w=>kl(w),"safeValue")},{regex:this.regexp,safeValue:s(w=>this.escapeValue?kl(this.escape(w)):kl(w),"safeValue")}].forEach(w=>{for(c=0;a=w.regex.exec(e);){let S=a[1].trim();if(l=h(S),l===void 0)if(typeof f=="function"){let E=f(e,a,i);l=X(E)?E:""}else if(i&&Object.prototype.hasOwnProperty.call(i,S))l="";else if(m){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),l="";else!X(l)&&!this.useRawValueToEscape&&(l=Ah(l));let I=w.safeValue(l);if(e=e.replace(a[0],I),m?(w.regex.lastIndex+=l.length,w.regex.lastIndex-=a[0].length):w.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,l,c=s((d,h)=>{let f=this.nestingOptionsSeparator;if(d.indexOf(f)<0)return d;let m=d.split(new RegExp(`${f}[ ]*{`)),y=`{${m[1]}`;d=m[0],y=this.interpolate(y,l);let w=y.match(/'/g),S=y.match(/"/g);((w?.length??0)%2===0&&!S||S.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),h&&(l={...h,...l})}catch(I){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,I),`${d}${f}${y}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d},"handleHasOptions");for(;i=this.nestingRegexp.exec(e);){let d=[];l={...r},l=l.replace&&!X(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let h=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(h!==-1&&(d=i[1].slice(h).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),i[1]=i[1].slice(0,h)),a=n(c.call(this,i[1].trim(),l),l),a&&i[0]===e&&!X(a))return a;X(a)||(a=Ah(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),d.length&&(a=d.reduce((f,m)=>this.format(f,m,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}},Nx=s(t=>{let e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){let r=t.split("(");e=r[0].toLowerCase().trim();let i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(l=>{if(l){let[c,...d]=l.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),f=c.trim();n[f]||(n[f]=h),h==="false"&&(n[f]=!1),h==="true"&&(n[f]=!0),isNaN(h)||(n[f]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},"parseFormatStr"),Ph=s(t=>{let e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});let l=r+JSON.stringify(a),c=e[l];return c||(c=t(wi(r),i),e[l]=c),c(n)}},"createCachedFormatter"),Lx=s(t=>(e,n,r)=>t(wi(n),r)(e),"createNonCachedFormatter"),Il=class{static{s(this,"Formatter")}constructor(e={}){this.logger=Xt.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";let r=n.cacheInBuiltFormats?Ph:Lx;this.formats={number:r((i,a)=>{let l=new Intl.NumberFormat(i,{...a});return c=>l.format(c)}),currency:r((i,a)=>{let l=new Intl.NumberFormat(i,{...a,style:"currency"});return c=>l.format(c)}),datetime:r((i,a)=>{let l=new Intl.DateTimeFormat(i,{...a});return c=>l.format(c)}),relativetime:r((i,a)=>{let l=new Intl.RelativeTimeFormat(i,{...a});return c=>l.format(c,a.range||"day")}),list:r((i,a)=>{let l=new Intl.ListFormat(i,{...a});return c=>l.format(c)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Ph(n)}format(e,n,r,i={}){let a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){let c=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,d)=>{let{formatName:h,formatOptions:f}=Nx(d);if(this.formats[h]){let m=c;try{let y=i?.formatParams?.[i.interpolationkey]||{},w=y.locale||y.lng||i.locale||i.lng||r;m=this.formats[h](c,w,{...f,...i,...y})}catch(y){this.logger.warn(y)}return m}else this.logger.warn(`there was no format function for ${h}`);return c},e)}},Dx=s((t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},"removePending"),Ml=class extends Tr{static{s(this,"Connector")}constructor(e,n,r,i={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Xt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,n,r,i){let a={},l={},c={},d={};return e.forEach(h=>{let f=!0;n.forEach(m=>{let y=`${h}|${m}`;!r.reload&&this.store.hasResourceBundle(h,m)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?l[y]===void 0&&(l[y]=!0):(this.state[y]=1,f=!1,l[y]===void 0&&(l[y]=!0),a[y]===void 0&&(a[y]=!0),d[m]===void 0&&(d[m]=!0)))}),f||(c[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(e,n,r){let i=e.split("|"),a=i[0],l=i[1];n&&this.emit("failedLoading",a,l,n),!n&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);let c={};this.queue.forEach(d=>{Ex(d.loaded,[a],l),Dx(d,e),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{c[h]||(c[h]={});let f=d.loaded[h];f.length&&f.forEach(m=>{c[h][m]===void 0&&(c[h][m]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(e,n,r,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:l});return}this.readingCalls++;let c=s((h,f)=>{if(this.readingCalls--,this.waitingReads.length>0){let m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(h&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,l)},a);return}l(h,f)},"resolver"),d=this.backend[r].bind(this.backend);if(d.length===2){try{let h=d(e,n);h&&typeof h.then=="function"?h.then(f=>c(null,f)).catch(c):c(null,h)}catch(h){c(h)}return}return d(e,n,c)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();X(e)&&(e=this.languageUtils.toResolveHierarchy(e)),X(n)&&(n=[n]);let a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){let r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,c),this.loaded(e,l,c)})}saveMissing(e,n,r,i,a,l={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){let d={...l,isUpdate:a},h=this.backend.create.bind(this.backend);if(h.length<6)try{let f;h.length===5?f=h(e,n,r,i,d):f=h(e,n,r,i),f&&typeof f.then=="function"?f.then(m=>c(null,m)).catch(c):c(null,f)}catch(f){c(f)}else h(e,n,r,i,c,d)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}},Ih=s(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s(t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),X(t[1])&&(e.defaultValue=t[1]),X(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:s(t=>t,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),Mh=s(t=>(X(t.ns)&&(t.ns=[t.ns]),X(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),X(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),"transformOptions"),Is=s(()=>{},"noop"),Bx=s(t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},"bindMemberFunctions"),Ns=class t extends Tr{static{s(this,"I18n")}constructor(e={},n){if(super(),this.options=Mh(e),this.services={},this.logger=Xt,this.modules={external:[]},Bx(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(X(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let r=Ih();this.options={...r,...this.options,...Mh(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);let i=s(h=>h?typeof h=="function"?new h:h:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?Xt.init(i(this.modules.logger),this.options):Xt.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=Il;let f=new Rs(this.options);this.store=new Os(this.options.resources,this.options);let m=this.services;m.logger=Xt,m.resourceStore=this.store,m.languageUtils=f,m.pluralResolver=new Fl(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(m.formatter=i(h),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new Pl(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new Ml(i(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(w,...S)=>{this.emit(w,...S)}),this.modules.languageDetector&&(m.languageDetector=i(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=i(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new _s(this.services,this.options),this.translator.on("*",(w,...S)=>{this.emit(w,...S)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Is),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...f)=>this.store[h](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...f)=>(this.store[h](...f),this)});let c=gi(),d=s(()=>{let h=s((f,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(m),n(f,m)},"finish");if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)},"load");return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(e,n=Is){let r=n,i=X(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();let a=[],l=s(c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&a.indexOf(h)<0&&a.push(h)})},"append");i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){let i=gi();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Is),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&_h.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){let r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;let r=gi();this.emit("languageChanging",e);let i=s(c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},"setLngProps"),a=s((c,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),n&&n(c,(...h)=>this.t(...h))},"done"),l=s(c=>{!e&&!c&&this.services.languageDetector&&(c=[]);let d=X(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(X(c)?[c]:c);h&&(this.language||i(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,f=>{a(f,h)})},"setLng");return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,n,r){let i=s((a,l,...c)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([a,l].concat(c)):d={...l},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||i.keyPrefix);let h=this.options.keySeparator||".",f;return d.keyPrefix&&Array.isArray(a)?f=a.map(m=>(typeof m=="function"&&(m=Tl(m,{...this.options,...l})),`${d.keyPrefix}${h}${m}`)):(typeof a=="function"&&(a=Tl(a,{...this.options,...l})),f=d.keyPrefix?`${d.keyPrefix}${h}${a}`:a),this.t(f,d)},"fixedT");return X(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;let l=s((c,d)=>{let h=this.services.backendConnector.state[`${c}|${d}`];return h===-1||h===0||h===2},"loadNotPending");if(n.precheck){let c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(a,e)))}loadNamespaces(e,n){let r=gi();return this.options.ns?(X(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){let r=gi();X(e)&&(e=[e]);let i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{r.resolve(),n&&n(l)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let i=new Intl.Locale(e);if(i&&i.getTextInfo){let a=i.getTextInfo();if(a&&a.direction)return a.direction}}catch{}let n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new Rs(Ih());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new t(e,n)}cloneInstance(e={},n=Is){let r=e.forkResourceStore;r&&delete e.forkResourceStore;let i={...this.options,...e,isClone:!0},a=new t(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){let c=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((f,m)=>(f[m]={...d[h][m]},f),d[h]),d),{});a.store=new Os(c,i),a.services.resourceStore=a.store}return a.translator=new _s(a.services,i),a.translator.on("*",(c,...d)=>{a.emit(c,...d)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},Ye=Ns.createInstance();Ye.createInstance=Ns.createInstance;var G2=Ye.createInstance,q2=Ye.dir,Nh=Ye.init,K2=Ye.loadResources,J2=Ye.reloadResources,X2=Ye.use,Z2=Ye.changeLanguage,Q2=Ye.getFixedT,Ls=Ye.t,eP=Ye.exists,tP=Ye.setDefaultNamespace,nP=Ye.hasLoadedNamespace,rP=Ye.loadNamespaces,iP=Ye.loadLanguages;var Dh=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ds={obsidianDevUtils:{buttons:{cancel:"Cancel",ok:"OK"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."}}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ol="en",$x={en:Ds},Bs=$x;s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Lh="translation",_l=!1;async function Rl(t,e=!0){_l||(_l=!0,await Nh({fallbackLng:Ol,initAsync:e,lng:(0,Dh.getLanguage)(),resources:Object.fromEntries(Object.entries(t).map(([n,r])=>[n,{[Lh]:r}])),returnEmptyString:!1,returnNull:!1}),Ye.addResourceBundle(Ol,Lh,Ds,!0,!1))}s(Rl,"initI18N");function Vx(t,e){return _l||(console.warn("I18N was not initialized, initializing default obsidian-dev-utils translations"),Ae(()=>Rl(Bs,!1))),Ls(t,e)}s(Vx,"tImpl");var k=Vx;var Br=require("obsidian");var Ux={};function qn(t,e){let n=e||Ux,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return $h(t,r,i)}s(qn,"toString");function $h(t,e,n){if(Wx(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Bh(t.children,e,n)}return Array.isArray(t)?Bh(t,e,n):""}s($h,"one");function Bh(t,e,n){let r=[],i=-1;for(;++i<t.length;)r[i]=$h(t[i],e,n);return r.join("")}s(Bh,"all");function Wx(t){return!!(t&&typeof t=="object")}s(Wx,"node");var Vh=document.createElement("i");function Fr(t){let e="&"+t+";";Vh.innerHTML=e;let n=Vh.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}s(Fr,"decodeNamedCharacterReference");function He(t,e,n,r){let i=t.length,a=0,l;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);a<r.length;)l=r.slice(a,a+1e4),l.unshift(e,0),t.splice(...l),a+=1e4,e+=1e4}s(He,"splice");function at(t,e){return t.length>0?(He(t,t.length,0,e),t):e}s(at,"push");var Uh={}.hasOwnProperty;function Wh(t){let e={},n=-1;for(;++n<t.length;)zx(e,t[n]);return e}s(Wh,"combineExtensions");function zx(t,e){let n;for(n in e){let i=(Uh.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n],l;if(a)for(l in a){Uh.call(i,l)||(i[l]=[]);let c=a[l];Yx(i[l],Array.isArray(c)?c:c?[c]:[])}}}s(zx,"syntaxExtension");function Yx(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);He(t,0,0,r)}s(Yx,"constructs");function $s(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}s($s,"decodeNumericCharacterReference");function wn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}s(wn,"normalizeIdentifier");var yt=In(/[A-Za-z]/),ot=In(/[\dA-Za-z]/),zh=In(/[#-'*+\--9=?A-Z^-~]/);function bi(t){return t!==null&&(t<32||t===127)}s(bi,"asciiControl");var Ai=In(/\d/),Yh=In(/[\dA-Fa-f]/),Hh=In(/[!-/:-@[-`{-~]/);function z(t){return t!==null&&t<-2}s(z,"markdownLineEnding");function Me(t){return t!==null&&(t<0||t===32)}s(Me,"markdownLineEndingOrSpace");function ee(t){return t===-2||t===-1||t===32}s(ee,"markdownSpace");var jh=In(/\p{P}|\p{S}/u),Gh=In(/\s/);function In(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}s(In,"regexCheck");function ne(t,e,n,r){let i=r?r-1:Number.POSITIVE_INFINITY,a=0;return l;function l(d){return ee(d)?(t.enter(n),c(d)):e(d)}function c(d){return ee(d)&&a++<i?(t.consume(d),c):(t.exit(n),e(d))}}s(ne,"factorySpace");var qh={tokenize:Hx};function Hx(t){let e=t.attempt(this.parser.constructs.contentInitial,r,i),n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),ne(t,e,"linePrefix")}function i(c){return t.enter("paragraph"),a(c)}function a(c){let d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(c)}function l(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return z(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),l)}}s(Hx,"initializeContent");var Jh={tokenize:jx},Kh={tokenize:Gx};function jx(t){let e=this,n=[],r=0,i,a,l;return c;function c(O){if(r<n.length){let N=n[r];return e.containerState=N[1],t.attempt(N[0].continuation,d,h)(O)}return h(O)}function d(O){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&T();let N=e.events.length,Y=N,F;for(;Y--;)if(e.events[Y][0]==="exit"&&e.events[Y][1].type==="chunkFlow"){F=e.events[Y][1].end;break}C(r);let Z=N;for(;Z<e.events.length;)e.events[Z][1].end={...F},Z++;return He(e.events,Y+1,0,e.events.slice(N)),e.events.length=Z,h(O)}return c(O)}function h(O){if(r===n.length){if(!i)return y(O);if(i.currentConstruct&&i.currentConstruct.concrete)return S(O);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Kh,f,m)(O)}function f(O){return i&&T(),C(r),y(O)}function m(O){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,S(O)}function y(O){return e.containerState={},t.attempt(Kh,w,S)(O)}function w(O){return r++,n.push([e.currentConstruct,e.containerState]),y(O)}function S(O){if(O===null){i&&T(),C(0),t.consume(O);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),I(O)}function I(O){if(O===null){E(t.exit("chunkFlow"),!0),C(0),t.consume(O);return}return z(O)?(t.consume(O),E(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(O),I)}function E(O,N){let Y=e.sliceStream(O);if(N&&Y.push(null),O.previous=a,a&&(a.next=O),a=O,i.defineSkip(O.start),i.write(Y),e.parser.lazy[O.start.line]){let F=i.events.length;for(;F--;)if(i.events[F][1].start.offset<l&&(!i.events[F][1].end||i.events[F][1].end.offset>l))return;let Z=e.events.length,Q=Z,K,ie;for(;Q--;)if(e.events[Q][0]==="exit"&&e.events[Q][1].type==="chunkFlow"){if(K){ie=e.events[Q][1].end;break}K=!0}for(C(r),F=Z;F<e.events.length;)e.events[F][1].end={...ie},F++;He(e.events,Q+1,0,e.events.slice(Z)),e.events.length=F}}function C(O){let N=n.length;for(;N-- >O;){let Y=n[N];e.containerState=Y[1],Y[0].exit.call(e,t)}n.length=O}function T(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}s(jx,"initializeDocument");function Gx(t,e,n){return ne(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}s(Gx,"tokenizeContainer");function Pr(t){if(t===null||Me(t)||Gh(t))return 1;if(jh(t))return 2}s(Pr,"classifyCharacter");function Ir(t,e,n){let r=[],i=-1;for(;++i<t.length;){let a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}s(Ir,"resolveAll");var xi={name:"attention",resolveAll:qx,tokenize:Kx};function qx(t,e){let n=-1,r,i,a,l,c,d,h,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let m={...t[r][1].end},y={...t[n][1].start};Xh(m,-d),Xh(y,d),l={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:y},a={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},t[r][1].end={...l.start},t[n][1].start={...c.end},h=[],t[r][1].end.offset-t[r][1].start.offset&&(h=at(h,[["enter",t[r][1],e],["exit",t[r][1],e]])),h=at(h,[["enter",i,e],["enter",l,e],["exit",l,e],["enter",a,e]]),h=at(h,Ir(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),h=at(h,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,h=at(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,He(t,r-1,n-r+3,h),n=r+h.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}s(qx,"resolveAllAttention");function Kx(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Pr(r),a;return l;function l(d){return a=d,t.enter("attentionSequence"),c(d)}function c(d){if(d===a)return t.consume(d),c;let h=t.exit("attentionSequence"),f=Pr(d),m=!f||f===2&&i||n.includes(d),y=!i||i===2&&f||n.includes(r);return h._open=!!(a===42?m:m&&(i||!y)),h._close=!!(a===42?y:y&&(f||!m)),e(d)}}s(Kx,"tokenizeAttention");function Xh(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}s(Xh,"movePoint");var Nl={name:"autolink",tokenize:Jx};function Jx(t,e,n){let r=0;return i;function i(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(w){return yt(w)?(t.consume(w),l):w===64?n(w):h(w)}function l(w){return w===43||w===45||w===46||ot(w)?(r=1,c(w)):h(w)}function c(w){return w===58?(t.consume(w),r=0,d):(w===43||w===45||w===46||ot(w))&&r++<32?(t.consume(w),c):(r=0,h(w))}function d(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||bi(w)?n(w):(t.consume(w),d)}function h(w){return w===64?(t.consume(w),f):zh(w)?(t.consume(w),h):n(w)}function f(w){return ot(w)?m(w):n(w)}function m(w){return w===46?(t.consume(w),r=0,f):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):y(w)}function y(w){if((w===45||ot(w))&&r++<63){let S=w===45?y:m;return t.consume(w),S}return n(w)}}s(Jx,"tokenizeAutolink");var Mn={partial:!0,tokenize:Xx};function Xx(t,e,n){return r;function r(a){return ee(a)?ne(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||z(a)?e(a):n(a)}}s(Xx,"tokenizeBlankLine");var Vs={continuation:{tokenize:Qx},exit:ev,name:"blockQuote",tokenize:Zx};function Zx(t,e,n){let r=this;return i;function i(l){if(l===62){let c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),a}return n(l)}function a(l){return ee(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}s(Zx,"tokenizeBlockQuoteStart");function Qx(t,e,n){let r=this;return i;function i(l){return ee(l)?ne(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return t.attempt(Vs,e,n)(l)}}s(Qx,"tokenizeBlockQuoteContinuation");function ev(t){t.exit("blockQuote")}s(ev,"exit");var Us={name:"characterEscape",tokenize:tv};function tv(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return Hh(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}s(tv,"tokenizeCharacterEscape");var Ws={name:"characterReference",tokenize:nv};function nv(t,e,n){let r=this,i=0,a,l;return c;function c(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),d}function d(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),a=31,l=ot,f(m))}function h(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,l=Yh,f):(t.enter("characterReferenceValue"),a=7,l=Ai,f(m))}function f(m){if(m===59&&i){let y=t.exit("characterReferenceValue");return l===ot&&!Fr(r.sliceSerialize(y))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(m)&&i++<a?(t.consume(m),f):n(m)}}s(nv,"tokenizeCharacterReference");var Zh={partial:!0,tokenize:iv},zs={concrete:!0,name:"codeFenced",tokenize:rv};function rv(t,e,n){let r=this,i={partial:!0,tokenize:Y},a=0,l=0,c;return d;function d(F){return h(F)}function h(F){let Z=r.events[r.events.length-1];return a=Z&&Z[1].type==="linePrefix"?Z[2].sliceSerialize(Z[1],!0).length:0,c=F,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(F)}function f(F){return F===c?(l++,t.consume(F),f):l<3?n(F):(t.exit("codeFencedFenceSequence"),ee(F)?ne(t,m,"whitespace")(F):m(F))}function m(F){return F===null||z(F)?(t.exit("codeFencedFence"),r.interrupt?e(F):t.check(Zh,I,N)(F)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(F))}function y(F){return F===null||z(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(F)):ee(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ne(t,w,"whitespace")(F)):F===96&&F===c?n(F):(t.consume(F),y)}function w(F){return F===null||z(F)?m(F):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),S(F))}function S(F){return F===null||z(F)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(F)):F===96&&F===c?n(F):(t.consume(F),S)}function I(F){return t.attempt(i,N,E)(F)}function E(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),C}function C(F){return a>0&&ee(F)?ne(t,T,"linePrefix",a+1)(F):T(F)}function T(F){return F===null||z(F)?t.check(Zh,I,N)(F):(t.enter("codeFlowValue"),O(F))}function O(F){return F===null||z(F)?(t.exit("codeFlowValue"),T(F)):(t.consume(F),O)}function N(F){return t.exit("codeFenced"),e(F)}function Y(F,Z,Q){let K=0;return ie;function ie(G){return F.enter("lineEnding"),F.consume(G),F.exit("lineEnding"),ge}function ge(G){return F.enter("codeFencedFence"),ee(G)?ne(F,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):oe(G)}function oe(G){return G===c?(F.enter("codeFencedFenceSequence"),L(G)):Q(G)}function L(G){return G===c?(K++,F.consume(G),L):K>=l?(F.exit("codeFencedFenceSequence"),ee(G)?ne(F,j,"whitespace")(G):j(G)):Q(G)}function j(G){return G===null||z(G)?(F.exit("codeFencedFence"),Z(G)):Q(G)}}}s(rv,"tokenizeCodeFenced");function iv(t,e,n){let r=this;return i;function i(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a)}function a(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}s(iv,"tokenizeNonLazyContinuation");var vi={name:"codeIndented",tokenize:av},sv={partial:!0,tokenize:ov};function av(t,e,n){let r=this;return i;function i(h){return t.enter("codeIndented"),ne(t,a,"linePrefix",5)(h)}function a(h){let f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?l(h):n(h)}function l(h){return h===null?d(h):z(h)?t.attempt(sv,l,d)(h):(t.enter("codeFlowValue"),c(h))}function c(h){return h===null||z(h)?(t.exit("codeFlowValue"),l(h)):(t.consume(h),c)}function d(h){return t.exit("codeIndented"),e(h)}}s(av,"tokenizeCodeIndented");function ov(t,e,n){let r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):z(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i):ne(t,a,"linePrefix",5)(l)}function a(l){let c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):z(l)?i(l):n(l)}}s(ov,"tokenizeFurtherStart");var Ll={name:"codeText",previous:cv,resolve:lv,tokenize:uv};function lv(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}s(lv,"resolveCodeText");function cv(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}s(cv,"previous");function uv(t,e,n){let r=this,i=0,a,l;return c;function c(y){return t.enter("codeText"),t.enter("codeTextSequence"),d(y)}function d(y){return y===96?(t.consume(y),i++,d):(t.exit("codeTextSequence"),h(y))}function h(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),h):y===96?(l=t.enter("codeTextSequence"),a=0,m(y)):z(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("codeTextData"),f(y))}function f(y){return y===null||y===32||y===96||z(y)?(t.exit("codeTextData"),h(y)):(t.consume(y),f)}function m(y){return y===96?(t.consume(y),a++,m):a===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(l.type="codeTextData",f(y))}}s(uv,"tokenizeCodeText");var Ys=class{static{s(this,"SpliceBuffer")}constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let i=n||0;this.setCursor(Math.trunc(e));let a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ki(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ki(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ki(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);ki(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ki(this.left,n.reverse())}}};function ki(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}s(ki,"chunkedPush");function Hs(t){let e={},n=-1,r,i,a,l,c,d,h,f=new Ys(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,a=0,a<d.length&&d[a][1].type==="lineEndingBlank"&&(a+=2),a<d.length&&d[a][1].type==="content"))for(;++a<d.length&&d[a][1].type!=="content";)d[a][1].type==="chunkText"&&(d[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,dv(f,n)),n=e[n],h=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(l=f.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},c=f.slice(i,n),c.unshift(r),f.splice(i,n-i+1,c))}}return He(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!h}s(Hs,"subtokenize");function dv(t,e){let n=t.get(e)[1],r=t.get(e)[2],i=e-1,a=[],l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));let c=l.events,d=[],h={},f,m,y=-1,w=n,S=0,I=0,E=[I];for(;w;){for(;t.get(++i)[1]!==w;);a.push(i),w._tokenizer||(f=r.sliceStream(w),w.next||f.push(null),m&&l.defineSkip(w.start),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(f),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=w,w=w.next}for(w=n;++y<c.length;)c[y][0]==="exit"&&c[y-1][0]==="enter"&&c[y][1].type===c[y-1][1].type&&c[y][1].start.line!==c[y][1].end.line&&(I=y+1,E.push(I),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(l.events=[],w?(w._tokenizer=void 0,w.previous=void 0):E.pop(),y=E.length;y--;){let C=c.slice(E[y],E[y+1]),T=a.pop();d.push([T,T+C.length-1]),t.splice(T,2,C)}for(d.reverse(),y=-1;++y<d.length;)h[S+d[y][0]]=S+d[y][1],S+=d[y][1]-d[y][0]-1;return h}s(dv,"subcontent");var Dl={resolve:pv,tokenize:fv},hv={partial:!0,tokenize:mv};function pv(t){return Hs(t),t}s(pv,"resolveContent");function fv(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?a(c):z(c)?t.check(hv,l,a)(c):(t.consume(c),i)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function l(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}s(fv,"tokenizeContent");function mv(t,e,n){let r=this;return i;function i(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),ne(t,a,"linePrefix")}function a(l){if(l===null||z(l))return n(l);let c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}s(mv,"tokenizeContinuation");function js(t,e,n,r,i,a,l,c,d){let h=d||Number.POSITIVE_INFINITY,f=0;return m;function m(C){return C===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(C),t.exit(a),y):C===null||C===32||C===41||bi(C)?n(C):(t.enter(r),t.enter(l),t.enter(c),t.enter("chunkString",{contentType:"string"}),I(C))}function y(C){return C===62?(t.enter(a),t.consume(C),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),w(C))}function w(C){return C===62?(t.exit("chunkString"),t.exit(c),y(C)):C===null||C===60||z(C)?n(C):(t.consume(C),C===92?S:w)}function S(C){return C===60||C===62||C===92?(t.consume(C),w):w(C)}function I(C){return!f&&(C===null||C===41||Me(C))?(t.exit("chunkString"),t.exit(c),t.exit(l),t.exit(r),e(C)):f<h&&C===40?(t.consume(C),f++,I):C===41?(t.consume(C),f--,I):C===null||C===32||C===40||bi(C)?n(C):(t.consume(C),C===92?E:I)}function E(C){return C===40||C===41||C===92?(t.consume(C),I):I(C)}}s(js,"factoryDestination");function Gs(t,e,n,r,i,a){let l=this,c=0,d;return h;function h(w){return t.enter(r),t.enter(i),t.consume(w),t.exit(i),t.enter(a),f}function f(w){return c>999||w===null||w===91||w===93&&!d||w===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(w):w===93?(t.exit(a),t.enter(i),t.consume(w),t.exit(i),t.exit(r),e):z(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===null||w===91||w===93||z(w)||c++>999?(t.exit("chunkString"),f(w)):(t.consume(w),d||(d=!ee(w)),w===92?y:m)}function y(w){return w===91||w===92||w===93?(t.consume(w),c++,m):m(w)}}s(Gs,"factoryLabel");function qs(t,e,n,r,i,a){let l;return c;function c(y){return y===34||y===39||y===40?(t.enter(r),t.enter(i),t.consume(y),t.exit(i),l=y===40?41:y,d):n(y)}function d(y){return y===l?(t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):(t.enter(a),h(y))}function h(y){return y===l?(t.exit(a),d(l)):y===null?n(y):z(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),ne(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(y))}function f(y){return y===l||y===null||z(y)?(t.exit("chunkString"),h(y)):(t.consume(y),y===92?m:f)}function m(y){return y===l||y===92?(t.consume(y),f):f(y)}}s(qs,"factoryTitle");function Kn(t,e){let n;return r;function r(i){return z(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):ee(i)?ne(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}s(Kn,"factoryWhitespace");var Bl={name:"definition",tokenize:yv},gv={partial:!0,tokenize:wv};function yv(t,e,n){let r=this,i;return a;function a(w){return t.enter("definition"),l(w)}function l(w){return Gs.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function c(w){return i=wn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),d):n(w)}function d(w){return Me(w)?Kn(t,h)(w):h(w)}function h(w){return js(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function f(w){return t.attempt(gv,m,m)(w)}function m(w){return ee(w)?ne(t,y,"whitespace")(w):y(w)}function y(w){return w===null||z(w)?(t.exit("definition"),r.parser.defined.push(i),e(w)):n(w)}}s(yv,"tokenizeDefinition");function wv(t,e,n){return r;function r(c){return Me(c)?Kn(t,i)(c):n(c)}function i(c){return qs(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return ee(c)?ne(t,l,"whitespace")(c):l(c)}function l(c){return c===null||z(c)?e(c):n(c)}}s(wv,"tokenizeTitleBefore");var $l={name:"hardBreakEscape",tokenize:bv};function bv(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return z(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}s(bv,"tokenizeHardBreakEscape");var Vl={name:"headingAtx",resolve:Av,tokenize:xv};function Av(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},He(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}s(Av,"resolveHeadingAtx");function xv(t,e,n){let r=0;return i;function i(f){return t.enter("atxHeading"),a(f)}function a(f){return t.enter("atxHeadingSequence"),l(f)}function l(f){return f===35&&r++<6?(t.consume(f),l):f===null||Me(f)?(t.exit("atxHeadingSequence"),c(f)):n(f)}function c(f){return f===35?(t.enter("atxHeadingSequence"),d(f)):f===null||z(f)?(t.exit("atxHeading"),e(f)):ee(f)?ne(t,c,"whitespace")(f):(t.enter("atxHeadingText"),h(f))}function d(f){return f===35?(t.consume(f),d):(t.exit("atxHeadingSequence"),c(f))}function h(f){return f===null||f===35||Me(f)?(t.exit("atxHeadingText"),c(f)):(t.consume(f),h)}}s(xv,"tokenizeHeadingAtx");var Qh=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ul=["pre","script","style","textarea"];var Wl={concrete:!0,name:"htmlFlow",resolveTo:Sv,tokenize:Cv},vv={partial:!0,tokenize:Tv},kv={partial:!0,tokenize:Ev};function Sv(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}s(Sv,"resolveToHtmlFlow");function Cv(t,e,n){let r=this,i,a,l,c,d;return h;function h(A){return f(A)}function f(A){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(A),m}function m(A){return A===33?(t.consume(A),y):A===47?(t.consume(A),a=!0,I):A===63?(t.consume(A),i=3,r.interrupt?e:v):yt(A)?(t.consume(A),l=String.fromCharCode(A),E):n(A)}function y(A){return A===45?(t.consume(A),i=2,w):A===91?(t.consume(A),i=5,c=0,S):yt(A)?(t.consume(A),i=4,r.interrupt?e:v):n(A)}function w(A){return A===45?(t.consume(A),r.interrupt?e:v):n(A)}function S(A){let De="CDATA[";return A===De.charCodeAt(c++)?(t.consume(A),c===De.length?r.interrupt?e:oe:S):n(A)}function I(A){return yt(A)?(t.consume(A),l=String.fromCharCode(A),E):n(A)}function E(A){if(A===null||A===47||A===62||Me(A)){let De=A===47,tn=l.toLowerCase();return!De&&!a&&Ul.includes(tn)?(i=1,r.interrupt?e(A):oe(A)):Qh.includes(l.toLowerCase())?(i=6,De?(t.consume(A),C):r.interrupt?e(A):oe(A)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):a?T(A):O(A))}return A===45||ot(A)?(t.consume(A),l+=String.fromCharCode(A),E):n(A)}function C(A){return A===62?(t.consume(A),r.interrupt?e:oe):n(A)}function T(A){return ee(A)?(t.consume(A),T):ie(A)}function O(A){return A===47?(t.consume(A),ie):A===58||A===95||yt(A)?(t.consume(A),N):ee(A)?(t.consume(A),O):ie(A)}function N(A){return A===45||A===46||A===58||A===95||ot(A)?(t.consume(A),N):Y(A)}function Y(A){return A===61?(t.consume(A),F):ee(A)?(t.consume(A),Y):O(A)}function F(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),d=A,Z):ee(A)?(t.consume(A),F):Q(A)}function Z(A){return A===d?(t.consume(A),d=null,K):A===null||z(A)?n(A):(t.consume(A),Z)}function Q(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Me(A)?Y(A):(t.consume(A),Q)}function K(A){return A===47||A===62||ee(A)?O(A):n(A)}function ie(A){return A===62?(t.consume(A),ge):n(A)}function ge(A){return A===null||z(A)?oe(A):ee(A)?(t.consume(A),ge):n(A)}function oe(A){return A===45&&i===2?(t.consume(A),te):A===60&&i===1?(t.consume(A),ue):A===62&&i===4?(t.consume(A),pe):A===63&&i===3?(t.consume(A),v):A===93&&i===5?(t.consume(A),_e):z(A)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(vv,Se,L)(A)):A===null||z(A)?(t.exit("htmlFlowData"),L(A)):(t.consume(A),oe)}function L(A){return t.check(kv,j,Se)(A)}function j(A){return t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),G}function G(A){return A===null||z(A)?L(A):(t.enter("htmlFlowData"),oe(A))}function te(A){return A===45?(t.consume(A),v):oe(A)}function ue(A){return A===47?(t.consume(A),l="",ye):oe(A)}function ye(A){if(A===62){let De=l.toLowerCase();return Ul.includes(De)?(t.consume(A),pe):oe(A)}return yt(A)&&l.length<8?(t.consume(A),l+=String.fromCharCode(A),ye):oe(A)}function _e(A){return A===93?(t.consume(A),v):oe(A)}function v(A){return A===62?(t.consume(A),pe):A===45&&i===2?(t.consume(A),v):oe(A)}function pe(A){return A===null||z(A)?(t.exit("htmlFlowData"),Se(A)):(t.consume(A),pe)}function Se(A){return t.exit("htmlFlow"),e(A)}}s(Cv,"tokenizeHtmlFlow");function Ev(t,e,n){let r=this;return i;function i(l){return z(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):n(l)}function a(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}s(Ev,"tokenizeNonLazyContinuationStart");function Tv(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Mn,e,n)}}s(Tv,"tokenizeBlankLineBefore");var zl={name:"htmlText",tokenize:Fv};function Fv(t,e,n){let r=this,i,a,l;return c;function c(v){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(v),d}function d(v){return v===33?(t.consume(v),h):v===47?(t.consume(v),Y):v===63?(t.consume(v),O):yt(v)?(t.consume(v),Q):n(v)}function h(v){return v===45?(t.consume(v),f):v===91?(t.consume(v),a=0,S):yt(v)?(t.consume(v),T):n(v)}function f(v){return v===45?(t.consume(v),w):n(v)}function m(v){return v===null?n(v):v===45?(t.consume(v),y):z(v)?(l=m,ue(v)):(t.consume(v),m)}function y(v){return v===45?(t.consume(v),w):m(v)}function w(v){return v===62?te(v):v===45?y(v):m(v)}function S(v){let pe="CDATA[";return v===pe.charCodeAt(a++)?(t.consume(v),a===pe.length?I:S):n(v)}function I(v){return v===null?n(v):v===93?(t.consume(v),E):z(v)?(l=I,ue(v)):(t.consume(v),I)}function E(v){return v===93?(t.consume(v),C):I(v)}function C(v){return v===62?te(v):v===93?(t.consume(v),C):I(v)}function T(v){return v===null||v===62?te(v):z(v)?(l=T,ue(v)):(t.consume(v),T)}function O(v){return v===null?n(v):v===63?(t.consume(v),N):z(v)?(l=O,ue(v)):(t.consume(v),O)}function N(v){return v===62?te(v):O(v)}function Y(v){return yt(v)?(t.consume(v),F):n(v)}function F(v){return v===45||ot(v)?(t.consume(v),F):Z(v)}function Z(v){return z(v)?(l=Z,ue(v)):ee(v)?(t.consume(v),Z):te(v)}function Q(v){return v===45||ot(v)?(t.consume(v),Q):v===47||v===62||Me(v)?K(v):n(v)}function K(v){return v===47?(t.consume(v),te):v===58||v===95||yt(v)?(t.consume(v),ie):z(v)?(l=K,ue(v)):ee(v)?(t.consume(v),K):te(v)}function ie(v){return v===45||v===46||v===58||v===95||ot(v)?(t.consume(v),ie):ge(v)}function ge(v){return v===61?(t.consume(v),oe):z(v)?(l=ge,ue(v)):ee(v)?(t.consume(v),ge):K(v)}function oe(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),i=v,L):z(v)?(l=oe,ue(v)):ee(v)?(t.consume(v),oe):(t.consume(v),j)}function L(v){return v===i?(t.consume(v),i=void 0,G):v===null?n(v):z(v)?(l=L,ue(v)):(t.consume(v),L)}function j(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===47||v===62||Me(v)?K(v):(t.consume(v),j)}function G(v){return v===47||v===62||Me(v)?K(v):n(v)}function te(v){return v===62?(t.consume(v),t.exit("htmlTextData"),t.exit("htmlText"),e):n(v)}function ue(v){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),ye}function ye(v){return ee(v)?ne(t,_e,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):_e(v)}function _e(v){return t.enter("htmlTextData"),l(v)}}s(Fv,"tokenizeHtmlText");var Jn={name:"labelEnd",resolveAll:Ov,resolveTo:_v,tokenize:Rv},Pv={tokenize:Nv},Iv={tokenize:Lv},Mv={tokenize:Dv};function Ov(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&He(t,0,t.length,n),t}s(Ov,"resolveAllLabelEnd");function _v(t,e){let n=t.length,r=0,i,a,l,c;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);let d={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[a][1].start},end:{...t[l][1].end}},f={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",d,e],["enter",h,e]],c=at(c,t.slice(a+1,a+r+3)),c=at(c,[["enter",f,e]]),c=at(c,Ir(e.parser.constructs.insideSpan.null,t.slice(a+r+4,l-3),e)),c=at(c,[["exit",f,e],t[l-2],t[l-1],["exit",h,e]]),c=at(c,t.slice(l+1)),c=at(c,[["exit",d,e]]),He(t,a,t.length,c),t}s(_v,"resolveToLabelEnd");function Rv(t,e,n){let r=this,i=r.events.length,a,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return c;function c(y){return a?a._inactive?m(y):(l=r.parser.defined.includes(wn(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),d):n(y)}function d(y){return y===40?t.attempt(Pv,f,l?f:m)(y):y===91?t.attempt(Iv,f,l?h:m)(y):l?f(y):m(y)}function h(y){return t.attempt(Mv,f,m)(y)}function f(y){return e(y)}function m(y){return a._balanced=!0,n(y)}}s(Rv,"tokenizeLabelEnd");function Nv(t,e,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),i}function i(m){return Me(m)?Kn(t,a)(m):a(m)}function a(m){return m===41?f(m):js(t,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return Me(m)?Kn(t,d)(m):f(m)}function c(m){return n(m)}function d(m){return m===34||m===39||m===40?qs(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):f(m)}function h(m){return Me(m)?Kn(t,f)(m):f(m)}function f(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}s(Nv,"tokenizeResource");function Lv(t,e,n){let r=this;return i;function i(c){return Gs.call(r,t,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(wn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}s(Lv,"tokenizeReferenceFull");function Dv(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}s(Dv,"tokenizeReferenceCollapsed");var Yl={name:"labelStartImage",resolveAll:Jn.resolveAll,tokenize:Bv};function Bv(t,e,n){let r=this;return i;function i(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}s(Bv,"tokenizeLabelStartImage");var Hl={name:"labelStartLink",resolveAll:Jn.resolveAll,tokenize:$v};function $v(t,e,n){let r=this;return i;function i(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}s($v,"tokenizeLabelStartLink");var Si={name:"lineEnding",tokenize:Vv};function Vv(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ne(t,e,"linePrefix")}}s(Vv,"tokenizeLineEnding");var Xn={name:"thematicBreak",tokenize:Uv};function Uv(t,e,n){let r=0,i;return a;function a(h){return t.enter("thematicBreak"),l(h)}function l(h){return i=h,c(h)}function c(h){return h===i?(t.enter("thematicBreakSequence"),d(h)):r>=3&&(h===null||z(h))?(t.exit("thematicBreak"),e(h)):n(h)}function d(h){return h===i?(t.consume(h),r++,d):(t.exit("thematicBreakSequence"),ee(h)?ne(t,c,"whitespace")(h):c(h))}}s(Uv,"tokenizeThematicBreak");var Ke={continuation:{tokenize:Hv},exit:Gv,name:"list",tokenize:Yv},Wv={partial:!0,tokenize:qv},zv={partial:!0,tokenize:jv};function Yv(t,e,n){let r=this,i=r.events[r.events.length-1],a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return c;function c(w){let S=r.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||w===r.containerState.marker:Ai(w)){if(r.containerState.type||(r.containerState.type=S,t.enter(S,{_container:!0})),S==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(Xn,n,h)(w):h(w);if(!r.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(w)}return n(w)}function d(w){return Ai(w)&&++l<10?(t.consume(w),d):(!r.interrupt||l<2)&&(r.containerState.marker?w===r.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),h(w)):n(w)}function h(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||w,t.check(Mn,r.interrupt?n:f,t.attempt(Wv,y,m))}function f(w){return r.containerState.initialBlankLine=!0,a++,y(w)}function m(w){return ee(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),y):n(w)}function y(w){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}s(Yv,"tokenizeListStart");function Hv(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(Mn,i,a);function i(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ne(t,e,"listItemIndent",r.containerState.size+1)(c)}s(i,"onBlank");function a(c){return r.containerState.furtherBlankLines||!ee(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(zv,e,l)(c))}s(a,"notBlank");function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,ne(t,t.attempt(Ke,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}s(l,"notInCurrentItem")}s(Hv,"tokenizeListContinuation");function jv(t,e,n){let r=this;return ne(t,i,"listItemIndent",r.containerState.size+1);function i(a){let l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(a):n(a)}}s(jv,"tokenizeIndent");function Gv(t){t.exit(this.containerState.type)}s(Gv,"tokenizeListEnd");function qv(t,e,n){let r=this;return ne(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){let l=r.events[r.events.length-1];return!ee(a)&&l&&l[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}s(qv,"tokenizeListItemPrefixWhitespace");var Ks={name:"setextUnderline",resolveTo:Kv,tokenize:Jv};function Kv(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);let l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",l,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}s(Kv,"resolveToSetextUnderline");function Jv(t,e,n){let r=this,i;return a;function a(h){let f=r.events.length,m;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){m=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),i=h,l(h)):n(h)}function l(h){return t.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===i?(t.consume(h),c):(t.exit("setextHeadingLineSequence"),ee(h)?ne(t,d,"lineSuffix")(h):d(h))}function d(h){return h===null||z(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}s(Jv,"tokenizeSetextUnderline");var ep={tokenize:Xv};function Xv(t){let e=this,n=t.attempt(Mn,r,t.attempt(this.parser.constructs.flowInitial,i,ne(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Dl,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}s(Xv,"initializeFlow");var tp={resolveAll:sp()},np=ip("string"),rp=ip("text");function ip(t){return{resolveAll:sp(t==="text"?Zv:void 0),tokenize:e};function e(n){let r=this,i=this.parser.constructs[t],a=n.attempt(i,l,c);return l;function l(f){return h(f)?a(f):c(f)}function c(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),d}function d(f){return h(f)?(n.exit("data"),a(f)):(n.consume(f),d)}function h(f){if(f===null)return!0;let m=i[f],y=-1;if(m)for(;++y<m.length;){let w=m[y];if(!w.previous||w.previous.call(r,r.previous))return!0}return!1}}}s(ip,"initializeFactory");function sp(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}s(sp,"createResolver");function Zv(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],i=e.sliceStream(r),a=i.length,l=-1,c=0,d;for(;a--;){let h=i[a];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(h===-2)d=!0,c++;else if(h!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){let h={type:n===t.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:r.start._bufferIndex+l,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}s(Zv,"resolveAllLineSuffixes");var jl={};Sd(jl,{attentionMarkers:()=>ak,contentInitial:()=>ek,disable:()=>ok,document:()=>Qv,flow:()=>nk,flowInitial:()=>tk,insideSpan:()=>sk,string:()=>rk,text:()=>ik});var Qv={42:Ke,43:Ke,45:Ke,48:Ke,49:Ke,50:Ke,51:Ke,52:Ke,53:Ke,54:Ke,55:Ke,56:Ke,57:Ke,62:Vs},ek={91:Bl},tk={[-2]:vi,[-1]:vi,32:vi},nk={35:Vl,42:Xn,45:[Ks,Xn],60:Wl,61:Ks,95:Xn,96:zs,126:zs},rk={38:Ws,92:Us},ik={[-5]:Si,[-4]:Si,[-3]:Si,33:Yl,38:Ws,42:xi,60:[Nl,zl],91:Hl,92:[$l,Us],93:Jn,95:xi,96:Ll},sk={null:[xi,tp]},ak={null:[42,95]},ok={null:[]};function ap(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},i={},a=[],l=[],c=[],d=!0,h={attempt:K(Z),check:K(Q),consume:N,enter:Y,exit:F,interrupt:K(Q,{interrupt:!0})},f={code:null,containerState:{},defineSkip:C,events:[],now:E,parser:t,previous:null,sliceSerialize:S,sliceStream:I,write:w},m=e.tokenize.call(f,h),y;return e.resolveAll&&a.push(e),f;function w(L){return l=at(l,L),T(),l[l.length-1]!==null?[]:(ie(e,0),f.events=Ir(a,f.events,f),f.events)}s(w,"write");function S(L,j){return ck(I(L),j)}s(S,"sliceSerialize");function I(L){return lk(l,L)}s(I,"sliceStream");function E(){let{_bufferIndex:L,_index:j,line:G,column:te,offset:ue}=r;return{_bufferIndex:L,_index:j,line:G,column:te,offset:ue}}s(E,"now");function C(L){i[L.line]=L.column,oe()}s(C,"defineSkip");function T(){let L;for(;r._index<l.length;){let j=l[r._index];if(typeof j=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<j.length;)O(j.charCodeAt(r._bufferIndex));else O(j)}}s(T,"main");function O(L){d=void 0,y=L,m=m(L)}s(O,"go");function N(L){z(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,oe()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=L,d=!0}s(N,"consume");function Y(L,j){let G=j||{};return G.type=L,G.start=E(),f.events.push(["enter",G,f]),c.push(G),G}s(Y,"enter");function F(L){let j=c.pop();return j.end=E(),f.events.push(["exit",j,f]),j}s(F,"exit");function Z(L,j){ie(L,j.from)}s(Z,"onsuccessfulconstruct");function Q(L,j){j.restore()}s(Q,"onsuccessfulcheck");function K(L,j){return G;function G(te,ue,ye){let _e,v,pe,Se;return Array.isArray(te)?De(te):"tokenize"in te?De([te]):A(te);function A(Re){return $n;function $n(Mt){let nn=Mt!==null&&Re[Mt],Sn=Mt!==null&&Re.null,Jr=[...Array.isArray(nn)?nn:nn?[nn]:[],...Array.isArray(Sn)?Sn:Sn?[Sn]:[]];return De(Jr)(Mt)}}function De(Re){return _e=Re,v=0,Re.length===0?ye:tn(Re[v])}function tn(Re){return $n;function $n(Mt){return Se=ge(),pe=Re,Re.partial||(f.currentConstruct=Re),Re.name&&f.parser.constructs.disable.null.includes(Re.name)?Bn(Mt):Re.tokenize.call(j?Object.assign(Object.create(f),j):f,h,kn,Bn)(Mt)}}function kn(Re){return d=!0,L(pe,Se),ue}function Bn(Re){return d=!0,Se.restore(),++v<_e.length?tn(_e[v]):ye}}}s(K,"constructFactory");function ie(L,j){L.resolveAll&&!a.includes(L)&&a.push(L),L.resolve&&He(f.events,j,f.events.length-j,L.resolve(f.events.slice(j),f)),L.resolveTo&&(f.events=L.resolveTo(f.events,f))}s(ie,"addResult");function ge(){let L=E(),j=f.previous,G=f.currentConstruct,te=f.events.length,ue=Array.from(c);return{from:te,restore:ye};function ye(){r=L,f.previous=j,f.currentConstruct=G,f.events.length=te,c=ue,oe()}}s(ge,"store");function oe(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}s(oe,"accountForPotentialSkip")}s(ap,"createTokenizer");function lk(t,e){let n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex,l;if(n===i)l=[t[n].slice(r,a)];else{if(l=t.slice(n,i),r>-1){let c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}a>0&&l.push(t[i].slice(0,a))}return l}s(lk,"sliceChunks");function ck(t,e){let n=-1,r=[],i;for(;++n<t.length;){let a=t[n],l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&i)continue;l=" ";break}default:l=String.fromCharCode(a)}i=a===-2,r.push(l)}return r.join("")}s(ck,"serializeChunks");function Gl(t){let r={constructs:Wh([jl,...(t||{}).extensions||[]]),content:i(qh),defined:[],document:i(Jh),flow:i(ep),lazy:{},string:i(np),text:i(rp)};return r;function i(a){return l;function l(c){return ap(r,a,c)}}}s(Gl,"parse");function ql(t){for(;!Hs(t););return t}s(ql,"postprocess");var op=/[\0\t\n\r]/g;function Kl(){let t=1,e="",n=!0,r;return i;function i(a,l,c){let d=[],h,f,m,y,w;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),m=0,e="",n&&(a.charCodeAt(0)===65279&&m++,n=void 0);m<a.length;){if(op.lastIndex=m,h=op.exec(a),y=h&&h.index!==void 0?h.index:a.length,w=a.charCodeAt(y),!h){e=a.slice(m);break}if(w===10&&m===y&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<y&&(d.push(a.slice(m,y)),t+=y-m),w){case 0:{d.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,d.push(-2);t++<f;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}m=y+1}return c&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}s(Kl,"preprocess");var uk=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Js(t){return t.replace(uk,dk)}s(Js,"decodeString");function dk(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let i=n.charCodeAt(1),a=i===120||i===88;return $s(n.slice(a?2:1),a?16:10)}return Fr(n)||t}s(dk,"decode");function On(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?lp(t.position):"start"in t||"end"in t?lp(t):"line"in t||"column"in t?Jl(t):""}s(On,"stringifyPosition");function Jl(t){return cp(t&&t.line)+":"+cp(t&&t.column)}s(Jl,"point");function lp(t){return Jl(t&&t.start)+"-"+Jl(t&&t.end)}s(lp,"position");function cp(t){return t&&typeof t=="number"?t:1}s(cp,"index");var dp={}.hasOwnProperty;function Xl(t,e,n){return typeof e!="string"&&(n=e,e=void 0),hk(n)(ql(Gl(n).document().write(Kl()(t,e,!0))))}s(Xl,"fromMarkdown");function hk(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(et),autolinkProtocol:K,autolinkEmail:K,atxHeading:a(Hi),blockQuote:a(Mt),characterEscape:K,characterReference:K,codeFenced:a(nn),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(nn,l),codeText:a(Sn,l),codeTextData:K,data:K,codeFlowValue:K,definition:a(Jr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(_o),hardBreakEscape:a(ji),hardBreakTrailing:a(ji),htmlFlow:a(Gi,l),htmlFlowData:K,htmlText:a(Gi,l),htmlTextData:K,image:a(qi),label:l,link:a(et),listItem:a(Ro),listItemValue:y,listOrdered:a(ar,m),listUnordered:a(ar),paragraph:a(No),reference:A,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Hi),strong:a(Ki),thematicBreak:a(Ji)},exit:{atxHeading:d(),atxHeadingSequence:Y,autolink:d(),autolinkEmail:$n,autolinkProtocol:Re,blockQuote:d(),characterEscapeValue:ie,characterReferenceMarkerHexadecimal:tn,characterReferenceMarkerNumeric:tn,characterReferenceValue:kn,characterReference:Bn,codeFenced:d(E),codeFencedFence:I,codeFencedFenceInfo:w,codeFencedFenceMeta:S,codeFlowValue:ie,codeIndented:d(C),codeText:d(G),codeTextData:ie,data:ie,definition:d(),definitionDestinationString:N,definitionLabelString:T,definitionTitleString:O,emphasis:d(),hardBreakEscape:d(oe),hardBreakTrailing:d(oe),htmlFlow:d(L),htmlFlowData:ie,htmlText:d(j),htmlTextData:ie,image:d(ue),label:_e,labelText:ye,lineEnding:ge,link:d(te),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:De,resourceDestinationString:v,resourceTitleString:pe,resource:Se,setextHeading:d(Q),setextHeadingLineSequence:Z,setextHeadingText:F,strong:d(),thematicBreak:d()}};hp(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(M){let R={type:"root",children:[]},D={stack:[R],tokenStack:[],config:e,enter:c,exit:h,buffer:l,resume:f,data:n},se=[],fe=-1;for(;++fe<M.length;)if(M[fe][1].type==="listOrdered"||M[fe][1].type==="listUnordered")if(M[fe][0]==="enter")se.push(fe);else{let je=se.pop();fe=i(M,je,fe)}for(fe=-1;++fe<M.length;){let je=e[M[fe][0]];dp.call(je,M[fe][1].type)&&je[M[fe][1].type].call(Object.assign({sliceSerialize:M[fe][2].sliceSerialize},D),M[fe][1])}if(D.tokenStack.length>0){let je=D.tokenStack[D.tokenStack.length-1];(je[1]||up).call(D,void 0,je[0])}for(R.position={start:_n(M.length>0?M[0][1].start:{line:1,column:1,offset:0}),end:_n(M.length>0?M[M.length-2][1].end:{line:1,column:1,offset:0})},fe=-1;++fe<e.transforms.length;)R=e.transforms[fe](R)||R;return R}function i(M,R,D){let se=R-1,fe=-1,je=!1,Ot,ut,bt,Wt;for(;++se<=D;){let nt=M[se];switch(nt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{nt[0]==="enter"?fe++:fe--,Wt=void 0;break}case"lineEndingBlank":{nt[0]==="enter"&&(Ot&&!Wt&&!fe&&!bt&&(bt=se),Wt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Wt=void 0}if(!fe&&nt[0]==="enter"&&nt[1].type==="listItemPrefix"||fe===-1&&nt[0]==="exit"&&(nt[1].type==="listUnordered"||nt[1].type==="listOrdered")){if(Ot){let _t=se;for(ut=void 0;_t--;){let Rt=M[_t];if(Rt[1].type==="lineEnding"||Rt[1].type==="lineEndingBlank"){if(Rt[0]==="exit")continue;ut&&(M[ut][1].type="lineEndingBlank",je=!0),Rt[1].type="lineEnding",ut=_t}else if(!(Rt[1].type==="linePrefix"||Rt[1].type==="blockQuotePrefix"||Rt[1].type==="blockQuotePrefixWhitespace"||Rt[1].type==="blockQuoteMarker"||Rt[1].type==="listItemIndent"))break}bt&&(!ut||bt<ut)&&(Ot._spread=!0),Ot.end=Object.assign({},ut?M[ut][1].start:nt[1].end),M.splice(ut||se,0,["exit",Ot,nt[2]]),se++,D++}if(nt[1].type==="listItemPrefix"){let _t={type:"listItem",_spread:!1,start:Object.assign({},nt[1].start),end:void 0};Ot=_t,M.splice(se,0,["enter",_t,nt[2]]),se++,D++,bt=void 0,Wt=!0}}}return M[R][1]._spread=je,D}function a(M,R){return D;function D(se){c.call(this,M(se),se),R&&R.call(this,se)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(M,R,D){this.stack[this.stack.length-1].children.push(M),this.stack.push(M),this.tokenStack.push([R,D||void 0]),M.position={start:_n(R.start),end:void 0}}function d(M){return R;function R(D){M&&M.call(this,D),h.call(this,D)}}function h(M,R){let D=this.stack.pop(),se=this.tokenStack.pop();if(se)se[0].type!==M.type&&(R?R.call(this,M,se[0]):(se[1]||up).call(this,M,se[0]));else throw new Error("Cannot close `"+M.type+"` ("+On({start:M.start,end:M.end})+"): it\u2019s not open");D.position.end=_n(M.end)}function f(){return qn(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function y(M){if(this.data.expectingFirstListItemValue){let R=this.stack[this.stack.length-2];R.start=Number.parseInt(this.sliceSerialize(M),10),this.data.expectingFirstListItemValue=void 0}}function w(){let M=this.resume(),R=this.stack[this.stack.length-1];R.lang=M}function S(){let M=this.resume(),R=this.stack[this.stack.length-1];R.meta=M}function I(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){let M=this.resume(),R=this.stack[this.stack.length-1];R.value=M.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){let M=this.resume(),R=this.stack[this.stack.length-1];R.value=M.replace(/(\r?\n|\r)$/g,"")}function T(M){let R=this.resume(),D=this.stack[this.stack.length-1];D.label=R,D.identifier=wn(this.sliceSerialize(M)).toLowerCase()}function O(){let M=this.resume(),R=this.stack[this.stack.length-1];R.title=M}function N(){let M=this.resume(),R=this.stack[this.stack.length-1];R.url=M}function Y(M){let R=this.stack[this.stack.length-1];if(!R.depth){let D=this.sliceSerialize(M).length;R.depth=D}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function Z(M){let R=this.stack[this.stack.length-1];R.depth=this.sliceSerialize(M).codePointAt(0)===61?1:2}function Q(){this.data.setextHeadingSlurpLineEnding=void 0}function K(M){let D=this.stack[this.stack.length-1].children,se=D[D.length-1];(!se||se.type!=="text")&&(se=tt(),se.position={start:_n(M.start),end:void 0},D.push(se)),this.stack.push(se)}function ie(M){let R=this.stack.pop();R.value+=this.sliceSerialize(M),R.position.end=_n(M.end)}function ge(M){let R=this.stack[this.stack.length-1];if(this.data.atHardBreak){let D=R.children[R.children.length-1];D.position.end=_n(M.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(R.type)&&(K.call(this,M),ie.call(this,M))}function oe(){this.data.atHardBreak=!0}function L(){let M=this.resume(),R=this.stack[this.stack.length-1];R.value=M}function j(){let M=this.resume(),R=this.stack[this.stack.length-1];R.value=M}function G(){let M=this.resume(),R=this.stack[this.stack.length-1];R.value=M}function te(){let M=this.stack[this.stack.length-1];if(this.data.inReference){let R=this.data.referenceType||"shortcut";M.type+="Reference",M.referenceType=R,delete M.url,delete M.title}else delete M.identifier,delete M.label;this.data.referenceType=void 0}function ue(){let M=this.stack[this.stack.length-1];if(this.data.inReference){let R=this.data.referenceType||"shortcut";M.type+="Reference",M.referenceType=R,delete M.url,delete M.title}else delete M.identifier,delete M.label;this.data.referenceType=void 0}function ye(M){let R=this.sliceSerialize(M),D=this.stack[this.stack.length-2];D.label=Js(R),D.identifier=wn(R).toLowerCase()}function _e(){let M=this.stack[this.stack.length-1],R=this.resume(),D=this.stack[this.stack.length-1];if(this.data.inReference=!0,D.type==="link"){let se=M.children;D.children=se}else D.alt=R}function v(){let M=this.resume(),R=this.stack[this.stack.length-1];R.url=M}function pe(){let M=this.resume(),R=this.stack[this.stack.length-1];R.title=M}function Se(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function De(M){let R=this.resume(),D=this.stack[this.stack.length-1];D.label=R,D.identifier=wn(this.sliceSerialize(M)).toLowerCase(),this.data.referenceType="full"}function tn(M){this.data.characterReferenceType=M.type}function kn(M){let R=this.sliceSerialize(M),D=this.data.characterReferenceType,se;D?(se=$s(R,D==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):se=Fr(R);let fe=this.stack[this.stack.length-1];fe.value+=se}function Bn(M){let R=this.stack.pop();R.position.end=_n(M.end)}function Re(M){ie.call(this,M);let R=this.stack[this.stack.length-1];R.url=this.sliceSerialize(M)}function $n(M){ie.call(this,M);let R=this.stack[this.stack.length-1];R.url="mailto:"+this.sliceSerialize(M)}function Mt(){return{type:"blockquote",children:[]}}function nn(){return{type:"code",lang:null,meta:null,value:""}}function Sn(){return{type:"inlineCode",value:""}}function Jr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _o(){return{type:"emphasis",children:[]}}function Hi(){return{type:"heading",depth:0,children:[]}}function ji(){return{type:"break"}}function Gi(){return{type:"html",value:""}}function qi(){return{type:"image",title:null,url:"",alt:null}}function et(){return{type:"link",title:null,url:"",children:[]}}function ar(M){return{type:"list",ordered:M.type==="listOrdered",start:null,spread:M._spread,children:[]}}function Ro(M){return{type:"listItem",spread:M._spread,checked:null,children:[]}}function No(){return{type:"paragraph",children:[]}}function Ki(){return{type:"strong",children:[]}}function tt(){return{type:"text",value:""}}function Ji(){return{type:"thematicBreak"}}}s(hk,"compiler");function _n(t){return{line:t.line,column:t.column,offset:t.offset}}s(_n,"point");function hp(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?hp(t,r):pk(t,r)}}s(hp,"configure");function pk(t,e){let n;for(n in e)if(dp.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}s(pk,"extension");function up(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+On({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+On({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+On({start:e.start,end:e.end})+") is still open")}s(up,"defaultOnError");function Mr(t){let e=this;e.parser=n;function n(r){return Xl(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}s(n,"parser")}s(Mr,"remarkParse");var pp={}.hasOwnProperty;function fp(t,e){let n=e||{};function r(i,...a){let l=r.invalid,c=r.handlers;if(i&&pp.call(i,t)){let d=String(i[t]);l=pp.call(c,d)?c[d]:r.unknown}if(l)return l.call(this,i,...a)}return s(r,"one"),r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}s(fp,"zwitch");var fk={}.hasOwnProperty;function Zl(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)Zl(t,e.extensions[n]);for(r in e)if(fk.call(e,r))switch(r){case"extensions":break;case"unsafe":{mp(t[r],e[r]);break}case"join":{mp(t[r],e[r]);break}case"handlers":{mk(t[r],e[r]);break}default:t.options[r]=e[r]}return t}s(Zl,"configure");function mp(t,e){e&&t.push(...e)}s(mp,"list");function mk(t,e){e&&Object.assign(t,e)}s(mk,"map");function gp(t,e,n,r){let i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);let l=n.indentLines(n.containerFlow(t,a.current()),gk);return i(),l}s(gp,"blockquote");function gk(t,e,n){return">"+(n?"":" ")+t}s(gk,"map");function Xs(t,e){return yp(t,e.inConstruct,!0)&&!yp(t,e.notInConstruct,!1)}s(Xs,"patternInScope");function yp(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}s(yp,"listInScope");function Ql(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Xs(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}s(Ql,"hardBreak");function wp(t,e){let n=String(t),r=n.indexOf(e),i=r,a=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>l&&(l=a):a=1,i=r+e.length,r=n.indexOf(e,i);return l}s(wp,"longestStreak");function Ci(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}s(Ci,"formatCodeAsIndented");function bp(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}s(bp,"checkFence");function Ap(t,e,n,r){let i=bp(n),a=t.value||"",l=i==="`"?"GraveAccent":"Tilde";if(Ci(t,n)){let m=n.enter("codeIndented"),y=n.indentLines(a,yk);return m(),y}let c=n.createTracker(r),d=i.repeat(Math.max(wp(a,i)+1,3)),h=n.enter("codeFenced"),f=c.move(d);if(t.lang){let m=n.enter(`codeFencedLang${l}`);f+=c.move(n.safe(t.lang,{before:f,after:" ",encode:["`"],...c.current()})),m()}if(t.lang&&t.meta){let m=n.enter(`codeFencedMeta${l}`);f+=c.move(" "),f+=c.move(n.safe(t.meta,{before:f,after:`
`,encode:["`"],...c.current()})),m()}return f+=c.move(`
`),a&&(f+=c.move(a+`
`)),f+=c.move(d),h(),f}s(Ap,"code");function yk(t,e,n){return(n?"":"    ")+t}s(yk,"map");function Or(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}s(Or,"checkQuote");function xp(t,e,n,r){let i=Or(n),a=i==='"'?"Quote":"Apostrophe",l=n.enter("definition"),c=n.enter("label"),d=n.createTracker(r),h=d.move("[");return h+=d.move(n.safe(n.associationId(t),{before:h,after:"]",...d.current()})),h+=d.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=d.move("<"),h+=d.move(n.safe(t.url,{before:h,after:">",...d.current()})),h+=d.move(">")):(c=n.enter("destinationRaw"),h+=d.move(n.safe(t.url,{before:h,after:t.title?" ":`
`,...d.current()}))),c(),t.title&&(c=n.enter(`title${a}`),h+=d.move(" "+i),h+=d.move(n.safe(t.title,{before:h,after:i,...d.current()})),h+=d.move(i),c()),l(),h}s(xp,"definition");function vp(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}s(vp,"checkEmphasis");function wt(t){return"&#x"+t.toString(16).toUpperCase()+";"}s(wt,"encodeCharacterReference");function _r(t,e,n){let r=Pr(t),i=Pr(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}s(_r,"encodeInfo");ec.peek=wk;function ec(t,e,n,r){let i=vp(n),a=n.enter("emphasis"),l=n.createTracker(r),c=l.move(i),d=l.move(n.containerPhrasing(t,{after:i,before:c,...l.current()})),h=d.charCodeAt(0),f=_r(r.before.charCodeAt(r.before.length-1),h,i);f.inside&&(d=wt(h)+d.slice(1));let m=d.charCodeAt(d.length-1),y=_r(r.after.charCodeAt(0),m,i);y.inside&&(d=d.slice(0,-1)+wt(m));let w=l.move(i);return a(),n.attentionEncodeSurroundingInfo={after:y.outside,before:f.outside},c+d+w}s(ec,"emphasis");function wk(t,e,n){return n.options.emphasis||"*"}s(wk,"emphasisPeek");var Rr=s((function(t){if(t==null)return vk;if(typeof t=="function")return Zs(t);if(typeof t=="object")return Array.isArray(t)?bk(t):Ak(t);if(typeof t=="string")return xk(t);throw new Error("Expected function, string, or object as test")}),"convert");function bk(t){let e=[],n=-1;for(;++n<t.length;)e[n]=Rr(t[n]);return Zs(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}s(bk,"anyFactory");function Ak(t){let e=t;return Zs(n);function n(r){let i=r,a;for(a in t)if(i[a]!==e[a])return!1;return!0}}s(Ak,"propsFactory");function xk(t){return Zs(e);function e(n){return n&&n.type===t}}s(xk,"typeFactory");function Zs(t){return e;function e(n,r,i){return!!(kk(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}s(Zs,"castFactory");function vk(){return!0}s(vk,"ok");function kk(t){return t!==null&&typeof t=="object"&&"type"in t}s(kk,"looksLikeANode");function kp(t){return"\x1B[33m"+t+"\x1B[39m"}s(kp,"color");var Sp=[],Qs=!0,Zn=!1,ea="skip";function tc(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;let a=Rr(i),l=r?-1:1;c(t,void 0,[])();function c(d,h,f){let m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){let w=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(y,"name",{value:"node ("+kp(d.type+(w?"<"+w+">":""))+")"})}return y;function y(){let w=Sp,S,I,E;if((!e||a(d,h,f[f.length-1]||void 0))&&(w=Sk(n(d,f)),w[0]===Zn))return w;if("children"in d&&d.children){let C=d;if(C.children&&w[0]!==ea)for(I=(r?C.children.length:-1)+l,E=f.concat(C);I>-1&&I<C.children.length;){let T=C.children[I];if(S=c(T,I,E)(),S[0]===Zn)return S;I=typeof S[1]=="number"?S[1]:I+l}}return w}}s(c,"factory")}s(tc,"visitParents");function Sk(t){return Array.isArray(t)?t:typeof t=="number"?[Qs,t]:t==null?Sp:[t]}s(Sk,"toResult");function Ei(t,e,n,r){let i,a,l;typeof e=="function"&&typeof n!="function"?(a=void 0,l=e,i=n):(a=e,l=n,i=r),tc(t,a,c,i);function c(d,h){let f=h[h.length-1],m=f?f.children.indexOf(d):void 0;return l(d,m,f)}s(c,"overload")}s(Ei,"visit");function ta(t,e){let n=!1;return Ei(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Zn}),!!((!t.depth||t.depth<3)&&qn(t)&&(e.options.setext||n))}s(ta,"formatHeadingAsSetext");function Cp(t,e,n,r){let i=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(r);if(ta(t,n)){let f=n.enter("headingSetext"),m=n.enter("phrasing"),y=n.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return m(),f(),y+`
`+(i===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}let l="#".repeat(i),c=n.enter("headingAtx"),d=n.enter("phrasing");a.move(l+" ");let h=n.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(h)&&(h=wt(h.charCodeAt(0))+h.slice(1)),h=h?l+" "+h:l,n.options.closeAtx&&(h+=" "+l),d(),c(),h}s(Cp,"heading");nc.peek=Ck;function nc(t){return t.value||""}s(nc,"html");function Ck(){return"<"}s(Ck,"htmlPeek");rc.peek=Ek;function rc(t,e,n,r){let i=Or(n),a=i==='"'?"Quote":"Apostrophe",l=n.enter("image"),c=n.enter("label"),d=n.createTracker(r),h=d.move("![");return h+=d.move(n.safe(t.alt,{before:h,after:"]",...d.current()})),h+=d.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),h+=d.move("<"),h+=d.move(n.safe(t.url,{before:h,after:">",...d.current()})),h+=d.move(">")):(c=n.enter("destinationRaw"),h+=d.move(n.safe(t.url,{before:h,after:t.title?" ":")",...d.current()}))),c(),t.title&&(c=n.enter(`title${a}`),h+=d.move(" "+i),h+=d.move(n.safe(t.title,{before:h,after:i,...d.current()})),h+=d.move(i),c()),h+=d.move(")"),l(),h}s(rc,"image");function Ek(){return"!"}s(Ek,"imagePeek");ic.peek=Tk;function ic(t,e,n,r){let i=t.referenceType,a=n.enter("imageReference"),l=n.enter("label"),c=n.createTracker(r),d=c.move("!["),h=n.safe(t.alt,{before:d,after:"]",...c.current()});d+=c.move(h+"]["),l();let f=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:d,after:"]",...c.current()});return l(),n.stack=f,a(),i==="full"||!h||h!==m?d+=c.move(m+"]"):i==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}s(ic,"imageReference");function Tk(){return"!"}s(Tk,"imageReferencePeek");sc.peek=Fk;function sc(t,e,n){let r=t.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){let l=n.unsafe[a],c=n.compilePattern(l),d;if(l.atBreak)for(;d=c.exec(r);){let h=d.index;r.charCodeAt(h)===10&&r.charCodeAt(h-1)===13&&h--,r=r.slice(0,h)+" "+r.slice(d.index+1)}}return i+r+i}s(sc,"inlineCode");function Fk(){return"`"}s(Fk,"inlineCodePeek");function ac(t,e){let n=qn(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}s(ac,"formatLinkAsAutolink");oc.peek=Pk;function oc(t,e,n,r){let i=Or(n),a=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r),c,d;if(ac(t,n)){let f=n.stack;n.stack=[],c=n.enter("autolink");let m=l.move("<");return m+=l.move(n.containerPhrasing(t,{before:m,after:">",...l.current()})),m+=l.move(">"),c(),n.stack=f,m}c=n.enter("link"),d=n.enter("label");let h=l.move("[");return h+=l.move(n.containerPhrasing(t,{before:h,after:"](",...l.current()})),h+=l.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),h+=l.move("<"),h+=l.move(n.safe(t.url,{before:h,after:">",...l.current()})),h+=l.move(">")):(d=n.enter("destinationRaw"),h+=l.move(n.safe(t.url,{before:h,after:t.title?" ":")",...l.current()}))),d(),t.title&&(d=n.enter(`title${a}`),h+=l.move(" "+i),h+=l.move(n.safe(t.title,{before:h,after:i,...l.current()})),h+=l.move(i),d()),h+=l.move(")"),c(),h}s(oc,"link");function Pk(t,e,n){return ac(t,n)?"<":"["}s(Pk,"linkPeek");lc.peek=Ik;function lc(t,e,n,r){let i=t.referenceType,a=n.enter("linkReference"),l=n.enter("label"),c=n.createTracker(r),d=c.move("["),h=n.containerPhrasing(t,{before:d,after:"]",...c.current()});d+=c.move(h+"]["),l();let f=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:d,after:"]",...c.current()});return l(),n.stack=f,a(),i==="full"||!h||h!==m?d+=c.move(m+"]"):i==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}s(lc,"linkReference");function Ik(){return"["}s(Ik,"linkReferencePeek");function Nr(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}s(Nr,"checkBullet");function Ep(t){let e=Nr(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}s(Ep,"checkBulletOther");function Tp(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}s(Tp,"checkBulletOrdered");function na(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}s(na,"checkRule");function Fp(t,e,n,r){let i=n.enter("list"),a=n.bulletCurrent,l=t.ordered?Tp(n):Nr(n),c=t.ordered?l==="."?")":".":Ep(n),d=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let f=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),na(n)===l&&f){let m=-1;for(;++m<t.children.length;){let y=t.children[m];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=c),n.bulletCurrent=l;let h=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=a,i(),h}s(Fp,"list");function Pp(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}s(Pp,"checkListItemIndent");function Ip(t,e,n,r){let i=Pp(n),a=n.bulletCurrent||Nr(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let l=a.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let c=n.createTracker(r);c.move(a+" ".repeat(l-a.length)),c.shift(l);let d=n.enter("listItem"),h=n.indentLines(n.containerFlow(t,c.current()),f);return d(),h;function f(m,y,w){return y?(w?"":" ".repeat(l))+m:(w?a:a+" ".repeat(l-a.length))+m}s(f,"map")}s(Ip,"listItem");function Mp(t,e,n,r){let i=n.enter("paragraph"),a=n.enter("phrasing"),l=n.containerPhrasing(t,r);return a(),i(),l}s(Mp,"paragraph");var cc=Rr(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Op(t,e,n,r){return(t.children.some(function(l){return cc(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}s(Op,"root");function _p(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}s(_p,"checkStrong");uc.peek=Mk;function uc(t,e,n,r){let i=_p(n),a=n.enter("strong"),l=n.createTracker(r),c=l.move(i+i),d=l.move(n.containerPhrasing(t,{after:i,before:c,...l.current()})),h=d.charCodeAt(0),f=_r(r.before.charCodeAt(r.before.length-1),h,i);f.inside&&(d=wt(h)+d.slice(1));let m=d.charCodeAt(d.length-1),y=_r(r.after.charCodeAt(0),m,i);y.inside&&(d=d.slice(0,-1)+wt(m));let w=l.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:y.outside,before:f.outside},c+d+w}s(uc,"strong");function Mk(t,e,n){return n.options.strong||"*"}s(Mk,"strongPeek");function Rp(t,e,n,r){return n.safe(t.value,r)}s(Rp,"text");function Np(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}s(Np,"checkRuleRepetition");function Lp(t,e,n){let r=(na(n)+(n.options.ruleSpaces?" ":"")).repeat(Np(n));return n.options.ruleSpaces?r.slice(0,-1):r}s(Lp,"thematicBreak");var Dp={blockquote:gp,break:Ql,code:Ap,definition:xp,emphasis:ec,hardBreak:Ql,heading:Cp,html:nc,image:rc,imageReference:ic,inlineCode:sc,link:oc,linkReference:lc,list:Fp,listItem:Ip,paragraph:Mp,root:Op,strong:uc,text:Rp,thematicBreak:Lp};var Bp=[Ok];function Ok(t,e,n,r){if(e.type==="code"&&Ci(e,r)&&(t.type==="list"||t.type===e.type&&Ci(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&ta(e,r))?void 0:n.spread?1:0}s(Ok,"joinDefaults");var Qn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],$p=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Qn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Qn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Qn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Qn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Qn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Qn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Qn},{atBreak:!0,character:"~"}];function Vp(t){return t.label||!t.identifier?t.label||"":Js(t.identifier)}s(Vp,"association");function Up(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}s(Up,"compilePattern");function Wp(t,e,n){let r=e.indexStack,i=t.children||[],a=[],l=-1,c=n.before,d;r.push(-1);let h=e.createTracker(n);for(;++l<i.length;){let f=i[l],m;if(r[r.length-1]=l,l+1<i.length){let S=e.handle.handlers[i[l+1].type];S&&S.peek&&(S=S.peek),m=S?S(i[l+1],t,e,{before:"",after:"",...h.current()}).charAt(0):""}else m=n.after;a.length>0&&(c==="\r"||c===`
`)&&f.type==="html"&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),c=" ",h=e.createTracker(n),h.move(a.join("")));let y=e.handle(f,t,e,{...h.current(),after:m,before:c});d&&d===y.slice(0,1)&&(y=wt(d.charCodeAt(0))+y.slice(1));let w=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,d=void 0,w&&(a.length>0&&w.before&&c===a[a.length-1].slice(-1)&&(a[a.length-1]=a[a.length-1].slice(0,-1)+wt(c.charCodeAt(0))),w.after&&(d=m)),h.move(y),a.push(y),c=y.slice(-1)}return r.pop(),a.join("")}s(Wp,"containerPhrasing");function zp(t,e,n){let r=e.indexStack,i=t.children||[],a=e.createTracker(n),l=[],c=-1;for(r.push(-1);++c<i.length;){let d=i[c];r[r.length-1]=c,l.push(a.move(e.handle(d,t,e,{before:`
`,after:`
`,...a.current()}))),d.type!=="list"&&(e.bulletLastUsed=void 0),c<i.length-1&&l.push(a.move(_k(d,i[c+1],t,e)))}return r.pop(),l.join("")}s(zp,"containerFlow");function _k(t,e,n,r){let i=r.join.length;for(;i--;){let a=r.join[i](t,e,n,r);if(a===!0||a===1)break;if(typeof a=="number")return`
`.repeat(1+a);if(a===!1)return`

<!---->

`}return`

`}s(_k,"between");var Rk=/\r?\n|\r/g;function Yp(t,e){let n=[],r=0,i=0,a;for(;a=Rk.exec(t);)l(t.slice(r,a.index)),n.push(a[0]),r=a.index+a[0].length,i++;return l(t.slice(r)),n.join("");function l(c){n.push(e(c,i,!c))}s(l,"one")}s(Yp,"indentLines");function jp(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),i=[],a=[],l={},c=-1;for(;++c<t.unsafe.length;){let f=t.unsafe[c];if(!Xs(t.stack,f))continue;let m=t.compilePattern(f),y;for(;y=m.exec(r);){let w="before"in f||!!f.atBreak,S="after"in f,I=y.index+(w?y[1].length:0);i.includes(I)?(l[I].before&&!w&&(l[I].before=!1),l[I].after&&!S&&(l[I].after=!1)):(i.push(I),l[I]={before:w,after:S})}}i.sort(Nk);let d=n.before?n.before.length:0,h=r.length-(n.after?n.after.length:0);for(c=-1;++c<i.length;){let f=i[c];f<d||f>=h||f+1<h&&i[c+1]===f+1&&l[f].after&&!l[f+1].before&&!l[f+1].after||i[c-1]===f-1&&l[f].before&&!l[f-1].before&&!l[f-1].after||(d!==f&&a.push(Hp(r.slice(d,f),"\\")),d=f,/[!-/:-@[-`{-~]/.test(r.charAt(f))&&(!n.encode||!n.encode.includes(r.charAt(f)))?a.push("\\"):(a.push(wt(r.charCodeAt(f))),d++))}return a.push(Hp(r.slice(d,h),n.after)),a.join("")}s(jp,"safe");function Nk(t,e){return t-e}s(Nk,"numerical");function Hp(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],a=t+e,l=-1,c=0,d;for(;d=n.exec(a);)r.push(d.index);for(;++l<r.length;)c!==r[l]&&i.push(t.slice(c,r[l])),i.push("\\"),c=r[l];return i.push(t.slice(c)),i.join("")}s(Hp,"escapeBackslashes");function Gp(t){let e=t||{},n=e.now||{},r=e.lineShift||0,i=n.line||1,a=n.column||1;return{move:d,current:l,shift:c};function l(){return{now:{line:i,column:a},lineShift:r}}function c(h){r+=h}function d(h){let f=h||"",m=f.split(/\r?\n|\r/g),y=m[m.length-1];return i+=m.length-1,a=m.length===1?a+y.length:1+y.length+r,f}}s(Gp,"track");function dc(t,e){let n=e||{},r={associationId:Vp,containerPhrasing:$k,containerFlow:Vk,createTracker:Gp,compilePattern:Up,enter:a,handlers:{...Dp},handle:void 0,indentLines:Yp,indexStack:[],join:[...Bp],options:{},safe:Uk,stack:[],unsafe:[...$p]};Zl(r,n),r.options.tightDefinitions&&r.join.push(Bk),r.handle=fp("type",{invalid:Lk,unknown:Dk,handlers:r.handlers});let i=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function a(l){return r.stack.push(l),c;function c(){r.stack.pop()}s(c,"exit")}s(a,"enter")}s(dc,"toMarkdown");function Lk(t){throw new Error("Cannot handle value `"+t+"`, expected node")}s(Lk,"invalid");function Dk(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}s(Dk,"unknown");function Bk(t,e){if(t.type==="definition"&&t.type===e.type)return 0}s(Bk,"joinDefinition");function $k(t,e){return Wp(t,this,e)}s($k,"containerPhrasingBound");function Vk(t,e){return zp(t,this,e)}s(Vk,"containerFlowBound");function Uk(t,e){return jp(this,t,e)}s(Uk,"safeBound");function ra(t){let e=this;e.compiler=n;function n(r){return dc(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}s(n,"compiler")}s(ra,"remarkStringify");function hc(t){if(t)throw t}s(hc,"bail");var oa=We(nf(),1);function Ti(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}s(Ti,"isPlainObject");function pc(){let t=[],e={run:n,use:r};return e;function n(...i){let a=-1,l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...i);function c(d,...h){let f=t[++a],m=-1;if(d){l(d);return}for(;++m<i.length;)(h[m]===null||h[m]===void 0)&&(h[m]=i[m]);i=h,f?rf(f,c)(...h):l(null,...h)}s(c,"next")}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}s(pc,"trough");function rf(t,e){let n;return r;function r(...l){let c=t.length>l.length,d;c&&l.push(i);try{d=t.apply(this,l)}catch(h){let f=h;if(c&&n)throw f;return i(f)}c||(d&&d.then&&typeof d.then=="function"?d.then(a,i):d instanceof Error?i(d):a(d))}function i(l,...c){n||(n=!0,e(l,...c))}function a(l){i(null,l)}}s(rf,"wrap");var Ve=class extends Error{static{s(this,"VFileMessage")}constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(l=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){let d=r.indexOf(":");d===-1?a.ruleId=r:(a.source=r.slice(0,d),a.ruleId=r.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){let d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}let c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=c?c.line:void 0,this.name=On(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};Ve.prototype.file="";Ve.prototype.name="";Ve.prototype.reason="";Ve.prototype.message="";Ve.prototype.stack="";Ve.prototype.column=void 0;Ve.prototype.line=void 0;Ve.prototype.ancestors=void 0;Ve.prototype.cause=void 0;Ve.prototype.fatal=void 0;Ve.prototype.place=void 0;Ve.prototype.ruleId=void 0;Ve.prototype.source=void 0;var Et=We(require("node:path"),1);var fc=We(require("node:process"),1);var mc=require("node:url");function sa(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}s(sa,"isUrl");var gc=["history","path","basename","stem","extname","dirname"],Fi=class{static{s(this,"VFile")}constructor(e){let n;e?sa(e)?n={path:e}:typeof e=="string"||Wk(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":fc.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<gc.length;){let a=gc[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)gc.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Et.default.basename(this.path):void 0}set basename(e){wc(e,"basename"),yc(e,"basename"),this.path=Et.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Et.default.dirname(this.path):void 0}set dirname(e){sf(this.basename,"dirname"),this.path=Et.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Et.default.extname(this.path):void 0}set extname(e){if(yc(e,"extname"),sf(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Et.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){sa(e)&&(e=(0,mc.fileURLToPath)(e)),wc(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Et.default.basename(this.path,this.extname):void 0}set stem(e){wc(e,"stem"),yc(e,"stem"),this.path=Et.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){let i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){let i=new Ve(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function yc(t,e){if(t&&t.includes(Et.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Et.default.sep+"`")}s(yc,"assertPart");function wc(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}s(wc,"assertNonEmpty");function sf(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}s(sf,"assertPath");function Wk(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}s(Wk,"isUint8Array");var af=s((function(t){let r=this.constructor.prototype,i=r[t],a=s(function(){return i.apply(a,arguments)},"apply");return Object.setPrototypeOf(a,r),a}),"CallableInstance");var zk={}.hasOwnProperty,vc=class t extends af{static{s(this,"Processor")}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=pc()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,oa.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(xc("data",this.frozen),this.namespace[e]=n,this):zk.call(this.namespace,e)&&this.namespace[e]||void 0:e?(xc("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=aa(e),r=this.parser||this.Parser;return bc("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),bc("process",this.parser||this.Parser),Ac("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,l){let c=aa(e),d=r.parse(c);r.run(d,c,function(f,m,y){if(f||!m||!y)return h(f);let w=m,S=r.stringify(w,y);Hk(S)?y.value=S:y.result=S,h(f,y)});function h(f,m){f||!m?l(f):a?a(m):n(void 0,m)}s(h,"realDone")}s(i,"executor")}processSync(e){let n=!1,r;return this.freeze(),bc("processSync",this.parser||this.Parser),Ac("processSync",this.compiler||this.Compiler),this.process(e,i),lf("processSync","process",n),r;function i(a,l){n=!0,hc(a),r=l}s(i,"realDone")}run(e,n,r){of(e),this.freeze();let i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(l,c){let d=aa(n);i.run(e,d,h);function h(f,m,y){let w=m||e;f?c(f):l?l(w):r(void 0,w,y)}s(h,"realDone")}s(a,"executor")}runSync(e,n){let r=!1,i;return this.run(e,n,a),lf("runSync","run",r),i;function a(l,c){hc(l),i=c,r=!0}s(a,"realDone")}stringify(e,n){this.freeze();let r=aa(n),i=this.compiler||this.Compiler;return Ac("stringify",i),of(e),i(e,r)}use(e,...n){let r=this.attachers,i=this.namespace;if(xc("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(h){if(typeof h=="function")d(h,[]);else if(typeof h=="object")if(Array.isArray(h)){let[f,...m]=h;d(f,m)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(i.settings=(0,oa.default)(!0,i.settings,h.settings))}function c(h){let f=-1;if(h!=null)if(Array.isArray(h))for(;++f<h.length;){let m=h[f];a(m)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function d(h,f){let m=-1,y=-1;for(;++m<r.length;)if(r[m][0]===h){y=m;break}if(y===-1)r.push([h,...f]);else if(f.length>0){let[w,...S]=f,I=r[y][1];Ti(I)&&Ti(w)&&(w=(0,oa.default)(!0,I,w)),r[y]=[h,w,...S]}}}},kc=new vc().freeze();function bc(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}s(bc,"assertParser");function Ac(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}s(Ac,"assertCompiler");function xc(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}s(xc,"assertUnfrozen");function of(t){if(!Ti(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}s(of,"assertNode");function lf(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}s(lf,"assertDone");function aa(t){return Yk(t)?t:new Fi(t)}s(aa,"vfile");function Yk(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}s(Yk,"looksLikeAVFile");function Hk(t){return typeof t=="string"||jk(t)}s(Hk,"looksLikeAValue");function jk(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}s(jk,"isUint8Array");var cf=kc().use(Mr).use(ra).freeze();var Cc={d:s((t,e)=>{for(var n in e)Cc.o(e,n)&&!Cc.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},"d"),o:s((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"o")},Ec={};Cc.d(Ec,{Z:s(()=>Jk,"Z"),$:s(()=>pf,"$")});var Lr={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function uf(t){return t<Lr.nul||t===Lr.space}s(uf,"n");function Sc(t){return t<Lr.horizontalTab}s(Sc,"i");var Gk={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,i){var a;if(!r)return i;for(typeof r=="string"&&(r=[r]),a=-1;++a<r.length;)if(n.indexOf(r[a])!==-1)return!0;return!1}s(e,"t"),t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(c,d,h){for(var f,m,y,w,S,I,E,C,T=(h.before||"")+(d||"")+(h.after||""),O=[],N=[],Y={},F=-1;++F<c.unsafe.length;)if(w=c.unsafe[F],i(c.stack,w))for(S=r(w);I=S.exec(T);)f="before"in w||w.atBreak,m="after"in w,y=I.index+(f?I[1].length:0),O.indexOf(y)===-1?(O.push(y),Y[y]={before:f,after:m}):(Y[y].before&&!f&&(Y[y].before=!1),Y[y].after&&!m&&(Y[y].after=!1));for(O.sort(a),E=h.before?h.before.length:0,C=T.length-(h.after?h.after.length:0),F=-1;++F<O.length;)(y=O[F])<E||y>=C||y+1<C&&O[F+1]===y+1&&Y[y].after&&!Y[y+1].before&&!Y[y+1].after||(E!==y&&N.push(l(T.slice(E,y),"\\")),E=y,!/[!-/:-@[-`{-~]/.test(T.charAt(y))||h.encode&&h.encode.indexOf(T.charAt(y))!==-1?(N.push("&#x"+T.charCodeAt(y).toString(16).toUpperCase()+";"),E++):N.push("\\"));return N.push(l(T.slice(E,C),h.after)),N.join("")};var r=n(553),i=n(112);function a(c,d){return c-d}s(a,"a");function l(c,d){for(var h,f=/\\(?=[!-/:-@[-`{-~])/g,m=[],y=[],w=-1,S=0,I=c+d;h=f.exec(I);)m.push(h.index);for(;++w<m.length;)S!==m[w]&&y.push(c.slice(S,m[w])),y.push("\\"),S=m[w];return y.push(c.slice(S)),y.join("")}s(l,"o")}},df={};function Zt(t){var e=df[t];if(e!==void 0)return e.exports;var n=df[t]={exports:{}};return Gk[t](n,n.exports,Zt),n.exports}s(Zt,"s");Zt.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Zt.d(e,{a:e}),e},Zt.d=(t,e)=>{for(var n in e)Zt.o(e,n)&&!Zt.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Zt.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Tc={};(()=>{function t(i={}){let a=i.permalinks||[],l=i.pageResolver||(y=>[y.replace(/ /g,"_").toLowerCase()]),c=i.newClassName||"new",d=i.wikiLinkClassName||"internal",h=i.hrefTemplate||(y=>`#/page/${y}`),f;function m(y){return y[y.length-1]}return s(m,"s"),{enter:{wikiLink:s(function(y){f={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(f,y)},"wikiLink")},exit:{wikiLinkTarget:s(function(y){let w=this.sliceSerialize(y);m(this.stack).value=w},"wikiLinkTarget"),wikiLinkAlias:s(function(y){let w=this.sliceSerialize(y);m(this.stack).data.alias=w},"wikiLinkAlias"),wikiLink:s(function(y){this.exit(y);let w=f,S=l(w.value),I=S.find((N=>a.indexOf(N)!==-1)),E=I!==void 0,C;C=E?I:S[0]||"";let T=w.value;w.data.alias&&(T=w.data.alias);let O=d;E||(O+=" "+c),w.data.alias=T,w.data.permalink=C,w.data.exists=E,w.data.hName="a",w.data.hProperties={className:O,href:h(C)},w.data.hChildren=[{type:"text",value:T}]},"wikiLink")}}}s(t,"e"),Zt.d(Tc,{V:s(()=>t,"V"),x:s(()=>r,"x")});var e=Zt(113),n=Zt.n(e);function r(i={}){let a=i.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:s(function(l,c,d){let h=d.enter("wikiLink"),f=n()(d,l.value,{before:"[",after:"]"}),m=n()(d,l.data.alias,{before:"[",after:"]"}),y;return y=m!==f?`[[${f}${a}${m}]]`:`[[${f}]]`,h(),y},"wikiLink")}}}s(r,"n")})();var qk=Tc.V,Kk=Tc.x,hf=!1;function pf(t={}){let e=this.data();function n(r,i){e[r]?e[r].push(i):e[r]=[i]}s(n,"a"),!hf&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(hf=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",i="]]";return{text:{91:{tokenize:s(function(a,l,c){var d,h,f=0,m=0,y=0;return function(T){return T!=="[[".charCodeAt(m)?c(T):(a.enter("wikiLink"),a.enter("wikiLinkMarker"),w(T))};function w(T){return m===2?(a.exit("wikiLinkMarker"),(function(O){return Sc(O)||O===Lr.eof?c(O):(a.enter("wikiLinkData"),a.enter("wikiLinkTarget"),S(O))})(T)):T!=="[[".charCodeAt(m)?c(T):(a.consume(T),m++,w)}function S(T){return T===r.charCodeAt(f)?d?(a.exit("wikiLinkTarget"),a.enter("wikiLinkAliasMarker"),I(T)):c(T):T===i.charCodeAt(y)?d?(a.exit("wikiLinkTarget"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),C(T)):c(T):Sc(T)||T===Lr.eof?c(T):(uf(T)||(d=!0),a.consume(T),S)}function I(T){return f===r.length?(a.exit("wikiLinkAliasMarker"),a.enter("wikiLinkAlias"),E(T)):T!==r.charCodeAt(f)?c(T):(a.consume(T),f++,I)}function E(T){return T===i.charCodeAt(y)?h?(a.exit("wikiLinkAlias"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),C(T)):c(T):Sc(T)||T===Lr.eof?c(T):(uf(T)||(h=!0),a.consume(T),E)}function C(T){return y===2?(a.exit("wikiLinkMarker"),a.exit("wikiLink"),l(T)):T!==i.charCodeAt(y)?c(T):(a.consume(T),y++,C)}},"tokenize")}}}})(t)),n("fromMarkdownExtensions",qk(t)),n("toMarkdownExtensions",Kk(t))}s(pf,"k");var Jk=pf,tD=Ec.Z,ff=Ec.$;s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xk=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function Fc(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return Xk.test(t)}s(Fc,"isUrl");var er=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function la(t){let e=(0,er.getFrontMatterInfo)(t);return(0,er.parseYaml)(e.frontmatter)??{}}s(la,"parseFrontmatter");function mf(t,e){let n=(0,er.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,er.stringifyYaml)(e);return n.exists?nh(t,r,n.from,n.to):`---
${r}---
${t}`}s(mf,"setFrontmatter");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ht(t){if(!gt(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}s(ht,"isFrontmatterLinkCacheWithOffsets");function ca(t){return ht(t)?t:{...t,endOffset:t.original.length,startOffset:0}}s(ca,"toFrontmatterLinkCacheWithOffsets");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function gf(t){return Pc(t)&&t.type==="file"}s(gf,"isCanvasFileNodeReference");function Pc(t){return gt(t)&&!!t.isCanvas}s(Pc,"isCanvasReference");function ua(t,e){return ht(t)?{newContent:e,oldContent:t.original.slice(t.startOffset,t.endOffset),reference:t}:{newContent:e,oldContent:t.original,reference:t}}s(ua,"referenceToFileChange");function yf(t){return t.sort((e,n)=>{if(gt(e)&&gt(n)){let r=ht(e)?e.startOffset:0,i=ht(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(ht(n))-Number(ht(e))||r-i}return $t(e)&&$t(n)?e.position.start.offset-n.position.start.offset:gt(e)?1:-1})}s(yf,"sortReferences");var wf=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function bf(t,e,n){let r=Oe(t,e),i=mt(n);await da(t,i);let a=Af(t,n);try{await t.vault.copy(r,a)}catch(l){if(!await t.vault.exists(a))throw l}return a}s(bf,"copySafe");async function da(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}s(da,"createFolderSafe");function Af(t,e){let n=ze(e);return t.vault.getAvailablePath(Pe(Ee(e),Fe(e,n)),n.slice(1))}s(Af,"getAvailablePath");function Ic(t,e,n){let r=ve(t,e);if(t.vault.adapter.insensitive){let i=Ee(n),a=Fe(n),l;for(;l=Vt(t,i,!0),!l;)a=Pe(Fe(i),a),i=Ee(i);n=Pe(l.getParentPrefix(),a)}return r.toLowerCase()===n.toLowerCase()?n:Af(t,n)}s(Ic,"getSafeRenamePath");async function ha(t,e){let n=await Mc(t,ve(t,e));return n.files.length===0&&n.folders.length===0}s(ha,"isEmptyFolder");async function Mc(t,e){let n=ve(t,e),r={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return r;try{return await t.vault.adapter.list(n)}catch(i){if(await t.vault.exists(n))throw i;return r}}s(Mc,"listSafe");async function xf(t,e,n,r={}){let a={...{shouldFailOnMissingFile:!0},...r};await Ss(async l=>{l.throwIfAborted();let c=await Oc(t,e);if(l.throwIfAborted(),c===null)return m();let d=await jn(n,l,c);if(l.throwIfAborted(),d===null)return!1;let h=!0;if(!await vf(t,e,async y=>{l.throwIfAborted(),await t.vault.process(y,w=>(l.throwIfAborted(),w!==c?(be("Vault:process")("Content has changed since it was read. Retrying...",{actualContent:w,expectedContent:c,path:y.path}),h=!1,w):d)),l.throwIfAborted()}))return m();return h;function m(){if(a.shouldFailOnMissingFile){let y=ve(t,e);throw new Error(`File '${y}' not found`)}return!0}},a)}s(xf,"process");async function Oc(t,e){let n=null;return await vf(t,e,async r=>{await fa(t,r),n=await t.vault.read(r)}),n}s(Oc,"readSafe");async function pa(t,e,n){let r=Oe(t,e,!1,!0),i=Ic(t,e,n);if(r.path.toLowerCase()===i.toLowerCase())return r.path!==n&&await t.vault.rename(r,i),i;let a=mt(i);await da(t,a);try{await t.vault.rename(r,i)}catch(l){if(!await t.vault.exists(i)||await t.vault.exists(r.path))throw l}return i}s(pa,"renameSafe");async function fa(t,e){if(!yn(t,e))return;let n=ve(t,e);for(let r of t.workspace.getLeavesOfType(pi.Markdown))r.view instanceof wf.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}s(fa,"saveNote");async function vf(t,e,n){let r=ve(t,e),i=Le(t,r);if(!i||i.deleted)return!1;try{return await n(i),!0}catch(a){if(i=Le(t,r),!i||i.deleted)return!1;throw a}}s(vf,"invokeFileActionSafe");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function ya(t,e,n,r,i=!0){t.throwIfAborted();let a=await jn(r,t,e);if(t.throwIfAborted(),a===null)return null;let{frontmatter:l,hasFrontmatterError:c}=sS(e,n);if(!cS(a,e,l,n))return i?null:e;if(a=oS(a),!lS(a))return null;let{frontmatterChanged:d,newContent:h}=nS(a,e,c,n);return await rS(t,l,d,n),t.throwIfAborted(),iS(h,l,d)}s(ya,"applyContentChanges");async function kf(t,e,n,r={},i=!0){await xf(t,e,async(a,l)=>gn(t,e)?await tS(a,l,ve(t,e),n,i):await ya(a,l,ve(t,e),n,i),r)}s(kf,"applyFileChanges");function Pi(t){return Pc(t.reference)}s(Pi,"isCanvasChange");function Zk(t){return Pi(t)&&t.reference.type==="file"}s(Zk,"isCanvasFileNodeChange");function Qk(t){return Pi(t)&&t.reference.type==="text"}s(Qk,"isCanvasTextNodeChange");function bn(t){return $t(t.reference)}s(bn,"isContentChange");function ma(t){return gt(t.reference)}s(ma,"isFrontmatterChange");function ga(t){return ht(t.reference)}s(ga,"isFrontmatterChangeWithOffsets");function eS(t){return ga(t)?t:{...t,reference:ca(t.reference)}}s(eS,"toFrontmatterChangeWithOffsets");async function tS(t,e,n,r,i=!0){let a=await jn(r,t,e);if(t.throwIfAborted(),a===null)return null;let l=aS(e),c=new Map;for(let d of a){if(!Pi(d)){let f="Only canvas changes are supported for canvas files";throw console.error(f,{change:d,path:n}),new Error(f)}let h=l.nodes[d.reference.nodeIndex];if(!h){let f="Node not found";throw console.error(f,{nodeIndex:d.reference.nodeIndex,path:n}),new Error(f)}if(Zk(d)){if(h.file!==d.oldContent)return be("FileChange:applyCanvasChanges")("Content mismatch",{actualContent:h.file,expectedContent:d.oldContent,nodeIndex:d.reference.nodeIndex,path:n,type:"file"}),null;h.file=d.newContent}else if(Qk(d)){let f=c.get(d.reference.nodeIndex);f||(f=[],c.set(d.reference.nodeIndex,f)),f.push(d)}}for(let[d,h]of c.entries()){let f=l.nodes[d];if(!f){let y="Node not found";throw console.error(y,{nodeIndex:d,path:n}),new Error(y)}if(typeof f.text!="string"){let y="Node text is not a string";throw console.error(y,{nodeIndex:d,path:n}),new Error(y)}let m=h.map(y=>ua(y.reference.originalReference,y.newContent));f.text=await ya(t,f.text,`${n}.node${String(d)}.VIRTUAL_FILE.md`,m,i)}return JSON.stringify(l,null,"	")}s(tS,"applyCanvasChanges");function nS(t,e,n,r){let i="",a=0,l=new Map;for(let c of t)if(bn(c))i+=e.slice(a,c.reference.position.start.offset),i+=c.newContent,a=c.reference.position.end.offset;else if(ma(c))if(n)console.error(`Cannot apply frontmatter change in ${r}, because frontmatter parsing failed`,{change:c});else{let d=l.get(c.reference.key);d||(d=[],l.set(c.reference.key,d)),d.push(eS(c))}return i+=e.slice(a),{frontmatterChanged:l,newContent:i}}s(nS,"applyContentChangesToText");async function rS(t,e,n,r){for(let[i,a]of n.entries()){let l=Fn(e,i);if(typeof l!="string")return;let c=a.map(h=>({newContent:h.newContent,oldContent:h.oldContent,reference:{link:"",original:"",position:{end:{col:h.reference.endOffset,line:0,offset:h.reference.endOffset},start:{col:h.reference.startOffset,line:0,offset:h.reference.startOffset}}}})),d=await ya(t,l,`${r}.frontmatter.${i}.VIRTUAL_FILE.md`,c);if(d===null)return;oh(e,i,d)}}s(rS,"applyFrontmatterChangesWithOffsets");function iS(t,e,n){return n.size>0?mf(t,e):t}s(iS,"buildFinalContent");function sS(t,e){let n={},r=!1;try{n=la(t)}catch(i){fn(new Error(`Frontmatter parsing failed in ${e}`,{cause:i})),r=!0}return{frontmatter:n,hasFrontmatterError:r}}s(sS,"parseFrontmatterSafely");function aS(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}s(aS,"parseJsonSafe");function oS(t){return t.sort((e,n)=>bn(e)&&bn(n)?e.reference.position.start.offset-n.reference.position.start.offset:ga(e)&&ga(n)?e.reference.key.localeCompare(n.reference.key)||e.reference.startOffset-n.reference.startOffset:ma(e)&&ma(n)?e.reference.key.localeCompare(n.reference.key):bn(e)?-1:1),t.filter((e,n)=>e.oldContent===e.newContent?!1:n===0?!0:!vt(e,t[n-1]))}s(oS,"sortAndFilterChanges");function lS(t){for(let e=1;e<t.length;e++){let n=t[e];if(!n)continue;let r=t[e-1];if(r&&bn(r)&&bn(n)&&r.reference.position.end.offset&&r.reference.position.end.offset>n.reference.position.start.offset){let i="Overlapping changes";throw console.error(i,{change:n,previousChange:r}),new Error(i)}}return!0}s(lS,"validateChangeOverlaps");function cS(t,e,n,r){let i=be("FileChange:validateChanges");for(let a of t)if(bn(a)){let l=a.reference.position.start.offset,c=a.reference.position.end.offset,d=e.slice(l,c);if(d!==a.oldContent)return i("Content mismatch",{actualContent:d,endOffset:c,expectedContent:a.oldContent,path:r,startOffset:l}),!1}else if(ga(a)){let l=Fn(n,a.reference.key);if(typeof l!="string")return i("Property value is not a string",{frontmatterKey:a.reference.key,path:r,propertyValue:l}),!1;let c=l.slice(a.reference.startOffset,a.reference.endOffset);if(c!==a.oldContent)return i("Content mismatch",{actualContent:c,expectedContent:a.oldContent,frontmatterKey:a.reference.key,path:r,startOffset:a.reference.startOffset}),!1}else if(ma(a)){let l=Fn(n,a.reference.key);if(l!==a.oldContent)return i("Content mismatch",{actualContent:l,expectedContent:a.oldContent,frontmatterKey:a.reference.key,path:r}),!1}return!0}s(cS,"validateChanges");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Sf(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}s(Sf,"ensureMetadataCacheReady");function An(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),yf(e),e=e.filter((n,r)=>{if(r===0)return!0;let i=e[r-1];if(!i)return!0;if($t(n)&&$t(i))return n.position.start.offset!==i.position.start.offset;if(gt(n)&&gt(i)){let a=ht(n)?n.startOffset:0,l=ht(i)?i.startOffset:0;return n.key!==i.key||ht(n)!==ht(i)||a!==l}return!0}),e}s(An,"getAllLinks");function _c(t,e){let n=Oe(t,e,!0);return Ii(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}s(_c,"getBacklinksForFileOrPath");async function xn(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let i=new lh;return await Ss(async a=>{a.throwIfAborted();let l=Oe(t,e);await Sf(t),a.throwIfAborted(),i=_c(t,l);for(let c of i.keys()){a.throwIfAborted();let d=Le(t,c);if(!d)return!1;await fa(t,d),a.throwIfAborted();let h=await Oc(t,d);if(a.throwIfAborted(),!h)return!1;let f=la(h),m=i.get(c);if(!m)return!1;for(let y of m){let w;if($t(y))w=h.slice(y.position.start.offset,y.position.end.offset);else if(gt(y)){let S=Fn(f,y.key);if(typeof S!="string")return!1;let I=ca(y);w=S.slice(I.startOffset,I.endOffset)}else return!0;if(w!==y.original)return!1}}return!0},n),i}s(xn,"getBacklinksForFileSafe");async function Dr(t,e){let n=Le(t,e);try{if(!n)return null;if(n.deleted)return t.metadataCache.getFileCache(n);await fa(t,n);let r=t.metadataCache.fileCache[n.path];return r&&r.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await Sf(t)),t.metadataCache.getFileCache(n)}catch(r){if(!n||n.deleted)return null;throw r}}s(Dr,"getCacheSafe");function Cf(t,e,n){let r=Oe(t,e,!0);if(!r.deleted)throw new Error("File is existing");t.metadataCache.fileCache[r.path]={hash:r.path,mtime:0,size:0},t.metadataCache.metadataCache[r.path]=n}s(Cf,"registerFileCacheForNonExistingFile");function Ef(t,e){let n=If(t);for(let r of e)for(;r.deleted;){let i=n.get(r.path)??0;i++,n.set(r.path,i),t.vault.fileMap[r.path]=r,Ct(r)&&t.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r),r=Sr(t,mt(r.path),!0)}}s(Ef,"registerFiles");function Ii(t,e,n){try{return Ef(t,e),n()}finally{Pf(t,e)}}s(Ii,"tempRegisterFilesAndRun");async function Tf(t,e,n){try{return Ef(t,e),await n()}finally{Pf(t,e)}}s(Tf,"tempRegisterFilesAndRunAsync");function Ff(t,e){let n=Oe(t,e,!0);if(!n.deleted)throw new Error("File is existing");delete t.metadataCache.fileCache[n.path],delete t.metadataCache.metadataCache[n.path]}s(Ff,"unregisterFileCacheForNonExistingFile");function Pf(t,e){let n=If(t);for(let r of e)for(;r.deleted;){let i=n.get(r.path)??1;i--,n.set(r.path,i),i===0&&(n.delete(r.path),delete t.vault.fileMap[r.path],Ct(r)&&t.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)),r=Sr(t,mt(r.path),!0)}}s(Pf,"unregisterFiles");function If(t){return ft(t,"registeredFilesCounts",new Map).value}s(If,"getRegisteredFilesCounts");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Mf(t){return t.vault.getConfig("newLinkFormat")}s(Mf,"getNewLinkFormat");function Rc(t){return!t.vault.getConfig("useMarkdownLinks")}s(Rc,"shouldUseWikilinks");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var uS="\\|",dS=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,hS=/[\\[\]<>_*~=`$]/g,Rf=/(?<!\\)\|/g,Nf="|";var Nc=(t=>(t.Markdown="Markdown",t.ObsidianSettingsDefault="ObsidianSettingsDefault",t.PreserveExisting="PreserveExisting",t.Wikilink="Wikilink",t))(Nc||{});function pS(t){let e=Vr(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?Vc({app:t.app,link:t.link,linkStyle:t.linkStyle,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}s(pS,"convertLink");async function Lc(t,e,n,r={}){await kf(t,e,async(i,a)=>{let l=await Dr(t,e);i.throwIfAborted();let c=Oe(t,e),d=await t.vault.cachedRead(c);return i.throwIfAborted(),a!==d?null:await vS(l,gn(t,e),n,i)},r)}s(Lc,"editLinks");function $r(t){return Te(t,dS,({substring:e})=>encodeURIComponent(e))}s($r,"encodeUrl");function Vr(t,e,n,r=!1){let{linkPath:i}=Lf(e.link),a=ve(t,n),l=t.metadataCache.getFirstLinkpathDest(i,a);if(l)return l;if(!r)return null;if(i.startsWith("/"))return Oe(t,i,!0);let c=Pe(Ee(a),`./${i}`);return c.startsWith("../")?null:Oe(t,c,!0)}s(Vr,"extractLinkFile");function Dc(t){let{app:e}=t,n={isEmptyEmbedAliasAllowed:!0},r=SS(e).map(a=>a());t=Object.assign({},n,...r,t);let i=Oe(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return Ii(e,[i],()=>bS(t))}s(Dc,"generateMarkdownLink");function Ur(t){let e=fS(t);return e[0]?.raw===t?e[0]:null}s(Ur,"parseLink");function fS(t){let e=new Set,n="![",r=" [",i=Te(t,n,f=>(e.add(f.offset),r)),l=cf().use(Mr).use(ff,{aliasDivider:Nf}).parse(i),c=[],d=[];Ei(l,f=>{let m;switch(f.type){case"link":m=ES(f,t);break;case"wikiLink":m=TS(f,t);break;default:return}e.has(m.startOffset-1)&&(m.isEmbed=!0,m.startOffset--,m.raw=`!${m.raw}`),c.push(m)}),c.sort((f,m)=>f.startOffset-m.startOffset);let h=0;for(let f of c)Of(t,h,f.startOffset-1,d),h=f.endOffset+1;return Of(t,h,t.length-1,d),c.push(...d),c.sort((f,m)=>f.startOffset-m.startOffset),c}s(fS,"parseLinks");function mS(t){let{app:e,displayText:n,isWikilink:r,newSourcePathOrFile:i,oldSourcePathOrFile:a,oldTargetPath:l,targetPathOrFile:c}=t;if(r===!1)return!1;if(!n)return!0;let d=Oe(e,c,!0),h=ve(e,i),f=ve(e,a??i),m=Ee(h),y=Ee(f),w=new Set;for(let I of[d.path,l]){if(!I)continue;let E=ve(e,I);w.add(E),w.add(Fe(E)),w.add(kr(m,E)),w.add(kr(y,E))}for(let I of[f,h])w.add(e.metadataCache.fileToLinktext(d,I,!1));let S=Te((0,Br.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let I of w){if(I.toLowerCase()===S)return!0;let E=Ee(I),C=Fe(I,ze(I));if(Pe(E,C).toLowerCase()===S)return!0}return!1}s(mS,"shouldResetAlias");function Lf(t){let e=(0,Br.parseLinktext)(hi(t));return{linkPath:e.path,subpath:e.subpath}}s(Lf,"splitSubpath");function Bc(t){return Ur(t)?.hasAngleBrackets??!1}s(Bc,"testAngleBrackets");function Df(t){return Ur(t)?.isEmbed??!1}s(Df,"testEmbed");function gS(t){return Ur(t)?.url.startsWith("./")??!1}s(gS,"testLeadingDot");function yS(t){return Ur(t)?.url.startsWith("/")??!1}s(yS,"testLeadingSlash");function $c(t){return Ur(t)?.isWikilink??!1}s($c,"testWikilink");function Vc(t){let{app:e,link:n,linkStyle:r,newSourcePathOrFile:i,newTargetPathOrFile:a,oldSourcePathOrFile:l,oldTargetPathOrFile:c,shouldUpdateFileNameAlias:d}=t;if(!a)return n.original;let h=Oe(e,a,!0),f=ve(e,l??i),m=ve(e,c??a),y=Vf(e,n.original,r),{subpath:w}=Lf(n.link),S=!d;if(gn(e,i)&&gf(n))return h.path+w;let I=Ur(n.original),E;return y&&I?.alias&&(E=I.alias,S=!0),E??=mS({app:e,displayText:n.displayText,isWikilink:y,newSourcePathOrFile:i,oldSourcePathOrFile:l,oldTargetPath:m,targetPathOrFile:h})?void 0:I?.alias,S||(E===Fe(m,ze(m))?E=h.basename:E===Fe(m)&&(E=h.name)),Dc({alias:E,app:e,isSingleSubpathAllowed:f===m&&!!I?.alias,linkStyle:r,originalLink:n.original,sourcePathOrFile:i,subpath:w,targetPathOrFile:h})}s(Vc,"updateLink");async function Bf(t){let{app:e,linkStyle:n,newSourcePathOrFile:r,oldSourcePathOrFile:i,shouldUpdateEmbedOnlyLinks:a,shouldUpdateFileNameAlias:l}=t;gn(e,r)&&!e.internalPlugins.getEnabledPluginById(kt.Canvas)||await Lc(e,r,c=>{let d=Df(c.original);if(!(a!==void 0&&a!==d))return pS({app:e,link:c,linkStyle:n,newSourcePathOrFile:r,oldSourcePathOrFile:i,shouldUpdateFileNameAlias:l})},t)}s(Bf,"updateLinksInFile");function Of(t,e,n,r){if(e>n)return;let i=t.slice(e,n+1);Te(i,/(?<Url>\S+)/g,(a,l)=>{Fc(l)&&r.push({encodedUrl:$r(l),endOffset:e+a.offset+l.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:l,startOffset:e+a.offset,url:l})})}s(Of,"extractTextLinks");function wS(t,e,n,r,i){n==="/"&&(n="");let a;if(e.path===n&&r&&i.isSingleSubpathAllowed)a="";else switch(i.linkPathStyle){case"AbsolutePathInVault":a=e.path,i.shouldUseLeadingSlashForAbsolutePaths&&!a.startsWith("/")&&(a=`/${a}`);break;case"RelativePathToTheNote":a=kr(Ee(n),e.path),i.shouldUseLeadingDotForRelativePaths&&!a.startsWith(".")&&(a=`./${a}`);break;case"ShortestPathWhenPossible":{let l=yn(t,e)?e.basename:e.name,c=t.metadataCache.getLinkpathDest(l,n);a=c.length===1&&c[0]===e?e.name:e.path;break}default:throw new Error(`Invalid link path style: ${i.linkPathStyle}.`)}return a=i.isWikilink?Gt(a,`.${fi}`):a,a+=r,a}s(wS,"generateLinkText");function bS(t){let{app:e}=t,n=Oe(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=ve(e,t.sourcePathOrFile),i=t.subpath??"",a=CS(t,n),l=wS(e,n,r,i,a);return a.isWikilink?xS(l,t.alias,a.isEmbed):AS(l,n,t,a)}s(bS,"generateMarkdownLinkImpl");function AS(t,e,n,r){let{app:i}=n,a=r.isEmbed?"!":"",l=r.shouldUseAngleBrackets?`<${t}>`:$r(t),c=n.alias??"";!c&&(!r.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(c=!n.shouldIncludeAttachmentExtensionToEmbedAlias||yn(i,e)?e.basename:e.name);let d=n.shouldEscapeAlias?Te(c,hS,"\\$&"):c;return`${a}[${d}](${l})`}s(AS,"generateMarkdownStyleLink");function xS(t,e,n){let r=n?"!":"",i=e??"";if(i&&i.toLowerCase()===t.toLowerCase())return`${r}[[${i}]]`;let a=i?`|${i}`:"";return`${r}[[${t}${a}]]`}s(xS,"generateWikiLink");async function vS(t,e,n,r){if(r??=qe(),r.throwIfAborted(),!t)return[];let i=[],a=(t.sections??[]).filter(l=>l.type==="table").map(l=>({end:l.position.end.offset,start:l.position.start.offset}));for(let l of An(t)){r.throwIfAborted();let c=await n(l,r);if(r.throwIfAborted(),c===void 0)continue;let d=ua(l,c);if(e)if(Pi(d))i.push(d);else{let h="Unsupported file change";throw console.error(h,d),new Error(h)}else FS(d,a)&&(d.newContent=d.newContent.replaceAll(Rf,uS)),i.push(d)}return i}s(vS,"getFileChanges");function kS(t,e){switch(e??"ObsidianSettingsDefault"){case"AbsolutePathInVault":return"AbsolutePathInVault";case"RelativePathToTheSource":return"RelativePathToTheNote";case"ShortestPathWhenPossible":return"ShortestPathWhenPossible";case"ObsidianSettingsDefault":{let n=Mf(t);switch(n){case"absolute":return"AbsolutePathInVault";case"relative":return"RelativePathToTheNote";case"shortest":return"ShortestPathWhenPossible";default:throw new Error(`Invalid link format: ${n}.`)}}default:throw new Error(`Invalid link path style: ${e}.`)}}s(kS,"getFinalLinkPathStyle");function SS(t){return ft(t,"generateMarkdownLinkDefaultOptionsFns",[]).value}s(SS,"getGenerateMarkdownLinkDefaultOptionsFns");function CS(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?Df(t.originalLink):void 0)??(!(0,Br.requireApiVersion)("1.10.0")&&!yn(n,e)),isSingleSubpathAllowed:t.isSingleSubpathAllowed??!0,isWikilink:Vf(n,t.originalLink,t.linkStyle),linkPathStyle:kS(n,t.linkPathStyle),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?Bc(t.originalLink):void 0)??!1,shouldUseLeadingDotForRelativePaths:t.shouldUseLeadingDotForRelativePaths??(t.originalLink?gS(t.originalLink):void 0)??!1,shouldUseLeadingSlashForAbsolutePaths:t.shouldUseLeadingSlashForAbsolutePaths??(t.originalLink?yS(t.originalLink):void 0)??!1}}s(CS,"getLinkConfig");function $f(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}s($f,"getRawLink");function ES(t,e){let a=$f(t,e),l=t.children[0]?.position?.start.offset??1,c=t.children.at(-1)?.position?.end.offset??1,d=e.slice(c+2,(t.position?.end.offset??0)-1),h=a.startsWith("<")||d.startsWith("<"),f=Fc(t.url),m=t.url;if(!f&&!h)try{m=decodeURIComponent(m)}catch(y){console.error(`Failed to decode URL ${m}`,y)}return{alias:l<c?e.slice(l,c):void 0,encodedUrl:f?$r(m):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:h,isEmbed:!1,isExternal:f,isWikilink:!1,raw:a,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:m}}s(ES,"parseLinkNode");function TS(t,e){return{alias:e.includes(Nf)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:$f(t,e),startOffset:t.position?.start.offset??0,url:t.value}}s(TS,"parseWikilinkNode");function FS(t,e){return!bn(t)||!Rf.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}s(FS,"shouldEscapeWikilinkDivider");function Vf(t,e,n){switch(n??"PreserveExisting"){case"Markdown":return!1;case"ObsidianSettingsDefault":return Rc(t);case"PreserveExisting":return e===void 0?Rc(t):$c(e);case"Wikilink":return!0;default:throw new Error(`Invalid link style: ${n}.`)}}s(Vf,"shouldUseWikilinkStyle");function Uf(t,e){let n=Object.keys(e).map(r=>PS(t,r,e[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}s(Uf,"around");function PS(t,e,n){let r=t[e],i=t.hasOwnProperty(e),a=i?r:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},l=n(a);return r&&Object.setPrototypeOf(l,r),Object.setPrototypeOf(c,l),t[e]=c,d;function c(...h){return l===a&&t[e]===c&&d(),l.apply(this,h)}s(c,"wrapper");function d(){t[e]===c&&(i?t[e]=a:delete t[e]),l!==a&&(l=a,Object.setPrototypeOf(c,r||Function))}s(d,"remove")}s(PS,"around1");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function IS(t,e){return Uf(t,e)}s(IS,"around");function Qt(t,e,n){let r=IS(e,n),i=!1;function a(){if(!i)try{r()}finally{i=!0}}return s(a,"uninstallerWrapper"),t.register(a),r}s(Qt,"registerPatch");var va=require("obsidian");var Wf=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wa=class extends Wf.Component{static{s(this,"AsyncEventsComponent")}registerAsyncEvent(e){ba(this,e)}};function ba(t,e){t.register(()=>{e.asyncEvents.offref(e)})}s(ba,"registerAsyncEvent");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function MS(t){let e=new Set;return t.workspace.iterateAllLeaves(n=>{e.add(n.getContainer())}),Array.from(e)}s(MS,"getAllContainers");function zf(t){return MS(t).map(e=>e.win)}s(zf,"getAllDomWindows");var Gf=We(Hf(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var W=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(W||{});s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var jf=`${bs}-styles`;function he(t,...e){t.addClass(W.LibraryName,As(),...e)}s(he,"addPluginCssClasses");function qf(t){let e=t;e.DEBUG=qd()}s(qf,"initDebugController");function Kf(t,e){jd(e),Kd(e);let n=ft(t,"lastLibraryVersion","0.0.0");(0,Gf.compareVersions)(ol,n.value)<=0||(n.value=ol,document.head.querySelector(`#${jf}`)?.remove(),document.head.createEl("style",{attr:{id:jf},text:Yd}))}s(Kf,"initPluginContext");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xa=class extends va.Plugin{static{s(this,"PluginBase")}events=new Ht;get abortSignal(){if(!this._abortSignal)throw new Error("Abort signal not defined");return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){vs(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Zd(this.afterLoad.bind(this))}onunload(){super.onunload(),Ae(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerDomWindowHandler(e){let n=window;e(n),this.app.workspace.onLayoutReady(()=>{for(let r of zf(this.app))r!==n&&e(r);this.registerEvent(this.app.workspace.on("window-open",r=>{e(r.win)}))})}registerForLifecycleEvent(e,n){Ae(async()=>{await this.waitForLifecycleEvent(e),await n()})}registerPopupDocumentDomEvent(e,n,r){this.registerDomWindowHandler(i=>{this.registerDomEvent(i.document,e,n,r)})}registerPopupWindowDomEvent(e,n,r){this.registerDomWindowHandler(i=>{this.registerDomEvent(i,e,n,r)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}createTranslationsMap(){return Bs}handleAsyncError(e){this.showNotice(k(n=>n.obsidianDevUtils.notices.unhandledError))}async onLayoutReady(){await Yt()}async onloadImpl(){Kf(this.app,this.manifest.id),this.registerDomWindowHandler(n=>{qf(n)}),await Rl(this.createTranslationsMap()),this.register(zd(this.handleAsyncError.bind(this))),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(ba(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),ba(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new wr(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await Yt()}async onSaveSettings(e,n,r){await Yt()}async onunloadImpl(){await Yt()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new va.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this.abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(st(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};var tm=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Jf(t,e,n,r){n.throwIfAborted();let i=be("Logger:invokeAsyncAndLog"),a=performance.now();r??=it(1),jt(i,r,`${t}:start`,{fn:e,timestampStart:a});try{await e(n);let l=performance.now(),c=l-a;n.aborted&&(jt(i,r,`${t}:aborted`,{abortReason:n.reason,duration:c,fn:e,timestampEnd:l,timestampStart:a}),n.throwIfAborted()),jt(i,r,`${t}:end`,{duration:c,fn:e,timestampEnd:l,timestampStart:a})}catch(l){let c=performance.now();throw jt(i,r,`${t}:error`,{duration:c-a,error:l,fn:e,timestampEnd:c,timestampStart:a}),l}}s(Jf,"invokeAsyncAndLog");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Rn(t,e,n,r,i){i??=it(1),Ae(()=>OS(t,e,n,r,i),i)}s(Rn,"addToQueue");async function OS(t,e,n,r,i){n??=qe(),n.throwIfAborted(),r??=6e4,i??=it(1);let l=Xf(t).value;l.items.push({abortSignal:n,fn:e,stackTrace:i,timeoutInMilliseconds:r}),l.promise=l.promise.then(()=>Zf(t)),await l.promise}s(OS,"addToQueueAndWait");function Xf(t){return ft(t,"queue",{items:[],promise:Promise.resolve()})}s(Xf,"getQueue");async function Zf(t){let e=Xf(t).value,n=e.items[0];n&&(await dl(()=>hl(n.timeoutInMilliseconds,r=>Jf(Zf.name,n.fn,zn(r,n.abortSignal),n.stackTrace),{queuedFn:n.fn}),n.stackTrace),e.items.shift())}s(Zf,"processNextQueueItem");var Qf=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Uc(t,e){let n=Vt(t,e);n&&await ha(t,n)&&await Mi(t,n)}s(Uc,"deleteEmptyFolder");async function em(t,e){let n=Vt(t,e);for(;n;){if(!await ha(t,n))return;let r=n.parent;await Uc(t,n),n=r}}s(em,"deleteEmptyFolderHierarchy");async function Mi(t,e,n,r,i){let a=Gn(t,e);if(!a)return!1;let l=Ct(a)||(i??!0);if(Ct(a)){let c=await xn(t,a);n&&c.clear(n),c.count()!==0&&(r&&new Qf.Notice(k(d=>d.obsidianDevUtils.notices.attachmentIsStillUsed,{attachmentPath:a.path})),l=!1)}else if(bl(a)){let c=await Mc(t,a);for(let d of[...c.files,...c.folders])l&&=await Mi(t,d,n,r);l&&=await ha(t,a)}if(l)try{await t.fileManager.trashFile(a)}catch(c){await t.vault.exists(a.path)&&(fn(new Error(`Failed to delete ${a.path}`,{cause:c})),l=!1)}return l}s(Mi,"deleteSafe");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Tt=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(Tt||{}),Wc=class{static{s(this,"DeleteHandler")}constructor(e,n,r,i,a){this.app=e,this.file=n,this.abortSignal=r,this.settingsManager=i,this.deletedMetadataCacheMap=a}async handle(){if(this.abortSignal.throwIfAborted(),be("RenameDeleteHandler:handleDelete")(`Handle Delete ${this.file.path}`),!this.settingsManager.isNoteEx(this.file.path))return;let e=this.settingsManager.getSettings();if(!e.shouldHandleDeletions)return;if(e.isPathIgnored?.(this.file.path)){be("RenameDeleteHandler:handleDelete")(`Skipping delete handler of ${this.file.path} as the path is ignored.`);return}let n=this.deletedMetadataCacheMap.get(this.file.path);this.deletedMetadataCacheMap.delete(this.file.path);let r=new Set;if(n){let l=An(n);for(let c of l){let d=Vr(this.app,c,this.file.path);d&&(this.settingsManager.isNoteEx(d.path)||(r.add(d.parent?.path??""),await Mi(this.app,d,this.file.path,!1,e.emptyAttachmentFolderBehavior!=="Keep")))}}await rm(this.app,this.settingsManager.getSettings(),Array.from(r)),this.abortSignal.throwIfAborted();let i=await Cr(this.app,this.file.path,Pn.DeleteNote),a=Vt(this.app,i);a&&await vl(this.app,this.file.path,Pn.DeleteNote)&&(this.abortSignal.throwIfAborted(),await Mi(this.app,a,this.file.path,!1,e.emptyAttachmentFolderBehavior!=="Keep"),this.abortSignal.throwIfAborted())}},zc=class{static{s(this,"HandledRenames")}map=new Map;add(e,n){this.map.set(this.keyToString(e,n),{newPath:n,oldPath:e})}delete(e,n){this.map.delete(this.keyToString(e,n))}has(e,n){return this.map.has(this.keyToString(e,n))}keys(){return this.map.values()}keyToString(e,n){return`${e} -> ${n}`}},Yc=class{static{s(this,"MetadataDeletedHandler")}constructor(e,n,r,i,a){this.app=e,this.file=n,this.prevCache=r,this.settingsManager=i,this.deletedMetadataCacheMap=a}handle(){let e=this.settingsManager.getSettings();if(e.shouldHandleDeletions){if(e.isPathIgnored?.(this.file.path)){be("RenameDeleteHandler:handleMetadataDeleted")(`Skipping metadata delete handler of ${this.file.path} as the path is ignored.`);return}yn(this.app,this.file)&&this.prevCache&&this.deletedMetadataCacheMap.set(this.file.path,this.prevCache)}}},Hc=class{static{s(this,"Registry")}constructor(e,n,r){this.plugin=e,this.settingsBuilder=n,this.settingsManager=r,this.app=e.app,this.pluginId=e.manifest.id,this.abortSignal=e.abortSignal??qe()}abortSignal;app;deletedMetadataCacheMap=new Map;handledRenames=new zc;interruptedRenamesMap=new Map;pluginId;register(){let e=this.settingsManager.renameDeleteHandlersMap;e.set(this.pluginId,this.settingsBuilder),this.logRegisteredHandlers(),this.plugin.register(()=>{e.delete(this.pluginId),this.logRegisteredHandlers()}),this.plugin.registerEvent(this.app.vault.on("delete",this.handleDelete.bind(this))),this.plugin.registerEvent(this.app.vault.on("rename",this.handleRename.bind(this))),this.plugin.registerEvent(this.app.metadataCache.on("deleted",this.handleMetadataDeleted.bind(this))),Qt(this.plugin,this.app.fileManager,{runAsyncLinkUpdate:s(n=>Object.assign(r=>this.runAsyncLinkUpdate(n,r),{renameDeleteHandlerPatched:!0}),"runAsyncLinkUpdate")})}handleDelete(e){this.shouldInvokeHandler()&&Rn(this.app,n=>new Wc(this.app,e,n,this.settingsManager,this.deletedMetadataCacheMap).handle(),this.abortSignal)}handleMetadataDeleted(e,n){this.shouldInvokeHandler()&&new Yc(this.app,e,n,this.settingsManager,this.deletedMetadataCacheMap).handle()}handleRename(e,n){if(!this.shouldInvokeHandler()||!Ct(e))return;let r=e.path;if(be("RenameDeleteHandler:handleRename")(`Handle Rename ${n} -> ${r}`),this.handledRenames.has(n,r)){this.handledRenames.delete(n,r);return}let i=this.settingsManager.getSettings();if(!i.shouldHandleRenames)return;if(i.isPathIgnored?.(n)){be("RenameDeleteHandler:handleRename")(`Skipping rename handler of old path ${n} as the path is ignored.`);return}if(i.isPathIgnored?.(r)){be("RenameDeleteHandler:handleRename")(`Skipping rename handler of new path ${r} as the path is ignored.`);return}let a=this.app.metadataCache.getCache(n)??this.app.metadataCache.getCache(r),l=_c(this.app,n).data;Rn(this.app,c=>new jc({abortSignal:c,app:this.app,handledRenames:this.handledRenames,interruptedRenamesMap:this.interruptedRenamesMap,newPath:r,oldCache:a,oldPath:n,oldPathBacklinksMap:l,settingsManager:this.settingsManager}).handle(),this.abortSignal)}logRegisteredHandlers(){let e=this.settingsManager.renameDeleteHandlersMap;be("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}async runAsyncLinkUpdate(e,n){if(e.renameDeleteHandlerPatched){await e.call(this.app.fileManager,n);return}await e.call(this.app.fileManager,r=>this.wrapLinkUpdatesHandler(r,n))}shouldInvokeHandler(){let e=this.plugin.manifest.id,n=this.settingsManager.renameDeleteHandlersMap;return Array.from(n.keys())[0]===e}async wrapLinkUpdatesHandler(e,n){let r=!1,i=this.app.vault.on("rename",()=>{r=!0});try{await n(e)}finally{this.app.vault.offref(i)}let a=this.settingsManager.getSettings();!r||!a.shouldHandleRenames||li(e,l=>a.isPathIgnored?.(l.sourceFile.path)?(be("RenameDeleteHandler:runAsyncLinkUpdate")(`Roll back to default link update of source file ${l.sourceFile.path} as the path is ignored.`),!0):a.isPathIgnored?.(l.resolvedFile.path)?(be("RenameDeleteHandler:runAsyncLinkUpdate")(`Roll back to default link update of resolved file ${l.resolvedFile.path} as the path is ignored.`),!0):!this.app.internalPlugins.getEnabledPluginById(kt.Canvas)||this.app.plugins.getPlugin("backlink-cache")?!1:l.sourceFile.extension===Ps||l.resolvedFile.extension===Ps)}},jc=class t{static{s(this,"RenameHandler")}abortSignal;app;handledRenames;interruptedCombinedBacklinksMap;interruptedRenamesMap;newPath;oldCache;oldPath;oldPathBacklinksMap;oldPathLinks;settingsManager;constructor(e){this.app=e.app,this.oldPath=e.oldPath,this.newPath=e.newPath,this.oldPathBacklinksMap=e.oldPathBacklinksMap,this.oldCache=e.oldCache,this.abortSignal=e.abortSignal,this.settingsManager=e.settingsManager,this.interruptedRenamesMap=e.interruptedRenamesMap,this.oldPathLinks=this.oldCache?An(this.oldCache):[],this.handledRenames=e.handledRenames,this.interruptedCombinedBacklinksMap=e.interruptedCombinedBacklinksMap??new Map}async handle(){if(this.abortSignal.throwIfAborted(),await this.continueInterruptedRenames(),this.abortSignal.throwIfAborted(),await this.refreshLinks(),this.abortSignal.throwIfAborted(),!await this.handleCaseCollision()){this.abortSignal.throwIfAborted();try{let e=new Gc({abortSignal:this.abortSignal,app:this.app,newPath:this.newPath,oldCache:this.oldCache,oldPath:this.oldPath,settingsManager:this.settingsManager});await e.fill(),this.abortSignal.throwIfAborted();let n=new Map;e.initBacklinksMap(this.oldPathBacklinksMap,n,this.oldPath);for(let a of e.keys()){if(a===this.oldPath)continue;let l=(await xn(this.app,a)).data;this.abortSignal.throwIfAborted(),e.initBacklinksMap(l,n,a)}let r=new Set;for(let[a,l]of e.entries()){if(a!==this.oldPath){let c=await this.renameHandled(a,l);this.abortSignal.throwIfAborted(),e.set(a,c)}this.settingsManager.isNoteEx(a)||r.add(Ee(a))}await rm(this.app,this.settingsManager.getSettings(),Array.from(r)),this.abortSignal.throwIfAborted();let i=this.settingsManager.getSettings();for(let[a,l]of Array.from(n.entries()).concat(Array.from(this.interruptedCombinedBacklinksMap.entries())))await Lc(this.app,a,c=>{let d=l.get(Es(c));if(!d)return;let h=e.get(d);if(h)return Vc({app:this.app,link:c,newSourcePathOrFile:a,newTargetPathOrFile:h,oldTargetPathOrFile:d,shouldUpdateFileNameAlias:i.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1}),this.abortSignal.throwIfAborted();if(this.settingsManager.isNoteEx(this.newPath)&&(await Bf({app:this.app,newSourcePathOrFile:this.newPath,oldSourcePathOrFile:this.oldPath,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:i.shouldUpdateFileNameAliases}),this.abortSignal.throwIfAborted()),!Le(this.app,this.newPath)){let a=this.interruptedRenamesMap.get(this.newPath);a||(a=[],this.interruptedRenamesMap.set(this.newPath,a)),a.push({combinedBacklinksMap:n,oldPath:this.oldPath})}}finally{let e=Array.from(this.handledRenames.keys());Rn(this.app,()=>{for(let n of e)this.handledRenames.delete(n.oldPath,n.newPath)},this.abortSignal)}}}async continueInterruptedRenames(){let e=this.interruptedRenamesMap.get(this.oldPath);if(e){this.interruptedRenamesMap.delete(this.oldPath);for(let n of e)await new t({abortSignal:this.abortSignal,app:this.app,handledRenames:this.handledRenames,interruptedCombinedBacklinksMap:n.combinedBacklinksMap,interruptedRenamesMap:this.interruptedRenamesMap,newPath:this.newPath,oldCache:this.oldCache,oldPath:n.oldPath,oldPathBacklinksMap:this.oldPathBacklinksMap,settingsManager:this.settingsManager}).handle()}}async handleCaseCollision(){if(!this.app.vault.adapter.insensitive||this.oldPath.toLowerCase()!==this.newPath.toLowerCase())return!1;let e=Pe(Ee(this.newPath),`__temp__${Fe(this.newPath)}`);return await this.renameHandled(this.newPath,e),await new t({abortSignal:this.abortSignal,app:this.app,handledRenames:this.handledRenames,interruptedRenamesMap:this.interruptedRenamesMap,newPath:e,oldCache:this.oldCache,oldPath:this.oldPath,oldPathBacklinksMap:this.oldPathBacklinksMap,settingsManager:this.settingsManager}).handle(),await this.app.vault.rename(Oe(this.app,e),this.newPath),!0}async refreshLinks(){let e=this.app.metadataCache.getCache(this.oldPath)??this.app.metadataCache.getCache(this.newPath),n=e?An(e):[],r=Oe(this.app,this.oldPath,!0),i=new Map;await Ii(this.app,[r],async()=>{i=(await xn(this.app,r)).data});for(let a of n)this.oldPathLinks.includes(a)||this.oldPathLinks.push(a);for(let[a,l]of i.entries()){let c=this.oldPathBacklinksMap.get(a);c||(c=[],this.oldPathBacklinksMap.set(a,c));for(let d of l)c.includes(d)||c.push(d)}}async renameHandled(e,n){return n=Ic(this.app,e,n),e===n||(this.handledRenames.add(e,n),n=await pa(this.app,e,n)),n}},Gc=class{static{s(this,"RenameMap")}abortSignal;app;map=new Map;newPath;oldCache;oldPath;oldPathLinks;settingsManager;constructor(e){this.abortSignal=e.abortSignal,this.app=e.app,this.settingsManager=e.settingsManager,this.oldCache=e.oldCache,this.oldPath=e.oldPath,this.newPath=e.newPath,this.oldPathLinks=this.oldCache?An(this.oldCache):[]}entries(){return this.map.entries()}async fill(){if(this.abortSignal.throwIfAborted(),this.map.set(this.oldPath,this.newPath),!this.settingsManager.isNoteEx(this.oldPath))return;let e=this.settingsManager.getSettings(),n=Oe(this.app,this.oldPath,!0),r="";await Tf(this.app,[n],async()=>{let d=this.oldCache&&n.deleted;d&&Cf(this.app,n,this.oldCache);try{r=await Cr(this.app,this.oldPath,Pn.RenameNote)}finally{d&&Ff(this.app,n)}});let i=e.shouldRenameAttachmentFolder?await Cr(this.app,this.newPath,Pn.RenameNote):r,a=r==="/",l=Vt(this.app,r);if(!l||r===i&&!e.shouldRenameAttachmentFiles)return;let c=[];if(await vl(this.app,this.oldPath,Pn.RenameNote))tm.Vault.recurseChildren(l,d=>{this.abortSignal.throwIfAborted(),Ct(d)&&c.push(d)});else for(let d of this.oldPathLinks){this.abortSignal.throwIfAborted();let h=Vr(this.app,d,this.oldPath);if(h&&(a||h.path.startsWith(r))){let f=await xn(this.app,h);this.abortSignal.throwIfAborted(),f.keys().length===1&&c.push(h)}}for(let d of c){if(this.abortSignal.throwIfAborted(),this.settingsManager.isNoteEx(d.path))continue;let h;if(e.shouldRenameAttachmentFiles)h=await Al({app:this.app,context:Pn.RenameNote,notePathOrFile:this.newPath,oldAttachmentPathOrFile:d,oldNotePathOrFile:this.oldPath,shouldSkipDuplicateCheck:!0}),this.abortSignal.throwIfAborted();else{let f=a?d.path:kr(r,d.path),m=Pe(i,Ee(f));h=Pe(m,d.name)}if(d.path!==h){if(e.shouldDeleteConflictingAttachments){let f=Le(this.app,h);f&&(be("RenameDeleteHandler:fillRenameMap")(`Removing conflicting attachment ${f.path}.`),await this.app.fileManager.trashFile(f),this.abortSignal.throwIfAborted())}else{let f=Ee(h),m=ze(h),y=Fe(h,m);h=this.app.vault.getAvailablePath(Pe(f,y),m.slice(1))}this.map.set(d.path,h)}}}get(e){return this.map.get(e)}initBacklinksMap(e,n,r){for(let[i,a]of e.entries()){let l=this.map.get(i)??i,c=n.get(l)??new Map;n.set(l,c);for(let d of a)c.set(Es(d),r)}}keys(){return this.map.keys()}set(e,n){this.map.set(e,n)}},qc=class{static{s(this,"SettingsManager")}constructor(e){this.app=e,this.renameDeleteHandlersMap=ft(e,"renameDeleteHandlersMap",new Map).value}renameDeleteHandlersMap;getSettings(){let e=Array.from(this.renameDeleteHandlersMap.values()).reverse(),n={};n.isNote=r=>mi(this.app,r),n.isPathIgnored=()=>!1;for(let r of e){let i=r();n.shouldDeleteConflictingAttachments||=i.shouldDeleteConflictingAttachments??!1,i.emptyAttachmentFolderBehavior&&(n.emptyAttachmentFolderBehavior??=i.emptyAttachmentFolderBehavior),n.shouldHandleDeletions||=i.shouldHandleDeletions??!1,n.shouldHandleRenames||=i.shouldHandleRenames??!1,n.shouldRenameAttachmentFiles||=i.shouldRenameAttachmentFiles??!1,n.shouldRenameAttachmentFolder||=i.shouldRenameAttachmentFolder??!1,n.shouldUpdateFileNameAliases||=i.shouldUpdateFileNameAliases??!1;let a=n.isPathIgnored;n.isPathIgnored=c=>a(c)||(i.isPathIgnored?.(c)??!1);let l=n.isNote;n.isNote=c=>l(c)&&(i.isNote?.(c)??!0)}return n.emptyAttachmentFolderBehavior??="Keep",n}isNoteEx(e){return this.getSettings().isNote?.(e)??!1}};function nm(t,e){new Hc(t,e,new qc(t.app)).register()}s(nm,"registerRenameDeleteHandlers");async function rm(t,e,n){if(e.emptyAttachmentFolderBehavior!=="Keep")for(let r of n)switch(e.emptyAttachmentFolderBehavior){case"Delete":await Uc(t,r);break;case"DeleteWithEmptyParents":await em(t,r);break;default:break}}s(rm,"cleanupParentFolders");var Nn=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function q(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}s(q,"appendCodeBlock");function im(t){return`${String(t)}px`}s(im,"toPx");var sm=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function am(t){let n={...{abortSignal:qe(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:Dt,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},r=it(1),i=n.items,a=0,l=null;n.shouldShowProgressBar&&(l=new sm.Notice("",0));let c=sleep(n.noticeMinTimeoutInMilliseconds),d=createEl("progress");if(he(d,"loop"),d.max=i.length,n.shouldShowProgressBar){let f=createFragment();f.createDiv({text:n.progressBarTitle}),f.appendChild(d),l?.setMessage(f)}let h=performance.now();for(let f of i){if(n.abortSignal.aborted){l?.hide();return}a++;let m=`# ${String(a)} / ${String(i.length)}`,y=n.buildNoticeMessage(f,m);n.shouldShowProgressBar||l?.setMessage(y),be("Loop")(y);try{performance.now()-h>n.uiUpdateThresholdInMilliseconds&&(await Qd(),h=performance.now()),await n.processItem(f)}catch(w){if(console.error("Error processing item",f),!n.shouldContinueOnError)throw l?.hide(),new Bt("loop failed",r,w);ys(new Bt(gs,r,w))}d.value++}await c,l?.hide()}s(am,"loop");var Kc=require("obsidian");var om=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Wr=class extends om.Modal{static{s(this,"ModalBase")}constructor(e,n,r){super(e.app),this.resolve=n,he(this.containerEl,r),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function ka(t){return await new Promise(e=>{t(e).open()})}s(ka,"showModal");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Jc=class extends Wr{static{s(this,"ConfirmModal")}isConfirmed=!1;options;constructor(e,n){super(e,n,W.ConfirmModal);let r={app:e.app,cancelButtonText:k(i=>i.obsidianDevUtils.buttons.cancel),cssClass:"",message:e.message,okButtonText:k(i=>i.obsidianDevUtils.buttons.ok),title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve(this.isConfirmed)}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new Kc.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(()=>{this.isConfirmed=!0,this.close()}),e.setClass(W.OkButton);let n=new Kc.ButtonComponent(this.contentEl);n.setButtonText(this.options.cancelButtonText),n.onClick(this.close.bind(this)),n.setClass(W.CancelButton)}};async function Sa(t){return await ka(e=>new Jc(t,e))}s(Sa,"confirm");var Ta=require("obsidian");var Oi=We(pn(),1),NS=We(require("obsidian"),1);var lm=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function cm(t){return t.validationMessage!==void 0}s(cm,"isValidationMessageHolder");var _S=/[*\\/<>:|?"]/g,RS=/[\0/]/g;function Ca(t){return t??=lm.Platform.isWin,t?_S:RS}s(Ca,"getOsUnsafePathCharsRegExp");var mm=We(um(),1);var vn=require("obsidian");var Qc=class extends vn.Modal{constructor(n){super(n.ctx.app);this.options=n;he(this.containerEl,"preview-modal")}static{s(this,"PreviewModal")}embedComponent;tempFile;onClose(){super.onClose(),this.embedComponent?.unload(),Ae(async()=>{this.tempFile&&await this.app.vault.delete(this.tempFile)})}onOpen(){super.onOpen(),Ae(this.onOpenAsync.bind(this))}async onOpenAsync(){let n=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];if(!n||!this.options.ctx.attachmentFileContent)return;let r=`${this.options.ctx.originalAttachmentFileName}.${this.options.ctx.originalAttachmentFileExtension}`;this.titleEl.setText(k(l=>l.promptWithPreviewModal.previewModal.title,{fullFileName:r}));let i=`__temp${String(Date.now())}__${r}`;this.tempFile=await this.app.vault.createBinary(i,this.options.ctx.attachmentFileContent);let a=this.contentEl.createDiv("preview-container");this.embedComponent=n({app:this.app,containerEl:a},this.tempFile),this.embedComponent.load(),this.embedComponent.loadFile()}},eu=class extends vn.Modal{constructor(n,r){super(n.ctx.app);this.options=n;this.resolve=r;he(this.containerEl,W.PromptModal),this.value=n.ctx.originalAttachmentFileName}static{s(this,"PromptWithPreviewModal")}isOkClicked=!1;value;onClose(){super.onClose(),this.resolve(this.isOkClicked?this.value:null)}onOpen(){super.onOpen();let n=createFragment(f=>{f.appendText(k(m=>m.promptWithPreviewModal.title)),f.createEl("br"),f.appendText(this.options.ctx.fullTemplate.slice(0,this.options.ctx.tokenStartOffset)),f.createSpan({cls:"highlighted-token",text:this.options.ctx.tokenWithFormat}),f.appendText(this.options.ctx.fullTemplate.slice(this.options.ctx.tokenEndOffset))});this.titleEl.setText(n);let r=new vn.TextComponent(this.contentEl),i=r.inputEl,a=s(async()=>{let f=await this.options.valueValidator(i.value);i.setCustomValidity(f??""),i.reportValidity()},"validate");r.setValue(this.value),r.setPlaceholder(k(f=>f.promptWithPreviewModal.title)),i.addClass(W.TextBox),r.onChange(f=>{this.value=f}),i.addEventListener("keydown",f=>{f.key==="Enter"?this.handleOk(f,r):f.key==="Escape"&&this.close()}),i.addEventListener("input",st(a)),i.addEventListener("focus",st(a)),Ae(a);let l=new vn.ButtonComponent(this.contentEl);l.setButtonText(k(f=>f.obsidianDevUtils.buttons.ok)),l.setCta(),l.onClick(f=>{this.handleOk(f,r)}),l.setClass(W.OkButton);let c=new vn.ButtonComponent(this.contentEl);c.setButtonText(k(f=>f.obsidianDevUtils.buttons.cancel)),c.onClick(this.close.bind(this)),c.setClass(W.CancelButton);let d=new vn.ButtonComponent(this.contentEl);d.setButtonText(k(f=>f.buttons.previewAttachmentFile)),d.onClick(this.preview.bind(this));let h=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];(!this.options.ctx.attachmentFileContent||!h)&&d.setDisabled(!0)}handleOk(n,r){n.preventDefault(),r.inputEl.checkValidity()&&(this.isOkClicked=!0,this.close())}preview(){new Qc(this.options).open()}};function dm(t){return new Promise(e=>{new eu(t,e).open()})}s(dm,"promptWithPreview");var LS=sh(mm.default),DS=["1","2","3","4","5","6","any"],BS=/^\.{3,}$/,$S=/\.+$/,_i=/\${(?<Token>.+?)(?::(?<Format>.*?))?}/g;function tu(t){let e=new Map;try{return new Function("registerCustomToken",t)(n),e}catch(r){return fn(new Error("Error registering custom tokens",{cause:r})),null}function n(r,i){e.set(r,i)}s(n,"registerCustomToken")}s(tu,"parseCustomTokens");function hm(t,e){let n=",default=now",r=",default=empty",i="empty";return e.endsWith(n)?(e=Gt(e,n),i="now"):e.endsWith(r)&&(e=Gt(e,r),i="empty"),t?(0,Oi.default)(t).format(e):i==="now"?(0,Oi.default)().format(e):""}s(hm,"formatAttachmentFileDate");function VS(t){return(0,Oi.default)().format(t)}s(VS,"formatDate");function pm(t,e,n,r){let i=Le(t,e);return i?(0,Oi.default)(r(i)).format(n):""}s(pm,"formatFileDate");function US(t,e){let{base:i,parameter:a}=Ea(e);switch(i){case"":case"B":return t.toFixed(a??0);case"KB":return(t/1024).toFixed(a??0);case"MB":return(t/1048576).toFixed(a??0);default:throw new Error(`Invalid file size format: ${e}`)}}s(US,"formatFileSize");function WS(t,e){let n=t.split("/"),r=n.length-1,i=e.indexOf(",");i===-1&&(i=e.length);let l=e.slice(0,i),c=e.slice(i+1),d=Ea(l);switch(d.base){case"indexFromEnd":r=n.length-1-(d.parameter??0);break;case"indexFromStart":r=d.parameter??0;break;default:if(c)throw new Error(`Invalid format: ${l}`);return tr(n[r]??"",l)}let h=n[r]??"";return tr(h,c)}s(WS,"formatFolderName");function tr(t,e){let{base:n,parameter:r}=Ea(e);switch(n){case"":return t;case"left":return t.slice(0,r??1);case"lower":return t.toLowerCase();case"right":return t.slice(-(r??1));case"slug":return GS(t);case"upper":return t.toUpperCase();default:throw new Error(`Invalid file name format: ${e}`)}}s(tr,"formatString");function zS(t){if(t==="uuid")return crypto.randomUUID();let{base:e,parameter:n}=Ea(t),r;switch(e){case"D":r="0123456789";break;case"DL":r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;case"L":r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;default:throw new Error(`Invalid random value format: ${t}`)}let i="";for(let a=0;a<(n??1);a++)i+=HS(r);return i}s(zS,"generateRandomValue");function YS(t,e,n){let r=Le(t,e);if(!r)return"";let i=t.metadataCache.getFileCache(r);if(!i?.frontmatter)return"";let a=Fn(i.frontmatter,n)??"";return String(a)}s(YS,"getFrontmatterValue");var Je=class t{static{s(this,"Substitutions")}static evaluators=new Map;static{this.registerCustomTokens("")}noteFolderPath;actionContext;app;attachmentFileContent;attachmentFileStat;cursorLine;generatedAttachmentFileName;generatedAttachmentFilePath;headingsInfo=null;noteFileName;noteFilePath;noteFolderName;oldNoteFileName;oldNoteFilePath;oldNoteFolderName;oldNoteFolderPath;originalAttachmentFileExtension;originalAttachmentFileName;plugin;constructor(e){this.plugin=e.plugin,this.app=e.plugin.app,this.actionContext=e.actionContext,this.noteFilePath=e.noteFilePath,this.noteFileName=Fe(this.noteFilePath,ze(this.noteFilePath)),this.noteFolderName=Fe(Ee(this.noteFilePath)),this.noteFolderPath=Ee(this.noteFilePath),this.oldNoteFilePath=e.oldNoteFilePath??"",this.oldNoteFileName=Fe(this.oldNoteFilePath,ze(this.oldNoteFilePath)),this.oldNoteFolderName=Fe(Ee(this.oldNoteFilePath)),this.oldNoteFolderPath=Ee(this.oldNoteFilePath);let n=e.originalAttachmentFileName??"",r=ze(n);if(this.originalAttachmentFileName=Fe(n,r),this.originalAttachmentFileExtension=r.slice(1),this.attachmentFileContent=e.attachmentFileContent,this.attachmentFileStat=e.attachmentFileStat,this.generatedAttachmentFileName=e.generatedAttachmentFileName??"",this.generatedAttachmentFilePath=e.generatedAttachmentFilePath??"",e.cursorLine===void 0){if(this.cursorLine=null,this.app.workspace.activeEditor?.file?.path===this.noteFilePath){let i=this.app.workspace.activeEditor.editor?.getCursor();i&&(this.cursorLine=i.line)}}else this.cursorLine=e.cursorLine}static isRegisteredToken(e){return t.evaluators.has(e.toLowerCase())}static registerCustomTokens(e){this.evaluators.clear(),this.registerToken("date",r=>VS(r.format)),this.registerToken("noteFileCreationDate",r=>pm(r.app,r.noteFilePath,r.format,i=>i.stat.ctime)),this.registerToken("noteFileModificationDate",r=>pm(r.app,r.noteFilePath,r.format,i=>i.stat.mtime)),this.registerToken("originalAttachmentFileCreationDate",r=>hm(r.attachmentFileStat?.ctime,r.format)),this.registerToken("originalAttachmentFileModificationDate",r=>hm(r.attachmentFileStat?.mtime,r.format)),this.registerToken("noteFileName",r=>tr(r.noteFileName,r.format)),this.registerToken("noteFilePath",r=>r.noteFilePath),this.registerToken("noteFolderName",r=>WS(r.noteFolderPath,r.format)),this.registerToken("noteFolderPath",r=>r.noteFolderPath),this.registerToken("frontmatter",r=>YS(r.app,r.noteFilePath,r.format)),this.registerToken("originalAttachmentFileExtension",r=>r.originalAttachmentFileExtension),this.registerToken("originalAttachmentFileName",r=>tr(r.originalAttachmentFileName,r.format)),this.registerToken("prompt",(r,i)=>i.prompt(r)),this.registerToken("random",r=>zS(r.format)),this.registerToken("attachmentFileSize",r=>US(r.attachmentFileContent?.byteLength??0,r.format)),this.registerToken("generatedAttachmentFileName",r=>tr(r.generatedAttachmentFileName,r.format)),this.registerToken("generatedAttachmentFilePath",r=>r.generatedAttachmentFilePath),this.registerToken("heading",async(r,i)=>i.getHeading(r.format));let n=tu(e)??new Map;for(let[r,i]of n.entries())this.registerToken(r,i)}static registerToken(e,n){this.evaluators.set(e.toLowerCase(),n)}async fillTemplate(e){return await rh(e,_i,async(n,r,i,a)=>{n.throwIfAborted();let l=t.evaluators.get(i.toLowerCase());if(!l)throw new Error(`Unknown token '${i}'.`);let c={abortSignal:n,actionContext:this.actionContext,app:this.app,attachmentFileContent:this.attachmentFileContent,attachmentFileStat:this.attachmentFileStat,fillTemplate:this.fillTemplate.bind(this),format:a,fullTemplate:e,generatedAttachmentFileName:this.generatedAttachmentFileName,generatedAttachmentFilePath:this.generatedAttachmentFilePath,noteFileName:this.noteFileName,noteFilePath:this.noteFilePath,noteFolderName:this.noteFolderName,noteFolderPath:this.noteFolderPath,obsidian:NS,oldNoteFileName:this.oldNoteFileName,oldNoteFilePath:this.oldNoteFilePath,oldNoteFolderName:this.oldNoteFolderName,oldNoteFolderPath:this.oldNoteFolderPath,originalAttachmentFileExtension:this.originalAttachmentFileExtension,originalAttachmentFileName:this.originalAttachmentFileName,token:i,tokenEndOffset:r.offset+r.substring.length,tokenStartOffset:r.offset,tokenWithFormat:r.substring};try{let d=await l(c,this);if(n.throwIfAborted(),typeof d!="string")throw console.error("Token returned non-string value.",{ctx:c,result:d}),new Error("Token returned non-string value");return d}catch(d){throw new Error(`Error formatting token \${${i}}`,{cause:d})}})}async prompt(e){if(tr("",e.format),e.actionContext==="ValidateTokens"||e.originalAttachmentFileName===Jt)return Jt;let n=await dm({ctx:e,valueValidator:s(r=>nr({areTokensAllowed:!1,path:r,plugin:this.plugin}),"valueValidator")});if(n===null)throw new Error("Prompt cancelled");return tr(n,e.format)}async getHeading(e){if(e||="any",!DS.includes(e))throw new Error(`Invalid heading level: ${e}`);let r=(await this.initHeadings()).get(e)??"";return this.plugin.replaceSpecialCharacters(r)}async initHeadings(){if(this.headingsInfo)return this.headingsInfo;if(this.headingsInfo=new Map,!this.cursorLine)return this.headingsInfo;let e=await Dr(this.app,this.noteFilePath);if(!e?.headings)return this.headingsInfo;let n=new Map;for(let r of e.headings){if(r.position.start.line>this.cursorLine)continue;let i=String(r.level),a=n.get(i)??-1;r.position.start.line>a&&(this.headingsInfo.set(i,r.heading),n.set(i,r.position.start.line),r.position.start.line>(n.get("any")??-1)&&(n.set("any",r.position.start.line),this.headingsInfo.set("any",r.heading)))}return this.headingsInfo}};function nu(t){return gm(t).some(e=>e.token==="prompt")}s(nu,"hasPromptToken");async function Ri(t){switch(t.tokenValidationMode){case"Error":{if(t.fileName.match(_i))return"Tokens are not allowed in file name";break}case"Skip":break;case"Validate":{let n=await ym(t.plugin,t.fileName);if(n)return n;break}default:throw new Error(`Invalid token validation mode: ${t.tokenValidationMode}`)}let e=jS(t.fileName);return e==="."||e===".."?t.areSingleDotsAllowed?"":"Single dots are not allowed in file name":e?Ca().test(e)?`File name "${t.fileName}" contains invalid symbols`:BS.test(e)?`File name "${t.fileName}" contains more than two dots`:$S.test(e)?`File name "${t.fileName}" contains trailing dots`:"":t.isEmptyAllowed?"":"File name is empty"}s(Ri,"validateFileName");async function nr(t){if(t.areTokensAllowed){let r=await ym(t.plugin,t.path);if(r)return`Unknown token: ${r}`}else if(t.path.match(_i))return"Tokens are not allowed in path";let e=br(t.path,"/");if(e=Gt(e,"/"),e==="")return"";let n=e.split("/");for(let r of n){let i=await Ri({areSingleDotsAllowed:!0,fileName:r,isEmptyAllowed:!0,plugin:t.plugin,tokenValidationMode:"Skip"});if(i)return i}return""}s(nr,"validatePath");function gm(t){let e=t.matchAll(_i);return Array.from(e).map(n=>({format:n.groups?.Format??"",token:n.groups?.Token??""}))}s(gm,"extractTokens");function HS(t){return t[Math.floor(Math.random()*t.length)]??""}s(HS,"generateRandomSymbol");function Ea(t){let e=/^(?<Base>\w*?)(?<Parameter>\d*)$/.exec(t);if(!e)throw new Error(`Invalid format: ${t}`);let n=e.groups?.Base??"",r=e.groups?.Parameter,i=r?parseInt(r,10):void 0;return{base:n,parameter:i}}s(Ea,"parseFormatWithParameter");function jS(t){return Te(t,_i,(e,n,r)=>`_${n}_${r}_`)}s(jS,"removeTokens");function GS(t){return LS(t,{lower:!0})}s(GS,"slugifyEx");async function ym(t,e){let n=new Je({actionContext:"ValidateTokens",noteFilePath:Jt,originalAttachmentFileName:Jt,plugin:t}),r=gm(e);for(let i of r){if(!Je.isRegisteredToken(i.token))return`Unknown token '${i.token}'.`;let a=i.format.split(",");for(let l of a)try{await n.fillTemplate(`\${${i.token}:${l}}`)}catch{return`Token '${i.token}' is used with unknown format '${l}'.`}}return null}s(ym,"validateTokens");async function Ni(t,e,n,r,i,a,l){return await JS(t,new Je({actionContext:e,attachmentFileContent:a,attachmentFileStat:l,noteFilePath:n,oldNoteFilePath:i,originalAttachmentFileName:r,plugin:t}))}s(Ni,"getAttachmentFolderFullPathForPath");async function zr(t,e){let n=await wm(t,t.settings.generatedAttachmentFileName,e,!0),r=await nr({areTokensAllowed:!1,path:n,plugin:t});if(!r){let a=n.split("/").at(-1)??"";r=await Ri({areSingleDotsAllowed:!1,fileName:a,isEmptyAllowed:!1,plugin:t,tokenValidationMode:"Error"})}if(r){new Ta.Notice(createFragment(a=>{a.appendText(k(l=>l.notice.generatedAttachmentFileNameIsInvalid.part1,{path:n,validationMessage:r})),a.appendText(" "),q(a,k(l=>l.pluginSettingsTab.generatedAttachmentFileName.name)),a.appendText(" "),a.appendText(k(l=>l.notice.generatedAttachmentFileNameIsInvalid.part2))}));let i=`Generated attachment file name "${n}" is invalid.
${r}
Check your 'Generated attachment file name' setting.`;throw console.error(i,e),new Error(i)}return n}s(zr,"getGeneratedAttachmentFileBaseName");function KS(t,e){let n=e.trimEnd();return n==="."||n===".."||(n=n.replace(/[\s.]+$/,""),n=t.replaceSpecialCharacters(n)),n}s(KS,"cleanFilePathPart");async function JS(t,e){return await wm(t,t.settings.attachmentFolderPath,e,!1)}s(JS,"getAttachmentFolderPath");async function wm(t,e,n,r){let i=await n.fillTemplate(e);i=i.split("/").map(c=>KS(t,c)).join("/");let l=await nr({areTokensAllowed:!1,path:i,plugin:t});if(l)throw new Error(`Resolved path ${i} is invalid: ${l}`);return r||((i.startsWith("./")||i.startsWith("../"))&&(i=Pe(n.noteFolderPath,i)),i=(0,Ta.normalizePath)(i)),i}s(wm,"resolvePathTemplate");var Yr=require("obsidian");var iu=`registerCustomToken('foo', (ctx) => {
  return ctx.noteFileName + ctx.app.appId + ctx.format + ctx.obsidian.apiVersion;
});

registerCustomToken('bar', async (ctx) => {
  await sleep(100);
  return ctx.noteFileName + ctx.app.appId + ctx.format + ctx.obsidian.apiVersion;
});

registerCustomToken('baz', async (ctx) => {
  return ctx.noteFileName + await ctx.fillTemplate('corge \${grault} garply \${waldo:fred} plugh');
});
`,bm=/(?:)/,Fa=/$./;var Pa=class{static{s(this,"PluginSettings")}attachmentFolderPath="./assets/${noteFileName}";attachmentRenameMode="Only pasted images";collectAttachmentUsedByMultipleNotesMode="Skip";defaultImageSize="";defaultImageSizeDimension="width";duplicateNameSeparator=" ";emptyAttachmentFolderBehavior=Tt.DeleteWithEmptyParents;generatedAttachmentFileName="file-${date:YYYYMMDDHHmmssSSS}";jpegQuality=.8;markdownUrlFormat="";shouldConvertPastedImagesToJpeg=!1;shouldDeleteOrphanAttachments=!1;shouldRenameAttachmentFiles=!1;shouldRenameAttachmentFolder=!0;shouldRenameCollectedAttachments=!1;specialCharacters="#^[]|*\\<>:?/";specialCharactersReplacement="-";timeoutInSeconds=5;treatAsAttachmentExtensions=[".excalidraw.md"];version="";imageFormat="html";htmlImageAlign="";htmlImageWidth="auto";htmlImageStyle="";get customTokensStr(){return this._customTokensStr}set customTokensStr(e){this._customTokensStr=e}get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=ru(this._excludePaths,Fa)}get excludePathsFromAttachmentCollecting(){return this._excludePathsFromAttachmentCollecting}set excludePathsFromAttachmentCollecting(e){this._excludePathsFromAttachmentCollecting=e.filter(Boolean),this._excludePathsFromAttachmentCollectingRegExp=ru(this._excludePathsFromAttachmentCollecting,Fa)}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=ru(this._includePaths,bm)}get specialCharactersRegExp(){return new RegExp(`[${Cs(this.specialCharacters)}]+`,"g")}_customTokensStr="";_excludePaths=[];_excludePathsFromAttachmentCollecting=[];_excludePathsFromAttachmentCollectingRegExp=Fa;_excludePathsRegExp=Fa;_includePaths=[];_includePathsRegExp=bm;getTimeoutInMilliseconds(){return this.timeoutInSeconds===0?oi:this.timeoutInSeconds*1e3}isExcludedFromAttachmentCollecting(e){return this._excludePathsFromAttachmentCollectingRegExp.test(e)}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}};function ru(t,e){if(t.length===0)return e;let n=t.map(r=>r.startsWith("/")&&r.endsWith("/")?r.slice(1,-1):`^${Cs(r)}`).map(r=>`(${r})`).join("|");return new RegExp(n)}s(ru,"makeRegExp");var su=class extends Yr.Modal{constructor(n,r,i,a){super(n);this.attachmentPath=r;this.backlinks=i;this.resolve=a}static{s(this,"CollectAttachmentUsedByMultipleNotesModal")}isSelected=!1;onClose(){this.isSelected||this.select("Cancel",!1)}onOpen(){super.onOpen(),new Yr.Setting(this.contentEl).setName(k(r=>r.collectAttachmentUsedByMultipleNotesModal.heading)).setHeading(),this.contentEl.appendChild(createFragment(r=>{r.appendText(k(i=>i.collectAttachmentUsedByMultipleNotesModal.content.part1)),r.appendText(" "),q(r,this.attachmentPath),r.appendText(" "),r.appendText(k(i=>i.collectAttachmentUsedByMultipleNotesModal.content.part2)),r.createEl("ul",{},i=>{for(let a of this.backlinks)i.createEl("li",{},l=>[l.appendChild(createFragment(c=>{q(c,a)}))])})}));let n=!1;new Yr.Setting(this.contentEl).setName(k(r=>r.collectAttachmentUsedByMultipleNotesModal.shouldUseSameActionForOtherProblematicAttachmentsToggle)).addToggle(r=>{r.setValue(!1),r.onChange(i=>{n=i})}),new Yr.Setting(this.contentEl).addButton(r=>{r.setButtonText(k(i=>i.buttons.skip)),r.onClick(()=>{this.select("Skip",n)})}).addButton(r=>{r.setButtonText(k(i=>i.buttons.move)),r.onClick(()=>{this.select("Move",n)})}).addButton(r=>{r.setButtonText(k(i=>i.buttons.copy)),r.onClick(()=>{this.select("Copy",n)})}).addButton(r=>{r.setButtonText(k(i=>i.obsidianDevUtils.buttons.cancel)),r.onClick(()=>{this.select("Cancel",n)})})}select(n,r){this.isSelected=!0,this.resolve({mode:n,shouldUseSameActionForOtherProblematicAttachments:r}),this.close()}};function Am(t,e,n){return new Promise(r=>{new su(t,e,n,r).open()})}s(Am,"selectMode");async function xm(t,e,n,r){r.throwIfAborted();let i=t.app;if(n.isAborted)return;let a=new Nn.Notice(k(f=>f.notice.collectingAttachments,{noteFilePath:e.path}),0),l=gn(i,e),c=new Set,d=await Dr(i,e);if(r.throwIfAborted(),n.isAborted||!d)return;let h=l?await XS(i,e):An(d);r.throwIfAborted();for(let f of h){if(n.isAborted)return;let m=await ZS(t,f,e.path,e.path,c);if(r.throwIfAborted(),!m)continue;if(t.settings.isExcludedFromAttachmentCollecting(m.oldAttachmentPath)){console.warn(`Skipping collecting attachment ${m.oldAttachmentPath} as it is excluded from attachment collecting.`);continue}let y=await xn(i,m.oldAttachmentPath,{timeoutInMilliseconds:t.settings.getTimeoutInMilliseconds()});if(r.throwIfAborted(),y.keys().length>1){let S=y.keys().sort((C,T)=>C.localeCompare(T)),I=S.map(C=>`- ${C}`).join(`
`);async function E(C){if(r.throwIfAborted(),!m)return!1;switch(C){case"Cancel":return console.error(`Cancelling collecting attachments, as attachment ${m.oldAttachmentPath} is referenced by multiple notes.
${I}`),new Nn.Notice(k(T=>T.notice.collectingAttachmentsCancelled)),n.isAborted=!0,!1;case"Copy":m.newAttachmentPath=await bf(i,m.oldAttachmentPath,m.newAttachmentPath);break;case"Move":await w(),r.throwIfAborted();break;case"Prompt":{let{mode:T,shouldUseSameActionForOtherProblematicAttachments:O}=await Am(i,m.oldAttachmentPath,S);return O&&(n.collectAttachmentUsedByMultipleNotesMode=T),E(T)}case"Skip":return console.warn(`Skipping collecting attachment ${m.oldAttachmentPath} as it is referenced by multiple notes.
${I}`),!1;default:throw new Error(`Unknown collect attachment used by multiple notes mode: ${t.settings.collectAttachmentUsedByMultipleNotesMode}`)}return!0}if(s(E,"applyCollectAttachmentUsedByMultipleNotesMode"),!await E(n.collectAttachmentUsedByMultipleNotesMode??t.settings.collectAttachmentUsedByMultipleNotesMode)){r.throwIfAborted();continue}}else r.throwIfAborted(),await w(),r.throwIfAborted();async function w(){r.throwIfAborted(),m&&(m.newAttachmentPath=await pa(i,m.oldAttachmentPath,m.newAttachmentPath))}s(w,"registerMoveAttachment")}a.hide()}s(xm,"collectAttachments");function vm(t,e){let n=t.app.workspace.getActiveFile();return rr(t,n)?(e||Rn(t.app,r=>Ia(t,n?.parent??Hn(new Error("Parent folder not found")),r),t.abortSignal,ou(t)),!0):!1}s(vm,"collectAttachmentsCurrentFolder");function km(t,e){let n=t.app.workspace.getActiveFile();if(!n||!rr(t,n))return!1;if(!e){if(t.settings.isPathIgnored(n.path))return new Nn.Notice(k(r=>r.notice.notePathIsIgnored)),console.warn(`Cannot collect attachments in the note as note path is ignored: ${n.path}.`),!0;Rn(t.app,r=>xm(t,n,{},r),t.abortSignal,ou(t))}return!0}s(km,"collectAttachmentsCurrentNote");function Sm(t){Rn(t.app,e=>Ia(t,t.app.vault.getRoot(),e),t.abortSignal,ou(t))}s(Sm,"collectAttachmentsEntireVault");async function Ia(t,e,n){if(n.throwIfAborted(),!await Sa({app:t.app,cancelButtonText:k(c=>c.obsidianDevUtils.buttons.cancel),message:createFragment(c=>{c.appendText(k(d=>d.attachmentCollector.confirm.part1)),c.appendText(" "),q(c,e.path),c.appendText(" "),c.appendText(k(d=>d.attachmentCollector.confirm.part2)),c.createEl("br"),c.appendText(k(d=>d.attachmentCollector.confirm.part3))}),okButtonText:k(c=>c.obsidianDevUtils.buttons.ok),title:createFragment(c=>{(0,Nn.setIcon)(c.createSpan(),"lucide-alert-triangle"),c.appendText(" "),c.appendText(k(d=>d.menuItems.collectAttachmentsInFolder))})})){n.throwIfAborted();return}t.consoleDebug(`Collect attachments in folder: ${e.path}`);let r=[];Nn.Vault.recurseChildren(e,c=>{rr(t,c)&&r.push(c)}),r.sort((c,d)=>c.path.localeCompare(d.path));let i={},a=new AbortController,l=zn(a.signal,t.abortSignal);await am({abortSignal:l,buildNoticeMessage:s((c,d)=>k(h=>h.attachmentCollector.progressBar.message,{iterationStr:d,noteFilePath:c.path}),"buildNoticeMessage"),items:r,processItem:s(async c=>{if(l.throwIfAborted(),t.settings.isPathIgnored(c.path)){console.warn(`Cannot collect attachments in the note as note path is ignored: ${c.path}.`);return}await xm(t,c,i,l),l.throwIfAborted(),i.isAborted&&a.abort()},"processItem"),progressBarTitle:`${t.manifest.name}: ${k(c=>c.attachmentCollector.progressBar.title)}`,shouldContinueOnError:!0,shouldShowProgressBar:!0})}s(Ia,"collectAttachmentsInFolder");function rr(t,e){if(!e||!mi(t.app,e))return!1;let n=ve(t.app,e);return t.settings.treatAsAttachmentExtensions.every(r=>!n.endsWith(r))}s(rr,"isNoteEx");async function XS(t,e){return(await t.vault.readJson(e.path)).nodes.filter(i=>i.type==="file").map(i=>i.file).map(i=>({link:i,original:i,position:{end:{col:0,line:0,loc:0,offset:0},start:{col:0,line:0,loc:0,offset:0}}}))}s(XS,"getCanvasLinks");function ou(t){return t.settings.collectAttachmentUsedByMultipleNotesMode==="Prompt"||nu(t.settings.attachmentFolderPath)||nu(t.settings.generatedAttachmentFileName)?oi:t.settings.getTimeoutInMilliseconds()}s(ou,"getTimeoutInMilliseconds");async function ZS(t,e,n,r,i){let a=t.app,l=Vr(a,e,r,!0);if(!l||rr(t,l)||i.has(l.path))return null;if(i.add(l.path),l.deleted)return console.warn(`Skipping collecting attachment ${e.link} as it could not be resolved.`),null;let c=l.path,d=l.name,h,f=await t.app.vault.readBinary(l);t.settings.shouldRenameCollectedAttachments?h=St(await zr(t,new Je({actionContext:"CollectAttachments",attachmentFileContent:f,attachmentFileStat:l.stat,cursorLine:$t(e)?e.position.start.line:0,noteFilePath:n,originalAttachmentFileName:l.name,plugin:t})),l.extension):h=d;let m=await Ni(t,"CollectAttachments",n,h,void 0,f,l.stat),y=Pe(m,h);return c===y?(console.warn(`Skipping collecting attachment ${l.path} as it is already in the destination folder.`),null):{newAttachmentPath:y,oldAttachmentPath:c}}s(ZS,"prepareAttachmentToMove");var Cm={attachmentCollector:{confirm:{part1:"Do you want to collect attachments for all notes in folder:",part2:"and all its subfolders?",part3:"This operation cannot be undone."},progressBar:{message:"Collecting attachments {{iterationStr}} - '{{noteFilePath}}'.",title:"Collecting attachments..."}},buttons:{copy:"Copy",move:"Move",previewAttachmentFile:"Preview attachment file",skip:"Skip"},collectAttachmentUsedByMultipleNotesModal:{content:{part1:"Attachment",part2:"is referenced by multiple notes."},heading:"Collecting attachment used by multiple notes",shouldUseSameActionForOtherProblematicAttachmentsToggle:"Should use the same action for other problematic attachments"},commands:{collectAttachmentsCurrentFolder:"Collect attachments in current folder",collectAttachmentsCurrentNote:"Collect attachments in current note",collectAttachmentsEntireVault:"Collect attachments in entire vault"},menuItems:{collectAttachmentsInFolder:"Collect attachments in folder"},notice:{collectingAttachments:"Collecting attachments for '{{noteFilePath}}'",collectingAttachmentsCancelled:"Collecting attachments cancelled. See console for details.",generatedAttachmentFileNameIsInvalid:{part1:`Generated attachment file name '{{path}}' is invalid.
{{validationMessage}}
Check your`,part2:"setting."},notePathIsIgnored:"Note path is ignored"},obsidianDevUtils:{buttons:{cancel:"Cancel",ok:"OK"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."}},pluginSettings:{attachmentRenameMode:{all:{description:"all files are renamed.",displayText:"All"},none:{description:"their names are preserved.",displayText:"None"},onlyPastedImages:{description:"only pasted images are renamed. Applies only when the PNG image content is pasted from the clipboard directly. Typically, for pasting screenshots.",displayText:"Only pasted images"}},collectAttachmentUsedByMultipleNotesMode:{cancel:{description:"cancel the attachment collecting.",displayText:"Cancel"},copy:{description:"copy the attachment to the new location.",displayText:"Copy"},move:{description:"move the attachment to the new location.",displayText:"Move"},prompt:{description:"prompt the user to choose the action.",displayText:"Prompt"},skip:{description:"skip the attachment and proceed to the next one.",displayText:"Skip"}},defaultImageSizeDimension:{height:"Height",width:"Width"},emptyAttachmentFolderBehavior:{delete:{description:"will delete the empty attachment folder.",displayText:"Delete"},deleteWithEmptyParents:{description:"will delete the empty attachment folder and its empty parent folders.",displayText:"Delete with empty parents"},keep:{description:"will keep the empty attachment folder.",displayText:"Keep"}}},pluginSettingsManager:{customToken:{codeComment:`// Custom tokens were commented out as they have to be updated to the new format introduced in plugin version 9.0.0.
// Refer to the documentation (https://github.com/cnzf1/obsidian-paste-image?tab=readme-ov-file#custom-tokens) for more information.`,deprecated:{part1:"In plugin version 9.0.0, the format of custom token registration changed. Please update your tokens accordingly. Refer to the",part2:"documentation",part3:"for more information"}},legacyRenameAttachmentsToLowerCase:{part1:"In plugin version 9.0.0, the",part2:"setting is deprecated. Use",part3:"format instead. See",part4:"documentation",part5:"for more information"},markdownUrlFormat:{deprecated:{part1:"You have potentially incorrect value set for the",part2:"format. Please refer to the",part3:"documentation",part4:"for more information",part5:"This message will not be shown again."}},specialCharacters:{part1:"In plugin version 9.16.0, the",part2:"default setting value was changed. Your setting value was updated to the new default value."},validation:{defaultImageSizeMustBePercentageOrPixels:"Default image size must be in pixels or percentage",invalidCustomTokensCode:"Invalid custom tokens code",invalidRegularExpression:"Invalid regular expression {{regExp}}",specialCharactersMustNotContainSlash:"Special characters must not contain /",specialCharactersReplacementMustNotContainInvalidFileNamePathCharacters:"Special character replacement must not contain invalid file name path characters."},version:{part1:"Your settings file ",part2:"has version",part3:"which is newer than the current plugin version",part4:"The plugin might not work as expected. Please update the plugin to the latest version or ensure that the settings are correct."}},pluginSettingsTab:{attachmentRenameMode:{description:{part1:"When attaching files:"},name:"Attachment rename mode"},collectAttachmentUsedByMultipleNotesMode:{description:{part1:"When the collected attachment is used by multiple notes:"},name:"Collect attachment used by multiple notes mode"},customTokens:{description:{part1:"Custom tokens to be used.",part2:"See",part3:"documentation",part4:"for more information.",part5:"\u26A0\uFE0F Custom tokens can be an arbitrary JavaScript code. If poorly written, it can cause the data loss. Use it at your own risk."},name:"Custom tokens"},defaultImageSize:{description:{part1:"The default image size.",part2:"Can be specified in pixels",part3:"or percentage of the full image size",part4:"Leave blank to use the original image size."},name:"Default image size"},duplicateNameSeparator:{description:{part1:"When you are pasting/dragging a file with the same name as an existing file, this separator will be added to the file name.",part2:"E.g., when you are dragging file",part3:", it will be renamed to ",part4:", etc, getting the first name available."},name:"Duplicate name separator"},emptyAttachmentFolderBehavior:{description:{part1:"When the attachment folder becomes empty:"},name:"Empty attachment folder behavior"},excludePaths:{description:{part1:"Exclude notes from the following paths.",part2:"Insert each path on a new line.",part3:"You can use path string or",part4:"If the setting is empty, no notes are excluded."},name:"Exclude paths"},excludePathsFromAttachmentCollecting:{description:{part1:"Exclude attachments from the following paths when",part2:"Collect attachments",part3:"command is executed.",part4:"Insert each path on a new line.",part5:"You can use path string or",part6:"If the setting is empty, no paths are excluded from attachment collecting."},name:"Exclude paths from attachment collecting"},generatedAttachmentFileName:{description:{part1:"See available",part2:"tokens"},name:"Generated attachment file name"},includePaths:{description:{part1:"Include notes from the following paths.",part2:"Insert each path on a new line.",part3:"You can use path string or",part4:"If the setting is empty, all notes are included."},name:"Include paths"},jpegQuality:{description:"The smaller the quality, the greater the compression ratio.",name:"JPEG Quality"},imageFormat:{name:"Image Format",description:"The format for typing image code."},htmlImageFormat:{align:"Align direction",width:"Width",style:"Style"},locationForNewAttachments:{description:{part1:"Start with",part2:"to use relative path.",part3:"See available",part4:"tokens",part5:"Dot-folders like",part6:"are not recommended, because Obsidian does not track them. You might need to use",part7:"Plugin to manage them."},name:"Location for new attachments"},markdownUrlFormat:{description:{part1:"Format for the URL that will be inserted into Markdown.",part2:"See available",part3:"tokens",part4:"Leave blank to use the default format."},name:"Markdown URL format"},renameAttachmentsToLowerCase:"Rename attachments to lower case",resetToSampleCustomTokens:{message:"Are you sure you want to reset the custom tokens to the sample custom tokens? Your changes will be lost.",title:"Reset to sample custom tokens"},shouldConvertPastedImagesToJpeg:{description:"Whether to convert pasted images to JPEG. Applies only when the PNG image content is pasted from the clipboard directly. Typically, for pasting screenshots.",name:"Should convert pasted images to JPEG"},shouldDeleteOrphanAttachments:{description:"If enabled, when the note is deleted, its orphan attachments are deleted as well.",name:"Should delete orphan attachments"},shouldRenameAttachmentFiles:{description:"Whether to rename attachment files when a note is renamed or moved.",name:"Should rename attachment files"},shouldRenameAttachmentFolders:{description:"Whether to rename attachment folders when a note is renamed or moved.",name:"Should rename attachment folders"},shouldRenameCollectedAttachments:{description:{part1:"If enabled, attachments processed via",part2:"Collect attachments",part3:"commands will be renamed according to the",part4:"setting."},name:"Should rename collected attachments"},specialCharacters:{description:{part1:"Special characters in attachment folder and file name to be replaced or removed.",part2:"Leave blank to preserve special characters."},name:"Special characters"},specialCharactersReplacement:{description:{part1:"Replacement string for special characters in attachment folder and file name.",part2:"Leave blank to remove special characters."},name:"Special characters replacement"},timeoutInSeconds:{description:{part1:"The timeout in seconds for all operations.",part2:"If",part3:"is set, the operations execution timeout is disabled."},name:"Timeout in seconds"},treatAsAttachmentExtensions:{description:{part1:"Treat files with these extensions as attachments.",part2:"By default",part3:"and",part4:"linked files are not treated as attachments and are not moved with the note.",part5:"You can add custom extensions, e.g.",part6:", to override this behavior."},name:"Treat as attachment extensions"}},promptWithPreviewModal:{previewModal:{title:"Preview attachment file '{{fullFileName}}'"},title:"Provide a value for the prompt token"},regularExpression:"/regular expression/"};var Em=Cm;var Tm={attachmentCollector:{confirm:{part1:"\u662F\u5426\u8981\u4E3A\u6587\u4EF6\u5939\u4E2D\u7684\u6240\u6709\u7B14\u8BB0\u6536\u96C6\u9644\u4EF6\uFF1A",part2:"\u4EE5\u53CA\u5176\u6240\u6709\u5B50\u6587\u4EF6\u5939\uFF1F",part3:"\u6B64\u64CD\u4F5C\u65E0\u6CD5\u64A4\u9500\u3002"},progressBar:{message:"\u6B63\u5728\u6536\u96C6\u9644\u4EF6 {{iterationStr}} - '{{noteFilePath}}'\u3002",title:"\u6B63\u5728\u6536\u96C6\u9644\u4EF6..."}},buttons:{copy:"\u590D\u5236",move:"\u79FB\u52A8",previewAttachmentFile:"\u9884\u89C8\u9644\u4EF6\u6587\u4EF6",skip:"\u8DF3\u8FC7"},collectAttachmentUsedByMultipleNotesModal:{content:{part1:"\u9644\u4EF6",part2:"\u88AB\u591A\u4E2A\u7B14\u8BB0\u5F15\u7528\u3002"},heading:"\u6B63\u5728\u6536\u96C6\u88AB\u591A\u4E2A\u7B14\u8BB0\u4F7F\u7528\u7684\u9644\u4EF6",shouldUseSameActionForOtherProblematicAttachmentsToggle:"\u662F\u5426\u5BF9\u5176\u4ED6\u6709\u95EE\u9898\u7684\u9644\u4EF6\u4F7F\u7528\u76F8\u540C\u64CD\u4F5C"},commands:{collectAttachmentsCurrentFolder:"\u6536\u96C6\u5F53\u524D\u6587\u4EF6\u5939\u4E2D\u7684\u9644\u4EF6",collectAttachmentsCurrentNote:"\u6536\u96C6\u5F53\u524D\u7B14\u8BB0\u4E2D\u7684\u9644\u4EF6",collectAttachmentsEntireVault:"\u6536\u96C6\u6574\u4E2A\u5E93\u4E2D\u7684\u9644\u4EF6"},menuItems:{collectAttachmentsInFolder:"\u6536\u96C6\u6587\u4EF6\u5939\u4E2D\u7684\u9644\u4EF6"},notice:{collectingAttachments:"\u6B63\u5728\u4E3A '{{noteFilePath}}' \u6536\u96C6\u9644\u4EF6",collectingAttachmentsCancelled:"\u9644\u4EF6\u6536\u96C6\u5DF2\u53D6\u6D88\u3002\u8BE6\u60C5\u8BF7\u67E5\u770B\u63A7\u5236\u53F0\u3002",generatedAttachmentFileNameIsInvalid:{part1:`\u751F\u6210\u7684\u9644\u4EF6\u6587\u4EF6\u540D '{{path}}' \u65E0\u6548\u3002
{{validationMessage}}
\u8BF7\u68C0\u67E5`,part2:"\u8BBE\u7F6E\u3002"},notePathIsIgnored:"\u7B14\u8BB0\u8DEF\u5F84\u5DF2\u88AB\u5FFD\u7565"},obsidianDevUtils:{buttons:{cancel:"\u53D6\u6D88",ok:"\u786E\u5B9A"},dataview:{itemsPerPage:"\u6BCF\u9875\u9879\u6570:",jumpToPage:"\u8DF3\u8F6C\u81F3\u9875\u6570:"},notices:{attachmentIsStillUsed:"\u9644\u4EF6 {{attachmentPath}} \u4ECD\u7136\u88AB\u5176\u4ED6\u7B14\u8BB0\u4F7F\u7528\u3002\u5B83\u4E0D\u4F1A\u88AB\u5220\u9664\u3002",unhandledError:"\u672A\u5904\u7406\u7684\u9519\u8BEF\u53D1\u751F\u3002\u8BF7\u68C0\u67E5\u63A7\u5236\u53F0\u4EE5\u83B7\u53D6\u66F4\u591A\u4FE1\u606F\u3002"}},pluginSettings:{attachmentRenameMode:{all:{description:"\u6240\u6709\u6587\u4EF6\u90FD\u4F1A\u88AB\u91CD\u547D\u540D\u3002",displayText:"\u5168\u90E8"},none:{description:"\u6587\u4EF6\u540D\u4FDD\u6301\u4E0D\u53D8\u3002",displayText:"\u65E0"},onlyPastedImages:{description:"\u4EC5\u5BF9\u7C98\u8D34\u7684\u56FE\u7247\u8FDB\u884C\u91CD\u547D\u540D\u3002\u4EC5\u5F53 PNG \u56FE\u50CF\u5185\u5BB9\u76F4\u63A5\u4ECE\u526A\u8D34\u677F\u7C98\u8D34\u65F6\u9002\u7528\u3002\u901A\u5E38\u7528\u4E8E\u7C98\u8D34\u5C4F\u5E55\u622A\u56FE\u3002",displayText:"\u4EC5\u7C98\u8D34\u7684\u56FE\u7247"}},collectAttachmentUsedByMultipleNotesMode:{cancel:{description:"\u53D6\u6D88\u9644\u4EF6\u6536\u96C6\u3002",displayText:"\u53D6\u6D88"},copy:{description:"\u5C06\u9644\u4EF6\u590D\u5236\u5230\u65B0\u4F4D\u7F6E\u3002",displayText:"\u590D\u5236"},move:{description:"\u5C06\u9644\u4EF6\u79FB\u52A8\u5230\u65B0\u4F4D\u7F6E\u3002",displayText:"\u79FB\u52A8"},prompt:{description:"\u63D0\u793A\u7528\u6237\u9009\u62E9\u64CD\u4F5C\u3002",displayText:"\u63D0\u793A"},skip:{description:"\u8DF3\u8FC7\u9644\u4EF6\u5E76\u7EE7\u7EED\u4E0B\u4E00\u4E2A\u3002",displayText:"\u8DF3\u8FC7"}},defaultImageSizeDimension:{height:"\u9AD8\u5EA6",width:"\u5BBD\u5EA6"},emptyAttachmentFolderBehavior:{delete:{description:"\u5C06\u5220\u9664\u7A7A\u7684\u9644\u4EF6\u6587\u4EF6\u5939\u3002",displayText:"\u5220\u9664"},deleteWithEmptyParents:{description:"\u5C06\u5220\u9664\u7A7A\u7684\u9644\u4EF6\u6587\u4EF6\u5939\u53CA\u5176\u7A7A\u7684\u7236\u6587\u4EF6\u5939\u3002",displayText:"\u5220\u9664\u5E76\u5220\u9664\u7A7A\u7236\u6587\u4EF6\u5939"},keep:{description:"\u5C06\u4FDD\u7559\u7A7A\u7684\u9644\u4EF6\u6587\u4EF6\u5939\u3002",displayText:"\u4FDD\u7559"}}},pluginSettingsManager:{customToken:{codeComment:`// \u81EA\u5B9A\u4E49\u4EE4\u724C\u5DF2\u88AB\u6CE8\u91CA\u6389\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u9700\u8981\u66F4\u65B0\u4E3A\u63D2\u4EF6 9.0.0 \u7248\u672C\u5F15\u5165\u7684\u65B0\u683C\u5F0F\u3002
// \u66F4\u591A\u4FE1\u606F\u8BF7\u53C2\u8003\u6587\u6863 (https://github.com/cnzf1/obsidian-paste-image?tab=readme-ov-file#custom-tokens)\u3002`,deprecated:{part1:"\u5728\u63D2\u4EF6 9.0.0 \u7248\u672C\u4E2D\uFF0C\u81EA\u5B9A\u4E49\u4EE4\u724C\u6CE8\u518C\u683C\u5F0F\u5DF2\u66F4\u6539\u3002\u8BF7\u76F8\u5E94\u66F4\u65B0\u4F60\u7684\u4EE4\u724C\u3002\u53C2\u8003",part2:"\u6587\u6863",part3:"\u4E86\u89E3\u66F4\u591A\u4FE1\u606F"}},legacyRenameAttachmentsToLowerCase:{part1:"\u5728\u63D2\u4EF6 9.0.0 \u7248\u672C\u4E2D\uFF0C",part2:"\u8BBE\u7F6E\u5DF2\u5F03\u7528\u3002\u8BF7\u4F7F\u7528",part3:"\u683C\u5F0F\u4EE3\u66FF\u3002\u53C2\u89C1",part4:"\u6587\u6863",part5:"\u4E86\u89E3\u66F4\u591A\u4FE1\u606F"},markdownUrlFormat:{deprecated:{part1:"\u4F60\u53EF\u80FD\u4E3A",part2:"\u683C\u5F0F\u8BBE\u7F6E\u4E86\u9519\u8BEF\u7684\u503C\u3002\u8BF7\u53C2\u8003",part3:"\u6587\u6863",part4:"\u4E86\u89E3\u66F4\u591A\u4FE1\u606F",part5:"\u6B64\u6D88\u606F\u4E0D\u4F1A\u518D\u6B21\u663E\u793A\u3002"}},specialCharacters:{part1:"\u5728\u63D2\u4EF6\u7248\u672C 9.16.0 \u4E2D\uFF0C",part2:"\u9ED8\u8BA4\u8BBE\u7F6E\u503C\u5DF2\u66F4\u6539\u3002\u60A8\u7684\u8BBE\u7F6E\u503C\u5DF2\u66F4\u65B0\u4E3A\u65B0\u7684\u9ED8\u8BA4\u503C\u3002"},validation:{defaultImageSizeMustBePercentageOrPixels:"\u9ED8\u8BA4\u56FE\u50CF\u5927\u5C0F\u5FC5\u987B\u4E3A\u50CF\u7D20\u6216\u767E\u5206\u6BD4",invalidCustomTokensCode:"\u65E0\u6548\u7684\u81EA\u5B9A\u4E49\u4EE4\u724C\u4EE3\u7801",invalidRegularExpression:"\u65E0\u6548\u7684\u6B63\u5219\u8868\u8FBE\u5F0F {{regExp}}",specialCharactersMustNotContainSlash:"\u7279\u6B8A\u5B57\u7B26\u4E0D\u80FD\u5305\u542B /",specialCharactersReplacementMustNotContainInvalidFileNamePathCharacters:"\u7279\u6B8A\u5B57\u7B26\u66FF\u6362\u4E0D\u80FD\u5305\u542B\u65E0\u6548\u7684\u6587\u4EF6\u540D\u8DEF\u5F84\u5B57\u7B26\u3002"},version:{part1:"\u60A8\u7684\u8BBE\u7F6E\u6587\u4EF6 ",part2:"\u7248\u672C\u4E3A",part3:"\uFF0C\u6BD4\u5F53\u524D\u63D2\u4EF6\u7248\u672C\u66F4\u65B0",part4:"\u63D2\u4EF6\u53EF\u80FD\u65E0\u6CD5\u6B63\u5E38\u5DE5\u4F5C\u3002\u8BF7\u5C06\u63D2\u4EF6\u66F4\u65B0\u5230\u6700\u65B0\u7248\u672C\u6216\u786E\u4FDD\u8BBE\u7F6E\u6B63\u786E\u3002"}},pluginSettingsTab:{attachmentRenameMode:{description:{part1:"\u5F53\u9644\u52A0\u6587\u4EF6\u65F6\uFF1A"},name:"\u9644\u4EF6\u91CD\u547D\u540D\u6A21\u5F0F"},collectAttachmentUsedByMultipleNotesMode:{description:{part1:"\u5F53\u6536\u96C6\u7684\u9644\u4EF6\u88AB\u591A\u4E2A\u7B14\u8BB0\u4F7F\u7528\u65F6\uFF1A"},name:"\u6536\u96C6\u88AB\u591A\u4E2A\u7B14\u8BB0\u4F7F\u7528\u7684\u9644\u4EF6\u6A21\u5F0F"},customTokens:{description:{part1:"\u8981\u4F7F\u7528\u7684\u81EA\u5B9A\u4E49\u4EE4\u724C\u3002",part2:"\u53C2\u89C1",part3:"\u6587\u6863",part4:"\u4E86\u89E3\u66F4\u591A\u4FE1\u606F\u3002",part5:"\u26A0\uFE0F \u81EA\u5B9A\u4E49\u4EE4\u724C\u53EF\u4EE5\u662F\u4EFB\u610F JavaScript \u4EE3\u7801\u3002\u5982\u679C\u7F16\u5199\u4E0D\u5F53\uFF0C\u53EF\u80FD\u4F1A\u5BFC\u81F4\u6570\u636E\u4E22\u5931\u3002\u98CE\u9669\u81EA\u62C5\u3002"},name:"\u81EA\u5B9A\u4E49\u4EE4\u724C"},defaultImageSize:{description:{part1:"\u9ED8\u8BA4\u56FE\u50CF\u5927\u5C0F\u3002",part2:"\u53EF\u4EE5\u7528\u50CF\u7D20\u6307\u5B9A",part3:"\u6216\u8005\u662F\u56FE\u50CF\u5B8C\u6574\u5C3A\u5BF8\u7684\u767E\u5206\u6BD4",part4:"\u4FDD\u7559\u4E3A\u7A7A\u4EE5\u4F7F\u7528\u539F\u59CB\u56FE\u50CF\u5927\u5C0F\u3002"},name:"\u9ED8\u8BA4\u56FE\u50CF\u5927\u5C0F"},duplicateNameSeparator:{description:{part1:"\u5F53\u4F60\u7C98\u8D34/\u62D6\u62FD\u4E00\u4E2A\u4E0E\u73B0\u6709\u6587\u4EF6\u540C\u540D\u7684\u6587\u4EF6\u65F6\uFF0C\u6B64\u5206\u9694\u7B26\u4F1A\u6DFB\u52A0\u5230\u6587\u4EF6\u540D\u4E2D\u3002",part2:"\u4F8B\u5982\uFF0C\u5F53\u4F60\u62D6\u62FD\u6587\u4EF6",part3:"\u65F6\uFF0C\u5B83\u4F1A\u88AB\u91CD\u547D\u540D\u4E3A",part4:"\uFF0C\u4F9D\u6B64\u7C7B\u63A8\uFF0C\u76F4\u5230\u83B7\u5F97\u7B2C\u4E00\u4E2A\u53EF\u7528\u540D\u79F0\u3002"},name:"\u91CD\u590D\u6587\u4EF6\u540D\u5206\u9694\u7B26"},emptyAttachmentFolderBehavior:{description:{part1:"\u5F53\u9644\u4EF6\u6587\u4EF6\u5939\u53D8\u4E3A\u7A7A\u65F6\uFF1A"},name:"\u7A7A\u9644\u4EF6\u6587\u4EF6\u5939\u5904\u7406"},excludePaths:{description:{part1:"\u6392\u9664\u4EE5\u4E0B\u8DEF\u5F84\u4E2D\u7684\u7B14\u8BB0\u3002",part2:"\u6BCF\u884C\u8F93\u5165\u4E00\u4E2A\u8DEF\u5F84\u3002",part3:"\u4F60\u53EF\u4EE5\u4F7F\u7528\u8DEF\u5F84\u5B57\u7B26\u4E32\u6216",part4:"\u5982\u679C\u8BBE\u7F6E\u4E3A\u7A7A\uFF0C\u5219\u4E0D\u6392\u9664\u4EFB\u4F55\u7B14\u8BB0\u3002"},name:"\u6392\u9664\u8DEF\u5F84"},excludePathsFromAttachmentCollecting:{description:{part1:"\u5F53\u6267\u884C",part2:"\u6536\u96C6\u9644\u4EF6",part3:"\u547D\u4EE4\u65F6\uFF0C\u6392\u9664\u4EE5\u4E0B\u8DEF\u5F84\u4E2D\u7684\u9644\u4EF6\u3002",part4:"\u6BCF\u884C\u8F93\u5165\u4E00\u4E2A\u8DEF\u5F84\u3002",part5:"\u4F60\u53EF\u4EE5\u4F7F\u7528\u8DEF\u5F84\u5B57\u7B26\u4E32\u6216",part6:"\u5982\u679C\u8BBE\u7F6E\u4E3A\u7A7A\uFF0C\u5219\u4E0D\u4F1A\u6392\u9664\u4EFB\u4F55\u8DEF\u5F84\u3002"},name:"\u4ECE\u9644\u4EF6\u6536\u96C6\u4E2D\u6392\u9664\u8DEF\u5F84"},generatedAttachmentFileName:{description:{part1:"\u67E5\u770B\u53EF\u7528",part2:"\u4EE4\u724C"},name:"\u751F\u6210\u7684\u9644\u4EF6\u6587\u4EF6\u540D"},includePaths:{description:{part1:"\u5305\u542B\u4EE5\u4E0B\u8DEF\u5F84\u4E2D\u7684\u7B14\u8BB0\u3002",part2:"\u6BCF\u884C\u8F93\u5165\u4E00\u4E2A\u8DEF\u5F84\u3002",part3:"\u4F60\u53EF\u4EE5\u4F7F\u7528\u8DEF\u5F84\u5B57\u7B26\u4E32\u6216",part4:"\u5982\u679C\u8BBE\u7F6E\u4E3A\u7A7A\uFF0C\u5219\u5305\u542B\u6240\u6709\u7B14\u8BB0\u3002"},name:"\u5305\u542B\u8DEF\u5F84"},jpegQuality:{description:"\u8D28\u91CF\u8D8A\u4F4E\uFF0C\u538B\u7F29\u7387\u8D8A\u9AD8\u3002",name:"JPEG \u8D28\u91CF"},imageFormat:{name:"\u8D34\u56FE\u683C\u5F0F",description:"\u63D2\u5165\u5230 Markdown \u4E2D\u7684\u56FE\u50CF\u683C\u5F0F."},htmlImageFormat:{align:"\u5BF9\u9F50\u65B9\u5411",width:"\u5BBD\u5EA6",style:"\u6837\u5F0F"},locationForNewAttachments:{description:{part1:"\u4EE5",part2:"\u5F00\u5934\u4F7F\u7528\u76F8\u5BF9\u8DEF\u5F84\u3002",part3:"\u67E5\u770B\u53EF\u7528",part4:"\u4EE4\u724C",part5:"\u50CF",part6:"\u8FD9\u6837\u7684\u70B9\u6587\u4EF6\u5939\u4E0D\u63A8\u8350\u4F7F\u7528\uFF0C\u56E0\u4E3A Obsidian \u4E0D\u4F1A\u8DDF\u8E2A\u5B83\u4EEC\u3002\u4F60\u53EF\u80FD\u9700\u8981\u4F7F\u7528",part7:"\u63D2\u4EF6\u6765\u7BA1\u7406\u5B83\u4EEC\u3002"},name:"\u65B0\u9644\u4EF6\u4F4D\u7F6E"},markdownUrlFormat:{description:{part1:"\u63D2\u5165\u5230 Markdown \u4E2D\u7684 URL \u683C\u5F0F\u3002",part2:"\u67E5\u770B\u53EF\u7528",part3:"\u4EE4\u724C",part4:"\u7559\u7A7A\u4EE5\u4F7F\u7528\u9ED8\u8BA4\u683C\u5F0F\u3002"},name:"Markdown URL \u683C\u5F0F"},renameAttachmentsToLowerCase:"\u5C06\u9644\u4EF6\u91CD\u547D\u540D\u4E3A\u5C0F\u5199",resetToSampleCustomTokens:{message:"\u786E\u5B9A\u8981\u5C06\u81EA\u5B9A\u4E49\u4EE4\u724C\u91CD\u7F6E\u4E3A\u793A\u4F8B\u81EA\u5B9A\u4E49\u4EE4\u724C\u5417\uFF1F\u4F60\u7684\u66F4\u6539\u5C06\u4F1A\u4E22\u5931\u3002",title:"\u91CD\u7F6E\u4E3A\u793A\u4F8B\u81EA\u5B9A\u4E49\u4EE4\u724C"},shouldConvertPastedImagesToJpeg:{description:"\u662F\u5426\u5C06\u7C98\u8D34\u7684\u56FE\u7247\u8F6C\u6362\u4E3A JPEG\u3002\u4EC5\u5F53 PNG \u56FE\u50CF\u5185\u5BB9\u76F4\u63A5\u4ECE\u526A\u8D34\u677F\u7C98\u8D34\u65F6\u9002\u7528\u3002\u901A\u5E38\u7528\u4E8E\u7C98\u8D34\u5C4F\u5E55\u622A\u56FE\u3002",name:"\u662F\u5426\u5C06\u7C98\u8D34\u7684\u56FE\u7247\u8F6C\u6362\u4E3A JPEG"},shouldDeleteOrphanAttachments:{description:"\u5982\u679C\u542F\u7528\uFF0C\u5F53\u7B14\u8BB0\u88AB\u5220\u9664\u65F6\uFF0C\u5176\u5B64\u7ACB\u7684\u9644\u4EF6\u4E5F\u4F1A\u88AB\u5220\u9664\u3002",name:"\u662F\u5426\u5220\u9664\u5B64\u7ACB\u9644\u4EF6"},shouldRenameAttachmentFiles:{description:"\u5F53\u7B14\u8BB0\u88AB\u91CD\u547D\u540D\u6216\u79FB\u52A8\u65F6\uFF0C\u662F\u5426\u91CD\u547D\u540D\u9644\u4EF6\u6587\u4EF6\u3002",name:"\u662F\u5426\u91CD\u547D\u540D\u9644\u4EF6\u6587\u4EF6"},shouldRenameAttachmentFolders:{description:"\u5F53\u7B14\u8BB0\u88AB\u91CD\u547D\u540D\u6216\u79FB\u52A8\u65F6\uFF0C\u662F\u5426\u91CD\u547D\u540D\u9644\u4EF6\u6587\u4EF6\u5939\u3002",name:"\u662F\u5426\u91CD\u547D\u540D\u9644\u4EF6\u6587\u4EF6\u5939"},shouldRenameCollectedAttachments:{description:{part1:"\u5982\u679C\u542F\u7528\uFF0C\u901A\u8FC7",part2:"\u6536\u96C6\u9644\u4EF6",part3:"\u547D\u4EE4\u5904\u7406\u7684\u9644\u4EF6\u5C06\u6839\u636E",part4:"\u8BBE\u7F6E\u91CD\u547D\u540D\u3002"},name:"\u662F\u5426\u91CD\u547D\u540D\u6536\u96C6\u7684\u9644\u4EF6"},specialCharacters:{description:{part1:"\u8981\u66FF\u6362\u6216\u5220\u9664\u7684\u9644\u4EF6\u6587\u4EF6\u5939\u548C\u6587\u4EF6\u540D\u4E2D\u7684\u7279\u6B8A\u5B57\u7B26\u3002",part2:"\u7559\u7A7A\u4EE5\u4FDD\u7559\u7279\u6B8A\u5B57\u7B26\u3002"},name:"\u7279\u6B8A\u5B57\u7B26"},specialCharactersReplacement:{description:{part1:"\u9644\u4EF6\u6587\u4EF6\u5939\u548C\u6587\u4EF6\u540D\u4E2D\u7528\u4E8E\u66FF\u6362\u7279\u6B8A\u5B57\u7B26\u7684\u5B57\u7B26\u4E32\u3002",part2:"\u7559\u7A7A\u4EE5\u5220\u9664\u7279\u6B8A\u5B57\u7B26\u3002"},name:"\u7279\u6B8A\u5B57\u7B26\u66FF\u6362"},timeoutInSeconds:{description:{part1:"\u6240\u6709\u64CD\u4F5C\u7684\u8D85\u65F6\u65F6\u95F4\uFF08\u79D2\uFF09\u3002",part2:"\u5982\u679C",part3:"\u5DF2\u8BBE\u7F6E\uFF0C\u5219\u7981\u7528\u64CD\u4F5C\u6267\u884C\u8D85\u65F6\u3002"},name:"\u8D85\u65F6\u65F6\u95F4\uFF08\u79D2\uFF09"},treatAsAttachmentExtensions:{description:{part1:"\u5C06\u8FD9\u4E9B\u6269\u5C55\u540D\u7684\u6587\u4EF6\u89C6\u4E3A\u9644\u4EF6\u3002",part2:"\u9ED8\u8BA4\u60C5\u51B5\u4E0B",part3:"\u548C",part4:"\u94FE\u63A5\u6587\u4EF6\u4E0D\u4F1A\u88AB\u89C6\u4E3A\u9644\u4EF6\uFF0C\u4E5F\u4E0D\u4F1A\u968F\u7B14\u8BB0\u79FB\u52A8\u3002",part5:"\u4F60\u53EF\u4EE5\u6DFB\u52A0\u81EA\u5B9A\u4E49\u6269\u5C55\u540D\uFF0C\u4F8B\u5982",part6:"\uFF0C\u4EE5\u8986\u76D6\u6B64\u884C\u4E3A\u3002"},name:"\u89C6\u4E3A\u9644\u4EF6\u7684\u6269\u5C55\u540D"}},promptWithPreviewModal:{previewModal:{title:"\u9884\u89C8\u9644\u4EF6\u6587\u4EF6 '{{fullFileName}}'"},title:"\u4E3A\u63D0\u793A\u4EE4\u724C\u63D0\u4F9B\u4E00\u4E2A\u503C"},regularExpression:"/\u6B63\u5219\u8868\u8FBE\u5F0F/"};var QS={en:Em,zh:Tm},Fm=QS;var tC={avif:"image/avif",bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp"};async function Pm(t,e,n){let r=tC[e.toLowerCase()];if(!r||!t.settings.defaultImageSize)return null;let i=new Blob([n],{type:r}),a=await fl(i),l=new Image;await new Promise(m=>{l.addEventListener("load",()=>{m()}),l.src=a});let c,d,h="px",f="%";if(t.settings.defaultImageSize.endsWith(h)){let m=Number(Gt(t.settings.defaultImageSize,h));t.settings.defaultImageSizeDimension==="width"?(c=m,d=Math.trunc(c/l.width*l.height)):(d=m,c=Math.trunc(d/l.height*l.width))}else{let m=Number(Gt(t.settings.defaultImageSize,f)),y=100;c=Math.trunc(l.width/y*m),d=Math.trunc(l.height/y*m)}return`${String(c)}x${String(d)}`}s(Pm,"getImageSize");var ky=require("obsidian");var Im=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var lu=class extends Wr{static{s(this,"AlertModal")}options;constructor(e,n){super(e,n,W.AlertModal);let r={app:e.app,cssClass:"",message:e.message,okButtonText:Ls(i=>i.obsidianDevUtils.buttons.ok),title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new Im.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass(W.OkButton)}};async function Hr(t){await ka(e=>new lu(t,e))}s(Hr,"alert");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ln=class{static{s(this,"Transformer")}getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:r,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,c)=>this.transformValueRecursively(l,String(c)));let i=e;if(i.__transformerId)return this.getTransformer(i.__transformerId).restoreValue(i.transformedValue,n);let a={};for(let l of Ar(e)){let c=e[l],d=this.transformValueRecursively(c,l);a[l]=d}return a}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ft=class extends Ln{static{s(this,"TypedTransformer")}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ma=class extends Ft{static{s(this,"DateTransformer")}get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var Mm=We(pn(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Oa=class extends Ft{static{s(this,"DurationTransformer")}get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,Mm.duration)(e)}transformValue(e){return e.toISOString()}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _a=class extends Ln{static{s(this,"GroupTransformer")}constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??Hn(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ra=class extends Ft{static{s(this,"MapTransformer")}get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Na=class extends Ft{static{s(this,"SetTransformer")}get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var nC="_",La=class extends Ln{static{s(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(nC)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Li=class{static{s(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Da=class extends Ft{static{s(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(e){return e instanceof Li}restoreValue(e){return new Li(e)}transformValue(e){return Array.from(e.entries())}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var rC=new _a([new La,new Ma,new Oa,new Ra,new Na,new Da]),Ba=class extends Ht{static{s(this,"PluginSettingsManagerBase")}constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=Ar(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,i=await this.rawRecordToSettings(r),a=await this.validate(i);for(let c of this.propertyNames)this.setPropertyImpl(c,i[c],a[c]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);vt(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async revalidate(){return await this.edit(Dt),this.currentSettingsWrapper.validationMessages}async saveToFile(e){vt(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,i]of this.validators.entries()){let a=await i(e[r],e);a&&(n[r]=a)}return n}getTransformer(){return rC}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Yt()}registerLegacySettingsConverter(e,n){let r=this;this.legacySettingsConverters.push(i);function i(a){let l=new Set(Object.keys(new e)),c=new Set(r.propertyNames),d=a;n(d);for(let h of Object.keys(d))c.has(h)||l.has(h)&&delete a[h]}s(i,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),i=JSON.parse(r);return await this.rawRecordToSettings(i)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let i=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=i,this.currentSettingsWrapper.safeSettings[r]=i?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,i]of Object.entries(e)){if(!this.isValidPropertyName(r)){be("PluginSettingsManagerBase:rawRecordToSettings")(`Unknown property: ${r}`);continue}typeof i!=typeof this.defaultSettings[r]&&be("PluginSettingsManagerBase:rawRecordToSettings")("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:i}),n[r]=i}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var Yi=We(Ay(),1);var QT=2e3,Fu=class{static{s(this,"LegacySettings")}autoRenameFiles=!1;autoRenameFolder=!0;convertImagesOnDragAndDrop=!1;convertImagesToJpeg=!1;dateTimeFormat="";deleteOrphanAttachments=!1;generatedAttachmentFilename="";keepEmptyAttachmentFolders=!1;pastedFileName="file-${date:YYYYMMDDHHmmssSSS}";pastedImageFileName="";renameAttachmentsOnDragAndDrop=!1;renameCollectedFiles=!1;renameOnlyImages=!1;renamePastedFilesWithKnownNames=!1;replaceWhitespace=!1;shouldDuplicateCollectedAttachments=!1;shouldKeepEmptyAttachmentFolders=!1;shouldRenameAttachments=!0;shouldRenameAttachmentsToLowerCase=!1;toLowerCase=!1;warningVersion="";whitespaceReplacement=""},Pu=class{constructor(e,n){this.legacySettings=e;this.plugin=n;this.app=n.app}static{s(this,"LegacySettingsConverter")}app;convert(){this.convertWarningVersion(),!this.handleNewVersion()&&(this.convertDateTimeFormat(),this.convertReplaceWhitespace(),this.convertAutoRenameFiles(),this.convertAutoRenameFolder(),this.convertShouldRenameAttachments(),this.convertDeleteOrphanAttachments(),this.convertKeepEmptyAttachmentFolders(),this.convertRenameCollectedFiles(),this.convertToLowerCase(),this.convertCustomTokensStr(),this.convertConvertImagesToJpeg(),this.convertWhitespaceReplacement(),this.convertShouldKeepEmptyAttachmentFolders(),this.convertLegacyTokens(),this.convertCollectAttachmentUsedByMultipleNotesMode(),this.convertMarkdownUrlFormat(),this.convertSpecialCharacters(),this.legacySettings.version=this.plugin.manifest.version)}convertAutoRenameFiles(){this.legacySettings.autoRenameFiles!==void 0&&(this.legacySettings.shouldRenameAttachmentFiles=this.legacySettings.autoRenameFiles)}convertAutoRenameFolder(){this.legacySettings.autoRenameFolder!==void 0&&(this.legacySettings.shouldRenameAttachmentFolder=this.legacySettings.autoRenameFolder)}convertCollectAttachmentUsedByMultipleNotesMode(){this.legacySettings.collectAttachmentUsedByMultipleNotesMode===void 0&&this.legacySettings.shouldDuplicateCollectedAttachments!==void 0&&(this.legacySettings.collectAttachmentUsedByMultipleNotesMode=this.legacySettings.shouldDuplicateCollectedAttachments?"Copy":"Skip")}convertConvertImagesToJpeg(){this.legacySettings.convertImagesToJpeg!==void 0&&(this.legacySettings.shouldConvertPastedImagesToJpeg=this.legacySettings.convertImagesToJpeg)}convertCustomTokensStr(){this.legacySettings.customTokensStr&&this.legacySettings.version&&(0,Yi.compare)(this.legacySettings.version,"9.0.0")<0&&(this.legacySettings.customTokensStr=`${k(e=>e.pluginSettingsManager.customToken.codeComment)}

${eF(this.legacySettings.customTokensStr)}
`,Ae(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await Hr({app:this.app,message:createFragment(e=>{e.appendText(k(n=>n.pluginSettingsManager.customToken.deprecated.part1)),e.createEl("a",{href:"https://github.com/cnzf1/obsidian-paste-image?tab=readme-ov-file#custom-tokens",text:k(n=>n.pluginSettingsManager.customToken.deprecated.part2)}),e.appendText(" "),e.appendText(k(n=>n.pluginSettingsManager.customToken.deprecated.part3))})})}))}convertDateTimeFormat(){let e=this.legacySettings.dateTimeFormat??"YYYYMMDDHHmmssSSS";this.legacySettings.attachmentFolderPath=xy(this.legacySettings.attachmentFolderPath??"",e),this.legacySettings.generatedAttachmentFileName=xy(this.legacySettings.generatedAttachmentFileName??this.legacySettings.generatedAttachmentFilename??this.legacySettings.pastedFileName??this.legacySettings.pastedImageFileName??"file-${date}",e)}convertDeleteOrphanAttachments(){this.legacySettings.deleteOrphanAttachments!==void 0&&(this.legacySettings.shouldDeleteOrphanAttachments=this.legacySettings.deleteOrphanAttachments)}convertKeepEmptyAttachmentFolders(){this.legacySettings.keepEmptyAttachmentFolders!==void 0&&(this.legacySettings.shouldKeepEmptyAttachmentFolders=this.legacySettings.keepEmptyAttachmentFolders)}convertLegacyTokens(){this.legacySettings.attachmentFolderPath=this.replaceLegacyTokens(this.legacySettings.attachmentFolderPath),this.legacySettings.generatedAttachmentFileName=this.replaceLegacyTokens(this.legacySettings.generatedAttachmentFileName),this.legacySettings.markdownUrlFormat=this.replaceLegacyTokens(this.legacySettings.markdownUrlFormat),this.legacySettings.customTokensStr=this.replaceLegacyTokens(this.legacySettings.customTokensStr??"")}convertMarkdownUrlFormat(){this.legacySettings.version&&(0,Yi.compare)(this.legacySettings.version,"9.2.0")<0&&(this.legacySettings.markdownUrlFormat==="${generatedAttachmentFilePath}"||this.legacySettings.markdownUrlFormat==="${noteFilePath}")&&Ae(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await Hr({app:this.app,message:createFragment(e=>{e.appendText(k(n=>n.pluginSettingsManager.markdownUrlFormat.deprecated.part1)),q(e,k(n=>n.pluginSettingsTab.markdownUrlFormat.name)),e.appendText(k(n=>n.pluginSettingsManager.markdownUrlFormat.deprecated.part2)),e.createEl("a",{href:"https://github.com/cnzf1/obsidian-paste-image?tab=readme-ov-file#markdown-url-format",text:k(n=>n.pluginSettingsManager.markdownUrlFormat.deprecated.part3)}),e.appendText(" "),e.appendText(k(n=>n.pluginSettingsManager.markdownUrlFormat.deprecated.part4)),e.appendText(" "),e.appendText(k(n=>n.pluginSettingsManager.markdownUrlFormat.deprecated.part5))})})})}convertRenameCollectedFiles(){this.legacySettings.renameCollectedFiles!==void 0&&(this.legacySettings.shouldRenameCollectedAttachments=this.legacySettings.renameCollectedFiles)}convertReplaceWhitespace(){this.legacySettings.replaceWhitespace!==void 0&&(this.legacySettings.whitespaceReplacement=this.legacySettings.replaceWhitespace?"-":"")}convertShouldKeepEmptyAttachmentFolders(){this.legacySettings.shouldKeepEmptyAttachmentFolders!==void 0&&(this.legacySettings.emptyAttachmentFolderBehavior=this.legacySettings.shouldKeepEmptyAttachmentFolders?Tt.Keep:Tt.DeleteWithEmptyParents)}convertShouldRenameAttachments(){this.legacySettings.shouldRenameAttachments!==void 0&&(this.legacySettings.shouldRenameAttachmentFolder=this.legacySettings.shouldRenameAttachments)}convertSpecialCharacters(){this.legacySettings.version&&(0,Yi.compare)(this.legacySettings.version,"9.16.0")<0&&this.legacySettings.specialCharacters==="#^[]|*\\<>:?"&&(this.legacySettings.specialCharacters="#^[]|*\\<>:?/",Ae(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await Hr({app:this.app,message:createFragment(e=>{e.appendText(k(n=>n.pluginSettingsManager.specialCharacters.part1)),q(e,k(n=>n.pluginSettingsTab.specialCharacters.name)),e.appendText(k(n=>n.pluginSettingsManager.specialCharacters.part2))})})}))}convertToLowerCase(){(this.legacySettings.toLowerCase||this.legacySettings.shouldRenameAttachmentsToLowerCase)&&Ae(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await Hr({app:this.app,message:createFragment(e=>{e.appendText(k(n=>n.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part1)),e.appendText(" "),q(e,k(n=>n.pluginSettingsTab.renameAttachmentsToLowerCase)),e.appendText(" "),e.appendText(k(n=>n.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part2)),e.appendText(" "),q(e,"lower"),e.appendText(" "),e.appendText(k(n=>n.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part3)),e.appendText(" "),e.createEl("a",{href:"https://github.com/cnzf1/obsidian-paste-image?tab=readme-ov-file#tokens",text:k(n=>n.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part4)}),e.appendText(" "),e.appendText(k(n=>n.pluginSettingsManager.legacyRenameAttachmentsToLowerCase.part5))})})})}convertWarningVersion(){this.legacySettings.warningVersion!==void 0&&(this.legacySettings.version=this.legacySettings.warningVersion)}convertWhitespaceReplacement(){this.legacySettings.whitespaceReplacement&&(this.legacySettings.specialCharacters=`${this.legacySettings.specialCharacters??""} `,this.legacySettings.specialCharactersReplacement=this.legacySettings.whitespaceReplacement)}handleNewVersion(){return this.legacySettings.version&&(0,Yi.compare)(this.legacySettings.version,this.plugin.manifest.version)>0?(Ae(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await Hr({app:this.app,message:createFragment(e=>{e.appendText(k(n=>n.pluginSettingsManager.version.part1)),e.appendText(" "),q(e,`${this.plugin.manifest.dir??""}/data.json`),e.appendText(" "),e.appendText(k(n=>n.pluginSettingsManager.version.part2)),e.appendText(" "),q(e,this.legacySettings.version??""),e.appendText(", "),e.appendText(k(n=>n.pluginSettingsManager.version.part3)),e.appendText(" "),q(e,this.plugin.manifest.version),e.appendText(". "),e.appendText(k(n=>n.pluginSettingsManager.version.part4))})})}),this.legacySettings.version=this.plugin.manifest.version,!0):!1}replaceLegacyTokens(e){if(e===void 0)return"";let n={fileCreationDate:"noteFileCreationDate",fileModificationDate:"noteFileModificationDate",fileName:"noteFileName",filePath:"noteFilePath",folderName:"noteFolderName",folderPath:"noteFolderPath",originalCopiedFileExtension:"originalAttachmentFileExtension",originalCopiedFileName:"originalAttachmentFileName",randomDigit:"random:D",randomDigitOrLetter:"random:DL",randomLetter:"random:L",uuid:"random:uuid"};for(let[r,i]of Object.entries(n))e=Te(e,new RegExp(`\\\${${r}(?<Suffix>[:}])`,"i"),`\${${i}$<Suffix>`),e=Te(e,`substitutions.${r}`,`substitutions.${i}`);return e}},Xa=class extends Ba{static{s(this,"PluginSettingsManager")}shouldDebounceCustomTokensValidation=!1;customTokensValidatorDebounced=(0,ky.debounce)(this.customTokensValidatorImpl.bind(this),QT);lastCustomTokenValidatorResult=void 0;createDefaultSettings(){return new Pa}registerLegacySettingsConverters(){this.registerLegacySettingsConverter(Fu,e=>{new Pu(e,this.plugin).convert()})}registerValidators(){this.registerValidator("attachmentFolderPath",async e=>await nr({areTokensAllowed:!0,path:e,plugin:this.plugin})),this.registerValidator("generatedAttachmentFileName",async e=>await nr({areTokensAllowed:!0,path:e,plugin:this.plugin})),this.registerValidator("specialCharactersReplacement",e=>{if(Ca().exec(e))return k(n=>n.pluginSettingsManager.validation.specialCharactersReplacementMustNotContainInvalidFileNamePathCharacters)}),this.registerValidator("defaultImageSize",e=>{if(!/^(?:\d+(?:px|%))?$/g.exec(e))return k(r=>r.pluginSettingsManager.validation.defaultImageSizeMustBePercentageOrPixels)}),this.registerValidator("duplicateNameSeparator",async e=>await Ri({areSingleDotsAllowed:!1,fileName:`foo${e}1`,isEmptyAllowed:!1,plugin:this.plugin,tokenValidationMode:"Error"})),this.registerValidator("includePaths",e=>vy(e)),this.registerValidator("excludePaths",e=>vy(e)),this.registerValidator("customTokensStr",e=>this.customTokensValidator(e))}customTokensValidator(e){return this.shouldDebounceCustomTokensValidation?this.customTokensValidatorDebounced(e):this.customTokensValidatorImpl(e),this.lastCustomTokenValidatorResult??void 0}customTokensValidatorImpl(e){let n=tu(e);this.lastCustomTokenValidatorResult=n===null?k(r=>r.pluginSettingsManager.validation.invalidCustomTokensCode):void 0}};function xy(t,e){return t.replaceAll("${date}",`\${date:${e}}`)}s(xy,"addDateTimeFormat");function eF(t){return t.replaceAll(/^/gm,"// ")}s(eF,"commentOut");function vy(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!th(n))return k(r=>r.pluginSettingsManager.validation.invalidRegularExpression,{regExp:e})}}s(vy,"pathsValidator");var Io=require("obsidian");var sr=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Za(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(W.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();he(r,W.SettingComponentWrapper);for(let i of n)r.appendChild(i);return e.appendChild(r),r}s(Za,"ensureWrapped");var Sy=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Iu=class{static{s(this,"AbstractTextComponentWrapper")}constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function Cy(t){return tF(t)?t:t instanceof Sy.AbstractTextComponent?new Iu(t):null}s(Cy,"getTextBasedComponentValue");function tF(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}s(tF,"isTextBasedComponent");var Qe=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qa=class{static{s(this,"OverlayValidatorComponent")}constructor(e){this.el=e;let n=Za(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),he(this._validatorEl,W.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},Dn=class{static{s(this,"ValidatorElementWrapper")}constructor(e){this.validatorEl=e}};function Ey(t){return nF(t)?t:t instanceof Qe.ColorComponent?new Dn(t.colorPickerEl):t instanceof Qe.DropdownComponent?new Dn(t.selectEl):t instanceof Qe.ProgressBarComponent?new Qa(t.progressBar):t instanceof Qe.SearchComponent?new Dn(t.inputEl):t instanceof Qe.SliderComponent?new Dn(t.sliderEl):t instanceof Qe.TextAreaComponent?new Dn(t.inputEl):t instanceof Qe.TextComponent?new Dn(t.inputEl):t instanceof Qe.ToggleComponent?new Qa(t.toggleEl):null}s(Ey,"getValidatorComponent");function nF(t){return!!t.validatorEl}s(nF,"isValidatorComponent");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Mu="PluginSettingsTab",eo=class extends sr.PluginSettingTab{static{s(this,"PluginSettingsTabBase")}constructor(e){super(e.app,e),this.plugin=e,he(this.containerEl,W.PluginSettingsTab),this.saveSettingsDebounced=(0,sr.debounce)(st(()=>this.plugin.settingsManager.saveToFile(Mu)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new wa,this.asyncEvents=new Ht}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let a={...{componentToPluginSettingsValueConverter:s(N=>N,"componentToPluginSettingsValueConverter"),onChanged:Dt,pluginSettingsToComponentValueConverter:s(N=>N,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},l=Ey(e)?.validatorEl,c=Cy(e),d=this.pluginSettings[n],h=this.plugin.settingsManager.defaultSettings[n],f=a.pluginSettingsToComponentValueConverter(h);c?.setPlaceholderValue(f);let m,y=null,w=null;if(l){let N=Za(l);y=N.createDiv(),he(y,W.Tooltip,W.TooltipValidator),w=y.createSpan();let Y=y.createDiv();he(Y,W.TooltipArrow),y.hide(),N.appendChild(y)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(N,Y)=>{n===N&&(m=Y,T())}));let S=!1,I=!1;c&&a.shouldShowPlaceholderForDefaultValues&&vt(d,h)?c.empty():e.setValue(a.pluginSettingsToComponentValueConverter(d));let E=!1,T=(0,sr.debounce)(()=>{requestAnimationFrame(()=>{O()})},100);return e.onChange(async N=>{if(E){E=!1;return}S=!1;let Y=this.pluginSettings[n],F,Z=!0;if(I=!!c?.isEmpty()&&a.shouldResetSettingWhenComponentIsEmpty,I)F=h;else{let Q=a.componentToPluginSettingsValueConverter(N);cm(Q)?(m=Q.validationMessage,Z=!1):F=Q}Z&&(m=await this.plugin.settingsManager.setProperty(n,F),c&&a.shouldShowPlaceholderForDefaultValues&&!c.isEmpty()&&vt(F,h)&&(S=!0)),T(),Z&&await a.onChanged(F,Y),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{T()}),l?.addEventListener("blur",()=>{T()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{T()})}),m=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",T(),e;function O(){l?.isActiveElement()||(S?(S=!1,c?.isEmpty()||(E=!0,c?.empty())):I&&(I=!1,c?.isEmpty()&&(E=!0,e.setValue(f)))),l&&(m===""&&(l.setCustomValidity(""),l.checkValidity(),m=l.validationMessage),l.setCustomValidity(m),a.shouldShowValidationMessage?(w&&(w.textContent=m),y?.toggle(!!m)):m&&(0,sr.setTooltip)(l,m))}s(O,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),Ae(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(Mu)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Yt()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===Mu){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,r]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,r)}};var Ry=require("obsidian");var Ty=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var to=class extends Ty.ValueComponent{static{s(this,"CheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),he(e,W.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var Gr=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var no=class extends Gr.ValueComponent{static{s(this,"CodeHighlighterComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),he(e,W.CodeHighlighterComponent);let n=e.createDiv();he(n,W.SettingComponentWrapper),this.textAreaComponent=new Gr.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",st(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let i of Array.from(r.classList))i.startsWith(n)&&r.classList.remove(i);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,Ae(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),Ae(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;if(e.preventDefault(),e.ctrlKey||e.metaKey){let f=Array.from(document.querySelectorAll("a, button, input, select, textarea, [tabindex]:not([tabindex=-1]):not(disabled)")),m=f.indexOf(this.inputEl),y=e.shiftKey?-1:1;f[(m+y+f.length)%f.length]?.focus();return}let n=this.getValue(),r=this.inputEl.selectionStart,i=this.inputEl.selectionEnd,a=n.slice(0,r),l=n.slice(i),c=" ".repeat(this.tabSize),d=a;e.shiftKey?a.endsWith(c)&&(d=a.slice(0,-this.tabSize)):d=a+c;let h=`${d}${l}`;this.setValue(h),this.inputEl.selectionStart=d.length,this.inputEl.selectionEnd=d.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,Gr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass(W.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":im(n)}),this.handleScroll()})}};var Ou=We(pn(),1);var ro=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ue=class extends ro.ValueComponent{static{s(this,"TypedTextComponent")}inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new ro.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,he(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var pt=class extends Ue{static{s(this,"TypedRangeTextComponent")}setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Fy="YYYY-MM-DD",io=class extends pt{static{s(this,"DateComponent")}constructor(e){super(e,"date",W.DateComponent)}valueFromString(e){return(0,Ou.default)(e,Fy).toDate()}valueToString(e){return(0,Ou.default)(e).format(Fy)}};var _u=We(pn(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Py="YYYY-MM-DDTHH:mm",so=class extends pt{static{s(this,"DateTimeComponent")}constructor(e){super(e,"datetime-local",W.DateTimeComponent)}valueFromString(e){return(0,_u.default)(e,Py).toDate()}valueToString(e){return(0,_u.default)(e).format(Py)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ao=class extends Ue{static{s(this,"EmailComponent")}constructor(e){super(e,"email",W.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var oo=class extends Ue{static{s(this,"FileComponent")}constructor(e){super(e,"file",W.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var Ru=We(pn(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Iy="YYYY-MM",lo=class extends pt{static{s(this,"MonthComponent")}constructor(e){super(e,"month",W.MonthComponent)}valueFromString(e){let n=(0,Ru.default)(e,Iy);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,Ru.default)().year(e.year).month(e.month-1).format(Iy)}};var co=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var qr=class extends co.ValueComponent{static{s(this,"MultipleDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new co.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,he(e,W.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var uo=class extends Ue{static{s(this,"MultipleEmailComponent")}constructor(e){super(e,"email",W.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ho=class extends Ue{static{s(this,"MultipleFileComponent")}constructor(e){super(e,"file",W.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var fo=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var po=class extends fo.ValueComponent{static{s(this,"MultipleTextComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new fo.TextAreaComponent(e),he(e,W.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var mo=class extends pt{static{s(this,"NumberComponent")}constructor(e){super(e,"number",W.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var go=class extends Ue{static{s(this,"PasswordComponent")}constructor(e){super(e,"password",W.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yo=class extends Ue{static{s(this,"TelephoneComponent")}constructor(e){super(e,"tel",W.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var bo=We(pn(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wo=class extends pt{static{s(this,"TimeComponent")}constructor(e){super(e,"time",W.TimeComponent)}valueFromString(e){return(0,bo.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,bo.utc)(e.asMilliseconds()).format(n)}};var My=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ao=class extends My.ValueComponent{static{s(this,"TriStateCheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),he(e,W.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var vo=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xo=class extends vo.ValueComponent{static{s(this,"TypedDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new vo.DropdownComponent(e),he(e,W.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Oy=require("obsidian");s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ko=class extends Oy.ValueComponent{static{s(this,"TypedMultipleDropdownComponent")}get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new qr(e),he(e,W.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>String(r))),this}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var So=class extends Ue{static{s(this,"UrlComponent")}constructor(e){super(e,"url",W.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Nu=We(pn(),1);s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _y="YYYY-[W]WW",Co=class extends pt{static{s(this,"WeekComponent")}constructor(e){super(e,"week",W.WeekComponent)}valueFromString(e){let n=(0,Nu.default)(e,_y);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,Nu.default)().year(e.year).isoWeek(e.weekNumber).format(_y)}};s((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var me=class extends Ry.Setting{static{s(this,"SettingEx")}addCheckbox(e){return this.addComponent(to,e)}addCodeHighlighter(e){return this.addComponent(no,e)}addComponent(e,n){let r=new e(this.controlEl);return this.components.push(r),n(r),this}addDate(e){return this.addComponent(io,e)}addDateTime(e){return this.addComponent(so,e)}addEmail(e){return this.addComponent(ao,e)}addFile(e){return this.addComponent(oo,e)}addMonth(e){return this.addComponent(lo,e)}addMultipleDropdown(e){return this.addComponent(qr,e)}addMultipleEmail(e){return this.addComponent(uo,e)}addMultipleFile(e){return this.addComponent(ho,e)}addMultipleText(e){return this.addComponent(po,e)}addNumber(e){return this.addComponent(mo,e)}addPassword(e){return this.addComponent(go,e)}addTelephone(e){return this.addComponent(yo,e)}addTime(e){return this.addComponent(wo,e)}addTriStateCheckbox(e){return this.addComponent(Ao,e)}addTypedDropdown(e){return this.addComponent(xo,e)}addTypedMultipleDropdown(e){return this.addComponent(ko,e)}addUrl(e){return this.addComponent(So,e)}addWeek(e){return this.addComponent(Co,e)}};var To=require("obsidian");var Kr="custom-attachment-location-tokenized-string",Eo=class extends To.Component{static{s(this,"PrismComponent")}onload(){super.onload(),Ae(this.initPrism.bind(this))}async initPrism(){let e=await(0,To.loadPrism)();e.languages[Kr]={expression:{greedy:!0,inside:{prefix:{alias:"regex",pattern:/\${/},token:{alias:"number",pattern:/^[a-zA-Z0-9_,]+/},formatDelimiter:{alias:"regex",pattern:/:/},format:{alias:"string",pattern:/[a-zA-Z0-9_,-]+/},suffix:{alias:"regex",pattern:/}/}},pattern:/\${.+?}/},important:{pattern:/^\./},operator:{alias:"entity",pattern:/\//}},this.register(()=>{delete e.languages[Kr]})}};var Fo="\u2423",Po=class extends eo{static{s(this,"PluginSettingsTab")}plugin;_showLocationForNewAttachments;_showGeneratedAttachmentFileName;_showMarkdownUrlFormat;_showAttachmentRenameMode;_showShouldRenameAttachmentFolders;_showShouldRenameAttachmentFiles;_showShouldRenameSpecialCharacters;_showSpecialCharactersReplacement;_showShouldConvertPastedImagesToJpeg;_showJpegQuality;_showShouldRenameCollectedAttachments;showCollectAttachmentUsedByMultipleNotesMode;_showDuplicateNameSeparator;_showShouldDeleteOrphanAttachments;_showExcludePaths;_showIncludePath;_showResetToSampleCustomTokens;_showTreatAsAttachmentExtensions;_showTimeoutSeconds;_showDefaultImageSize;_showEmptyAttachmentFolderBehavior;_showCustomTokens;_showExcludePathsFromAttachmentCollecting;_showHtmlImgAlign;_showHtmlImgWidth;_showHtmlImgStyle;constructor(e){super(e),this.plugin=e,this._showLocationForNewAttachments=null}setupVisible(e){var n=!1,r=!1;e=="markdown"?n=!0:e=="html"&&(r=!0),this._showLocationForNewAttachments?.setVisibility(n||r),this._showGeneratedAttachmentFileName?.setVisibility(n||r),this._showMarkdownUrlFormat?.setVisibility(n),this._showAttachmentRenameMode?.setVisibility(n),this._showShouldRenameAttachmentFolders?.setVisibility(n),this._showShouldRenameAttachmentFiles?.setVisibility(n),this._showShouldRenameSpecialCharacters?.setVisibility(n),this._showSpecialCharactersReplacement?.setVisibility(n),this._showShouldConvertPastedImagesToJpeg?.setVisibility(n),this._showJpegQuality?.setVisibility(n),this._showShouldRenameCollectedAttachments?.setVisibility(n),this.showCollectAttachmentUsedByMultipleNotesMode?.setVisibility(n),this._showDuplicateNameSeparator?.setVisibility(n),this._showShouldDeleteOrphanAttachments?.setVisibility(n),this._showExcludePaths?.setVisibility(n),this._showIncludePath?.setVisibility(n),this._showResetToSampleCustomTokens?.setVisibility(n),this._showTreatAsAttachmentExtensions?.setVisibility(n),this._showTimeoutSeconds?.setVisibility(n),this._showDefaultImageSize?.setVisibility(n),this._showEmptyAttachmentFolderBehavior?.setVisibility(n),this._showCustomTokens?.setVisibility(n),this._showExcludePathsFromAttachmentCollecting?.setVisibility(n),this._showHtmlImgAlign?.setVisibility(r),this._showHtmlImgWidth?.setVisibility(r),this._showHtmlImgStyle?.setVisibility(r)}display(){super.display(),this.containerEl.empty();let e={componentToPluginSettingsValueConverter(i){return(0,Io.normalizePath)(i.trimEnd())},pluginSettingsToComponentValueConverter(i){return i.trimEnd()},shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!1};new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.imageFormat.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.imageFormat.description)),i.createEl("br"),i.appendText("html: "),q(i,'<img src="...">'),i.createEl("br"),i.appendText("markdown: "),q(i,"![...](...)")})).addDropdown(i=>{i.addOptions(sF()).setValue(this.plugin.settings.imageFormat).onChange(async a=>{this.plugin.settingsManager.setProperty("imageFormat",a),this.setupVisible(a)})}),this._showHtmlImgAlign=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.htmlImageFormat.align)).addDropdown(i=>{i.addOption("none","").addOption("left","left").addOption("center","center").addOption("right","right").setValue("").onChange(a=>{this.plugin.settingsManager.setProperty("htmlImageAlign",a)})}),this._showHtmlImgWidth=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.htmlImageFormat.width)).addText(i=>{i.setValue(this.plugin.settings.htmlImageWidth).onChange(a=>{this.plugin.settingsManager.setProperty("htmlImageWidth",a)})}),this._showHtmlImgStyle=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.htmlImageFormat.style)).addText(i=>{i.setValue(this.plugin.settings.htmlImageStyle).onChange(a=>{this.plugin.settingsManager.setProperty("htmlImageStyle",a)})}),this._showLocationForNewAttachments=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.locationForNewAttachments.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.locationForNewAttachments.description.part1)),i.appendText(" "),q(i,"."),i.appendText(" "),i.appendText(k(a=>a.pluginSettingsTab.locationForNewAttachments.description.part2)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.locationForNewAttachments.description.part3)),i.appendText(" "),i.createEl("a",{href:"https://github.com/cnzf1/obsidian-paste-image?tab=readme-ov-file#tokens",text:k(a=>a.pluginSettingsTab.locationForNewAttachments.description.part4)}),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.locationForNewAttachments.description.part5)),i.appendText(" "),q(i,".attachments"),i.appendText(" "),i.appendText(k(a=>a.pluginSettingsTab.locationForNewAttachments.description.part6)),i.appendText(" "),i.createEl("a",{href:"https://github.com/polyipseity/obsidian-show-hidden-files/",text:"Show Hidden Files"}),i.appendText(" "),i.appendText(k(a=>a.pluginSettingsTab.locationForNewAttachments.description.part7))})).addCodeHighlighter(i=>{i.setLanguage(Kr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"attachmentFolderPath",e)}),this._showGeneratedAttachmentFileName=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.generatedAttachmentFileName.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.generatedAttachmentFileName.description.part1)),i.appendText(" "),i.createEl("a",{href:"https://github.com/cnzf1/obsidian-paste-image?tab=readme-ov-file#tokens",text:k(a=>a.pluginSettingsTab.generatedAttachmentFileName.description.part2)}),i.appendText(".")})).addCodeHighlighter(i=>{i.setLanguage(Kr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"generatedAttachmentFileName",e)}),this._showMarkdownUrlFormat=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.markdownUrlFormat.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.markdownUrlFormat.description.part1)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.markdownUrlFormat.description.part2)),i.appendText(" "),i.createEl("a",{href:"https://github.com/cnzf1/obsidian-paste-image?tab=readme-ov-file#tokens",text:k(a=>a.pluginSettingsTab.markdownUrlFormat.description.part3)}),i.appendText("."),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.markdownUrlFormat.description.part4))})).addCodeHighlighter(i=>{i.setLanguage(Kr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"markdownUrlFormat",e)}),this._showAttachmentRenameMode=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.attachmentRenameMode.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.attachmentRenameMode.description.part1)),i.createEl("br"),q(i,k(a=>a.pluginSettings.attachmentRenameMode.none.displayText)),i.appendText(" - "),i.appendText(k(a=>a.pluginSettings.attachmentRenameMode.none.description)),i.createEl("br"),q(i,k(a=>a.pluginSettings.attachmentRenameMode.onlyPastedImages.displayText)),i.appendText(" - "),i.appendText(k(a=>a.pluginSettings.attachmentRenameMode.onlyPastedImages.description)),i.createEl("br"),q(i,k(a=>a.pluginSettings.attachmentRenameMode.all.displayText)),i.appendText(" - "),i.appendText(k(a=>a.pluginSettings.attachmentRenameMode.all.description))})).addDropdown(i=>{i.addOptions({None:k(a=>a.pluginSettings.attachmentRenameMode.none.displayText),"Only pasted images":k(a=>a.pluginSettings.attachmentRenameMode.onlyPastedImages.displayText),All:k(a=>a.pluginSettings.attachmentRenameMode.all.displayText)}),this.bind(i,"attachmentRenameMode")}),this._showShouldRenameAttachmentFolders=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.shouldRenameAttachmentFolders.name)).setDesc(k(i=>i.pluginSettingsTab.shouldRenameAttachmentFolders.description)).addToggle(i=>{this.bind(i,"shouldRenameAttachmentFolder")}),this._showShouldRenameAttachmentFiles=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.shouldRenameAttachmentFiles.name)).setDesc(k(i=>i.pluginSettingsTab.shouldRenameAttachmentFiles.description)).addToggle(i=>{this.bind(i,"shouldRenameAttachmentFiles")}),this._showShouldRenameSpecialCharacters=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.specialCharacters.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.specialCharacters.description.part1)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.specialCharacters.description.part2))})).addText(i=>{this.bind(i,"specialCharacters",{componentToPluginSettingsValueConverter:s(a=>a.replaceAll(Fo,""),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:s(a=>a.replaceAll(" ",Fo),"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!1,shouldShowPlaceholderForDefaultValues:!1}),i.inputEl.addEventListener("input",()=>{i.inputEl.value=Lu(i.inputEl.value)})}),this._showSpecialCharactersReplacement=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.specialCharactersReplacement.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.specialCharactersReplacement.description.part1)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.specialCharactersReplacement.description.part2))})).addText(i=>{this.bind(i,"specialCharactersReplacement",{shouldResetSettingWhenComponentIsEmpty:!1,shouldShowPlaceholderForDefaultValues:!1})}),this._showShouldConvertPastedImagesToJpeg=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.shouldConvertPastedImagesToJpeg.name)).setDesc(k(i=>i.pluginSettingsTab.shouldConvertPastedImagesToJpeg.description)).addToggle(i=>{this.bind(i,"shouldConvertPastedImagesToJpeg")}),this._showJpegQuality=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.jpegQuality.name)).setDesc(k(i=>i.pluginSettingsTab.jpegQuality.description)).addDropdown(i=>{i.addOptions(iF()),this.bind(i,"jpegQuality",{componentToPluginSettingsValueConverter:s(a=>Number(a),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:s(a=>a.toString(),"pluginSettingsToComponentValueConverter")})}),this._showShouldRenameCollectedAttachments=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.shouldRenameCollectedAttachments.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.shouldRenameCollectedAttachments.description.part1)),i.appendText(" "),q(i,k(a=>a.pluginSettingsTab.shouldRenameCollectedAttachments.description.part2)),i.appendText(" "),i.appendText(k(a=>a.pluginSettingsTab.shouldRenameCollectedAttachments.description.part3)),i.appendText(" "),q(i,k(a=>a.pluginSettingsTab.generatedAttachmentFileName.name)),i.appendText(" "),i.appendText(k(a=>a.pluginSettingsTab.shouldRenameCollectedAttachments.description.part4))})).addToggle(i=>{this.bind(i,"shouldRenameCollectedAttachments")}),this.showCollectAttachmentUsedByMultipleNotesMode=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.collectAttachmentUsedByMultipleNotesMode.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.collectAttachmentUsedByMultipleNotesMode.description.part1)),i.createEl("br"),q(i,k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.skip.displayText)),i.appendText(" - "),i.appendText(k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.skip.description)),i.createEl("br"),q(i,k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.move.displayText)),i.appendText(" - "),i.appendText(k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.move.description)),i.createEl("br"),q(i,k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.copy.displayText)),i.appendText(" - "),i.appendText(k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.copy.description)),i.createEl("br"),q(i,k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.cancel.displayText)),i.appendText(" - "),i.appendText(k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.cancel.description)),i.createEl("br"),q(i,k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.prompt.displayText)),i.appendText(" - "),i.appendText(k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.prompt.description))})).addDropdown(i=>{i.addOptions({Skip:k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.skip.displayText),Move:k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.move.displayText),Copy:k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.copy.displayText),Cancel:k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.cancel.displayText),Prompt:k(a=>a.pluginSettings.collectAttachmentUsedByMultipleNotesMode.prompt.displayText)}),this.bind(i,"collectAttachmentUsedByMultipleNotesMode")}),this._showDuplicateNameSeparator=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.duplicateNameSeparator.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.duplicateNameSeparator.description.part1)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.duplicateNameSeparator.description.part2)),i.appendText(" "),q(i,"existingFile.pdf"),i.appendText(k(a=>a.pluginSettingsTab.duplicateNameSeparator.description.part3)),i.appendText(" "),q(i,"existingFile 1.pdf"),i.appendText(", "),q(i,"existingFile 2.pdf"),i.appendText(k(a=>a.pluginSettingsTab.duplicateNameSeparator.description.part4))})).addText(i=>{this.bind(i,"duplicateNameSeparator",{componentToPluginSettingsValueConverter:s(a=>a.replaceAll(Fo," "),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:Lu}),i.inputEl.addEventListener("input",()=>{i.inputEl.value=Lu(i.inputEl.value)})}),this._showEmptyAttachmentFolderBehavior=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.emptyAttachmentFolderBehavior.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.emptyAttachmentFolderBehavior.description.part1)),i.createEl("br"),q(i,k(a=>a.pluginSettings.emptyAttachmentFolderBehavior.keep.displayText)),i.appendText(" - "),i.appendText(k(a=>a.pluginSettings.emptyAttachmentFolderBehavior.keep.description)),i.createEl("br"),q(i,k(a=>a.pluginSettings.emptyAttachmentFolderBehavior.delete.displayText)),i.appendText(" - "),i.appendText(k(a=>a.pluginSettings.emptyAttachmentFolderBehavior.delete.description)),i.createEl("br"),q(i,k(a=>a.pluginSettings.emptyAttachmentFolderBehavior.deleteWithEmptyParents.displayText)),i.appendText(" - "),i.appendText(k(a=>a.pluginSettings.emptyAttachmentFolderBehavior.deleteWithEmptyParents.description))})).addDropdown(i=>{i.addOptions({[Tt.Keep]:k(a=>a.pluginSettings.emptyAttachmentFolderBehavior.keep.displayText),[Tt.Delete]:k(a=>a.pluginSettings.emptyAttachmentFolderBehavior.delete.displayText),[Tt.DeleteWithEmptyParents]:k(a=>a.pluginSettings.emptyAttachmentFolderBehavior.deleteWithEmptyParents.displayText)}),this.bind(i,"emptyAttachmentFolderBehavior")}),this._showShouldDeleteOrphanAttachments=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.shouldDeleteOrphanAttachments.name)).setDesc(k(i=>i.pluginSettingsTab.shouldDeleteOrphanAttachments.description)).addToggle(i=>{this.bind(i,"shouldDeleteOrphanAttachments")}),this._showIncludePath=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.includePaths.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.includePaths.description.part1)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.includePaths.description.part2)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.includePaths.description.part3)),i.appendText(" "),q(i,k(a=>a.regularExpression)),i.appendText("."),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.includePaths.description.part4))})).addMultipleText(i=>{this.bind(i,"includePaths")}),this._showExcludePaths=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.excludePaths.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.excludePaths.description.part1)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.excludePaths.description.part2)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.excludePaths.description.part3)),i.appendText(" "),q(i,k(a=>a.regularExpression)),i.appendText("."),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.excludePaths.description.part4))})).addMultipleText(i=>{this.bind(i,"excludePaths")}),this._showExcludePathsFromAttachmentCollecting=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.excludePathsFromAttachmentCollecting.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part1)),i.appendText(" "),q(i,k(a=>a.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part2)),i.appendText(" "),i.appendText(k(a=>a.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part3)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part4)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part5)),i.appendText(" "),q(i,k(a=>a.regularExpression)),i.appendText("."),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.excludePathsFromAttachmentCollecting.description.part6))})).addMultipleText(i=>{this.bind(i,"excludePathsFromAttachmentCollecting")});let r=(0,Io.debounce)(i=>{Ae(async()=>{Je.registerCustomTokens(i),await this.revalidate()})},2e3);this._showCustomTokens=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.customTokens.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.customTokens.description.part1)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.customTokens.description.part2)),i.appendText(" "),i.createEl("a",{href:"https://github.com/cnzf1/obsidian-paste-image?tab=readme-ov-file#custom-tokens",text:k(a=>a.pluginSettingsTab.customTokens.description.part3)}),i.appendText(" "),i.appendText(k(a=>a.pluginSettingsTab.customTokens.description.part4)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.customTokens.description.part5))})).addCodeHighlighter(i=>{i.setLanguage("javascript"),i.inputEl.addClass("custom-tokens-setting-control"),this.bind(i,"customTokensStr",{onChanged:s(a=>{r(a)},"onChanged")})}),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!0,this._showResetToSampleCustomTokens=new me(this.containerEl).addButton(i=>{i.setButtonText(k(a=>a.pluginSettingsTab.resetToSampleCustomTokens.title)),i.setWarning(),i.onClick(st(async()=>{this.plugin.settings.customTokensStr!==iu&&(this.plugin.settings.customTokensStr!==""&&!await Sa({app:this.plugin.app,cancelButtonText:k(a=>a.obsidianDevUtils.buttons.cancel),message:k(a=>a.pluginSettingsTab.resetToSampleCustomTokens.message),okButtonText:k(a=>a.obsidianDevUtils.buttons.ok),title:k(a=>a.pluginSettingsTab.resetToSampleCustomTokens.title)})||(await this.plugin.settingsManager.editAndSave(a=>{a.customTokensStr=iu}),this.display()))}))}),this._showTreatAsAttachmentExtensions=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.treatAsAttachmentExtensions.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.treatAsAttachmentExtensions.description.part1)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.treatAsAttachmentExtensions.description.part2)),i.appendText(" "),q(i,".md"),i.appendText(", "),q(i,".canvas"),i.appendText(" "),i.appendText(k(a=>a.pluginSettingsTab.treatAsAttachmentExtensions.description.part3)),i.appendText(" "),q(i,".base"),i.appendText(" "),i.appendText(k(a=>a.pluginSettingsTab.treatAsAttachmentExtensions.description.part4)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.treatAsAttachmentExtensions.description.part5)),i.appendText(" "),q(i,".foo.md"),i.appendText(", "),q(i,".bar.canvas"),i.appendText(", "),q(i,".baz.base"),i.appendText(k(a=>a.pluginSettingsTab.treatAsAttachmentExtensions.description.part6))})).addMultipleText(i=>{this.bind(i,"treatAsAttachmentExtensions")}),this._showTimeoutSeconds=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.timeoutInSeconds.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.timeoutInSeconds.description.part1)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.timeoutInSeconds.description.part2)),i.appendText(" "),q(i,"0"),i.appendText(" "),i.appendText(k(a=>a.pluginSettingsTab.timeoutInSeconds.description.part3))})).addNumber(i=>{i.setMin(0),this.bind(i,"timeoutInSeconds")}),this._showDefaultImageSize=new me(this.containerEl).setName(k(i=>i.pluginSettingsTab.defaultImageSize.name)).setDesc(createFragment(i=>{i.appendText(k(a=>a.pluginSettingsTab.defaultImageSize.description.part1)),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.defaultImageSize.description.part2)),i.appendText(" ("),q(i,"300px"),i.appendText(") "),i.appendText(k(a=>a.pluginSettingsTab.defaultImageSize.description.part3)),i.appendText(" ("),q(i,"50%"),i.appendText(")."),i.createEl("br"),i.appendText(k(a=>a.pluginSettingsTab.defaultImageSize.description.part4))})).addText(i=>{this.bind(i,"defaultImageSize")}).addDropdown(i=>{i.selectEl.addClass("default-image-size-dimension-setting-control"),i.addOptions({width:k(a=>a.pluginSettings.defaultImageSizeDimension.width),height:k(a=>a.pluginSettings.defaultImageSizeDimension.height)}),this.bind(i,"defaultImageSizeDimension")}),this.setupVisible(this.plugin.settings.imageFormat)}hide(){super.hide(),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!1}};function iF(){let e={};for(let n=1;n<=10;n++){let r=(n/10).toFixed(1);e[r]=r}return e}s(iF,"generateJpegQualityOptions");function Lu(t){return t.replaceAll(" ",Fo)}s(Lu,"showWhitespaceCharacter");function sF(){let t={};return t.markdown="markdown",t.html="html",t}s(sF,"generateImageFormat");var aF=/Pasted image (?<Timestamp>\d{14})/,oF="YYYYMMDDHHmmss",lF=10,Du="__IMPORT_FILES__",Oo=class extends xa{static{s(this,"Plugin")}arrayBufferFileStatMap=new WeakMap;currentAttachmentFolderPath=null;getAvailablePathForAttachmentsOriginal=null;imageAttachmentSizeMap=new Map;isMarkdownViewPatched=!1;lastOpenFilePath=null;pathMarkdownUrlMap=new Map;replaceSpecialCharacters(e){return this.settings.specialCharacters&&(e=e.replace(this.settings.specialCharactersRegExp,this.settings.specialCharactersReplacement)),e}createSettingsManager(){return new Xa(this)}createSettingsTab(){return new Po(this)}createTranslationsMap(){return Fm}async onLayoutReady(){await super.onLayoutReady(),Je.registerCustomTokens(this.settings.customTokensStr),await this.settingsManager.loadFromFile(!1),Qt(this,this.app.vault,{getAvailablePath:s(()=>this.getAvailablePath.bind(this),"getAvailablePath"),getAvailablePathForAttachments:s(e=>{let n=this;return Object.assign(r,{extended:this.getAvailablePathForAttachments.bind(this)});function r(i,a,l){return e.call(n.app.vault,i,a,l)}},"getAvailablePathForAttachments"),getConfig:s(e=>n=>this.getConfig(e,n),"getConfig")}),Mo.webUtils&&Qt(this,Mo.webUtils,{getPathForFile:s(e=>n=>this.getPathForFile(n,e),"getPathForFile")}),Qt(this,this.app.fileManager,{generateMarkdownLink:s(e=>(n,r,i,a)=>this.generateMarkdownLink(e,n,r,i,a),"generateMarkdownLink")}),Qt(this,gl(this.app.shareReceiver),{importFiles:s(e=>n=>this.importFiles(e,n),"importFiles")}),this.registerPopupDocumentDomEvent("change",this.handleInputFileChange.bind(this),{capture:!0}),await this.handleActiveLeafChange(this.app.workspace.getLeavesOfType(pi.Markdown)[0]??null),this.isMarkdownViewPatched||this.registerEvent(this.app.workspace.on("active-leaf-change",st(this.handleActiveLeafChange.bind(this))))}async onloadImpl(){await super.onloadImpl(),nm(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:s(n=>rr(this,n),"isNote"),isPathIgnored:s(n=>this.settings.isPathIgnored(n),"isPathIgnored"),shouldHandleDeletions:this.settings.shouldDeleteOrphanAttachments,shouldHandleRenames:!0,shouldRenameAttachmentFiles:this.settings.shouldRenameAttachmentFiles,shouldRenameAttachmentFolder:this.settings.shouldRenameAttachmentFolder,shouldUpdateFileNameAliases:!0})),this.addCommand({checkCallback:s(e=>km(this,e),"checkCallback"),id:"collect-attachments-current-note",name:k(e=>e.commands.collectAttachmentsCurrentNote)}),this.addCommand({checkCallback:s(e=>vm(this,e),"checkCallback"),id:"collect-attachments-current-folder",name:k(e=>e.commands.collectAttachmentsCurrentFolder)}),this.addCommand({callback:s(()=>{Sm(this)},"callback"),id:"collect-attachments-entire-vault",name:k(e=>e.commands.collectAttachmentsEntireVault)}),this.registerEvent(this.app.workspace.on("file-menu",this.handleFileMenu.bind(this))),Qt(this,this.app,{saveAttachment:s(()=>(e,n,r)=>this.saveAttachment(e,n,r),"saveAttachment")}),this.addChild(new Eo),this.registerEvent(this.app.workspace.on("file-open",st(this.handleFileOpen.bind(this)))),this.registerEvent(this.app.vault.on("rename",st(this.handleRename.bind(this)))),this.registerEvent(this.app.workspace.on("receive-text-menu",this.handleReceiveTextMenu.bind(this))),this.registerEvent(this.app.workspace.on("receive-files-menu",this.handleReceiveFilesMenu.bind(this)))}async fileArrayBuffer(e,n){let r=await e.call(n);if(this.app.vault.adapter instanceof Ut.FileSystemAdapter){let i=Mo.webUtils.getPathForFile(n);if(await this.setFileStat(r,i))return r}return this.arrayBufferFileStatMap.set(r,{ctime:0,mtime:n.lastModified,size:n.size}),r}generateHtmlImageLink(e){let n=$r(e.path);if(n!==""){var r="<img src='"+n+"'";return this.settings.htmlImageAlign!==""&&(r+=' align="'+this.settings.htmlImageAlign+'"'),this.settings.htmlImageWidth!==""&&(r+=' width="'+this.settings.htmlImageWidth+'"'),this.settings.htmlImageStyle!==""&&(r+=' style="'+this.settings.htmlImageStyle+'"'),r+=" >",r}return""}generateMarkdownLink(e,n,r,i,a){if(a===void 0){let d=this.imageAttachmentSizeMap.get(n.path);d&&(this.imageAttachmentSizeMap.delete(n.path),a=d)}let l=e.call(this.app.fileManager,n,r,i,a);if(this.settings.imageFormat==="html")return this.generateHtmlImageLink(n);if(!this.settings.markdownUrlFormat)return l;let c=this.pathMarkdownUrlMap.get(n.path);return c?($c(l)&&(l=Dc({app:this.app,linkStyle:Nc.Markdown,originalLink:l,sourcePathOrFile:r,targetPathOrFile:n})),Bc(l)?l.replace(/\]\(<.+?>\)/,`](<${c}>)`):l.replace(/\]\(.+?\)/,`](${$r(c)})`)):l}getAvailablePath(e,n){let r=0;for(;;){let i=St(r===0?e:`${e}${this.settings.duplicateNameSeparator}${String(r)}`,n);if(!Gn(this.app,i,!0))return i;r++}}async getAvailablePathForAttachments(e){let{attachmentFileExtension:n,notePathOrFile:r,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:a}=e,{attachmentFileBaseName:l,attachmentFileContent:c,attachmentFileStat:d,shouldSkipGeneratedAttachmentFileName:h}=e;if(l===Jt){c??=new ArrayBuffer(0);let S=Math.trunc(Date.now());d??={ctime:S,mtime:S,size:0}}let f=Le(this.app,r),m=r?ve(this.app,r):void 0,y=e.oldNotePathOrFile?ve(this.app,e.oldNotePathOrFile):void 0;if(l.startsWith(Du)&&(l=br(l,Du),h=!0),f&&this.settings.isPathIgnored(f.path)&&this.getAvailablePathForAttachmentsOriginal)return this.getAvailablePathForAttachmentsOriginal(l,n,f);let w;if(!m||!rr(this,m))w=await xl({app:this.app,attachmentFileBaseName:l,attachmentFileExtension:n,notePathOrFile:r,shouldSkipDuplicateCheck:i??!1,shouldSkipMissingAttachmentFolderCreation:a??!0});else{let S=St(l,n),I=await Ni(this,e.context,m,S,y,c,d),E;if(h)E=S;else{let T=await zr(this,new Je({actionContext:e.context,attachmentFileContent:c,attachmentFileStat:d,noteFilePath:m,oldNoteFilePath:y,originalAttachmentFileName:S,plugin:this}));E=St(T,n)}let C=Pe(I,E);if(i)w=C;else{let T=Ee(C),O=Fe(C,n?`.${n}`:"");w=this.app.vault.getAvailablePath(Pe(T,O),n)}}if(!a){let S=mt(w);await this.app.vault.exists(S)||(await da(this.app,S),this.settings.emptyAttachmentFolderBehavior===Tt.Keep&&await this.app.vault.create(Pe(S,".gitkeep"),""))}return w}getConfig(e,n){return n!=="attachmentFolderPath"||this.currentAttachmentFolderPath===null?e.call(this.app.vault,n):this.currentAttachmentFolderPath}getPathForFile(e,n){let r=e;return r.path?r.path:n(e)}async handleActiveLeafChange(e){if(this.isMarkdownViewPatched||!e||e.view.getViewType()!==pi.Markdown)return;await e.loadIfDeferred();let n=e.view,r=this;Qt(this,gl(n.editMode.clipboardManager),{insertFiles:s(i=>s(function(l){return r.insertFiles(i,this,l)},"insertFilesPatched"),"insertFiles")}),this.isMarkdownViewPatched=!0}handleFileMenu(e,n){n instanceof Ut.TFolder&&e.addItem(r=>{r.setTitle(k(i=>i.menuItems.collectAttachmentsInFolder)).setIcon("download").onClick(()=>Ia(this,n,this.abortSignal))})}async setCurrentAttachmentFolderPath(e,n){if(e===null||this.settings.isPathIgnored(e.path)){this.currentAttachmentFolderPath=null,this.lastOpenFilePath=null;return}e.path!==this.lastOpenFilePath&&(this.lastOpenFilePath=e.path,this.currentAttachmentFolderPath=await Ni(this,"OpenFile",e.path,Jt))}handleInputFileChange(e){if(!(e.target instanceof HTMLInputElement)||e.target.type!=="file")return;let n=this;for(let r of e.target.files??[])Qt(this,r,{arrayBuffer:s(i=>s(function(){return n.fileArrayBuffer(i,this)},"arrayBufferPatched"),"arrayBuffer")})}handleReceiveFilesMenu(e,n){this.handleReceiveMenuItemClick(e,r=>n.map(a=>this.app.fileManager.generateMarkdownLink(a,r.path)).join(`
`))}handleReceiveMenuItemClick(e,n){let r=this.app,i=e.items.find(l=>l instanceof Ut.MenuItem&&!!l.iconEl.querySelector(".lucide-file"));i&&(i.callback=a);function a(){let l=r.workspace.getActiveViewOfType(Ut.MarkdownView);if(!l?.file)return;let c=n(l.file);l.editor.replaceSelection(c)}s(a,"callback")}handleReceiveTextMenu(e,n){this.handleReceiveMenuItemClick(e,()=>n)}async handleRename(e,n){await this.setCurrentAttachmentFolderPath(this.app.workspace.getActiveFile(),!0)}async handleFileOpen(){await this.setCurrentAttachmentFolderPath(this.app.workspace.getActiveFile(),!1)}async importFiles(e,n){for(let r of n){let i=window.Capacitor.convertFileSrc(r.uri),l=await(await fetch(i)).arrayBuffer(),c=new Je({actionContext:"ImportFiles",attachmentFileContent:l,noteFilePath:this.app.workspace.getActiveFile()?.path??"",originalAttachmentFileName:r.name,plugin:this}),d=await zr(this,c),h=ze(r.name).slice(1);r.name=Du+St(d,h)}return e.call(this.app.shareReceiver,n)}async insertFiles(e,n,r){for(let i of r){let a=await i.data;await this.setFileStat(a,i.filepath)}return e.call(n,r)}async saveAttachment(e,n,r){let i=this.app.workspace.getActiveFile();if(!i||this.settings.isPathIgnored(i.path))return await this.saveAttachmentCore(e,n,r);let a=!1,l=aF.exec(e);if(l){let h=l.groups?.Timestamp;if(h){let f=(0,Bu.default)(h,oF);f.isValid()&&(0,Bu.default)().diff(f,"seconds")<lF&&(a=!0)}}a&&n==="png"&&this.settings.shouldConvertPastedImagesToJpeg&&(n="jpg",r=await eh(new Blob([r],{type:"image/png"}),this.settings.jpegQuality));let c=!1;switch(this.settings.attachmentRenameMode){case"All":c=!0;break;case"None":break;case"Only pasted images":c=a;break;default:throw new Error("Invalid attachment rename mode")}c&&(e=await zr(this,new Je({actionContext:"SaveAttachment",attachmentFileContent:r,attachmentFileStat:this.arrayBufferFileStatMap.get(r),noteFilePath:i.path,originalAttachmentFileName:St(e,n),plugin:this})));let d=await this.saveAttachmentCore(e,n,r);if(this.settings.markdownUrlFormat){let h=await new Je({actionContext:"SaveAttachment",attachmentFileContent:r,attachmentFileStat:this.arrayBufferFileStatMap.get(r),generatedAttachmentFileName:d.name,generatedAttachmentFilePath:d.path,noteFilePath:i.path,originalAttachmentFileName:St(e,n),plugin:this}).fillTemplate(this.settings.markdownUrlFormat);this.pathMarkdownUrlMap.set(d.path,h)}else this.pathMarkdownUrlMap.delete(d.path);return d}async saveAttachmentCore(e,n,r){let i=this.app.workspace.getActiveFile(),a=this.arrayBufferFileStatMap.get(r),l=await this.getAvailablePathForAttachments({attachmentFileBaseName:e,attachmentFileContent:r,attachmentFileExtension:n,attachmentFileStat:a,context:"SaveAttachment",notePathOrFile:i,oldAttachmentPathOrFile:St(e,n),shouldSkipDuplicateCheck:!1,shouldSkipGeneratedAttachmentFileName:!0,shouldSkipMissingAttachmentFolderCreation:!1}),c=await Pm(this,n,r);return c!==null&&this.imageAttachmentSizeMap.set(l,c),await this.app.vault.createBinary(l,r,ah({ctime:a?.ctime?Math.trunc(a.ctime):void 0,mtime:a?.mtime?Math.trunc(a.mtime):void 0}))}async setFileStat(e,n){if(!n)return!1;if(this.app.vault.adapter instanceof Ut.FileSystemAdapter){let r=await this.app.vault.adapter.fsPromises.stat(n);return this.arrayBufferFileStatMap.set(e,{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size}),!0}if(this.app.vault.adapter instanceof Ut.CapacitorAdapter){let r=await this.app.vault.adapter.fs.stat(n);return this.arrayBufferFileStatMap.set(e,{ctime:r.ctime??0,mtime:r.mtime??0,size:e.byteLength}),!0}return!1}};var cF=Oo;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/
